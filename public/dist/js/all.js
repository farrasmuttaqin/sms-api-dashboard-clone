!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=!!e&&"length"in e&&e.length,i=fe.type(e);return"function"!==i&&!fe.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function s(e,t,i){if(fe.isFunction(t))return fe.grep(e,function(e,s){return!!t.call(e,s,e)!==i});if(t.nodeType)return fe.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(Te.test(t))return fe.filter(t,e,i);t=fe.filter(t,e)}return fe.grep(e,function(e){return fe.inArray(e,t)>-1!==i})}function r(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function n(e){var t={};return fe.each(e.match(ke)||[],function(e,i){t[i]=!0}),t}function a(){se.addEventListener?(se.removeEventListener("DOMContentLoaded",o),e.removeEventListener("load",o)):(se.detachEvent("onreadystatechange",o),e.detachEvent("onload",o))}function o(){(se.addEventListener||"load"===e.event.type||"complete"===se.readyState)&&(a(),fe.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var s="data-"+t.replace(He,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(s))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Pe.test(i)?fe.parseJSON(i):i)}catch(e){}fe.data(e,t,i)}else i=void 0}return i}function h(e){var t;for(t in e)if(("data"!==t||!fe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function d(e,t,i,s){if(Me(e)){var r,n,a=fe.expando,o=e.nodeType,l=o?fe.cache:e,h=o?e[a]:e[a]&&a;if(h&&l[h]&&(s||l[h].data)||void 0!==i||"string"!=typeof t)return h||(h=o?e[a]=ie.pop()||fe.guid++:a),l[h]||(l[h]=o?{}:{toJSON:fe.noop}),("object"==typeof t||"function"==typeof t)&&(s?l[h]=fe.extend(l[h],t):l[h].data=fe.extend(l[h].data,t)),n=l[h],s||(n.data||(n.data={}),n=n.data),void 0!==i&&(n[fe.camelCase(t)]=i),"string"==typeof t?null==(r=n[t])&&(r=n[fe.camelCase(t)]):r=n,r}}function c(e,t,i){if(Me(e)){var s,r,n=e.nodeType,a=n?fe.cache:e,o=n?e[fe.expando]:fe.expando;if(a[o]){if(t&&(s=i?a[o]:a[o].data)){fe.isArray(t)?t=t.concat(fe.map(t,fe.camelCase)):t in s?t=[t]:(t=fe.camelCase(t),t=t in s?[t]:t.split(" ")),r=t.length;for(;r--;)delete s[t[r]];if(i?!h(s):!fe.isEmptyObject(s))return}(i||(delete a[o].data,h(a[o])))&&(n?fe.cleanData([e],!0):ce.deleteExpando||a!=a.window?delete a[o]:a[o]=void 0)}}}function u(e,t,i,s){var r,n=1,a=20,o=s?function(){return s.cur()}:function(){return fe.css(e,t,"")},l=o(),h=i&&i[3]||(fe.cssNumber[t]?"":"px"),d=(fe.cssNumber[t]||"px"!==h&&+l)&&Be.exec(fe.css(e,t));if(d&&d[3]!==h){h=h||d[3],i=i||[],d=+l||1;do{n=n||".5",d/=n,fe.style(e,t,d+h)}while(n!==(n=o()/l)&&1!==n&&--a)}return i&&(d=+d||+l||0,r=i[1]?d+(i[1]+1)*i[2]:+i[2],s&&(s.unit=h,s.start=d,s.end=r)),r}function f(e){var t=We.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function p(e,t){var i,s,r=0,n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!n)for(n=[],i=e.childNodes||e;null!=(s=i[r]);r++)!t||fe.nodeName(s,t)?n.push(s):fe.merge(n,p(s,t));return void 0===t||t&&fe.nodeName(e,t)?fe.merge([e],n):n}function m(e,t){for(var i,s=0;null!=(i=e[s]);s++)fe._data(i,"globalEval",!t||fe._data(t[s],"globalEval"))}function g(e){ze.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t,i,s,r){for(var n,a,o,l,h,d,c,u=e.length,v=f(t),x=[],y=0;u>y;y++)if((a=e[y])||0===a)if("object"===fe.type(a))fe.merge(x,a.nodeType?[a]:a);else if(Ue.test(a)){for(l=l||v.appendChild(t.createElement("div")),h=(Le.exec(a)||["",""])[1].toLowerCase(),c=Ve[h]||Ve._default,l.innerHTML=c[1]+fe.htmlPrefilter(a)+c[2],n=c[0];n--;)l=l.lastChild;if(!ce.leadingWhitespace&&Re.test(a)&&x.push(t.createTextNode(Re.exec(a)[0])),!ce.tbody)for(a="table"!==h||Ye.test(a)?"<table>"!==c[1]||Ye.test(a)?0:l:l.firstChild,n=a&&a.childNodes.length;n--;)fe.nodeName(d=a.childNodes[n],"tbody")&&!d.childNodes.length&&a.removeChild(d);for(fe.merge(x,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else x.push(t.createTextNode(a));for(l&&v.removeChild(l),ce.appendChecked||fe.grep(p(x,"input"),g),y=0;a=x[y++];)if(s&&fe.inArray(a,s)>-1)r&&r.push(a);else if(o=fe.contains(a.ownerDocument,a),l=p(v.appendChild(a),"script"),o&&m(l),i)for(n=0;a=l[n++];)Fe.test(a.type||"")&&i.push(a);return l=null,v}function x(){return!0}function y(){return!1}function w(){try{return se.activeElement}catch(e){}}function b(e,t,i,s,r,n){var a,o;if("object"==typeof t){"string"!=typeof i&&(s=s||i,i=void 0);for(o in t)b(e,o,i,s,t[o],n);return e}if(null==s&&null==r?(r=i,s=i=void 0):null==r&&("string"==typeof i?(r=s,s=void 0):(r=s,s=i,i=void 0)),!1===r)r=y;else if(!r)return e;return 1===n&&(a=r,r=function(e){return fe().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=fe.guid++)),e.each(function(){fe.event.add(this,t,r,s,i)})}function _(e,t){return fe.nodeName(e,"table")&&fe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function T(e){return e.type=(null!==fe.find.attr(e,"type"))+"/"+e.type,e}function j(e){var t=st.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){if(1===t.nodeType&&fe.hasData(e)){var i,s,r,n=fe._data(e),a=fe._data(t,n),o=n.events;if(o){delete a.handle,a.events={};for(i in o)for(s=0,r=o[i].length;r>s;s++)fe.event.add(t,i,o[i][s])}a.data&&(a.data=fe.extend({},a.data))}}function S(e,t){var i,s,r;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ce.noCloneEvent&&t[fe.expando]){r=fe._data(t);for(s in r.events)fe.removeEvent(t,s,r.handle);t.removeAttribute(fe.expando)}"script"===i&&t.text!==e.text?(T(t).text=e.text,j(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ce.html5Clone&&e.innerHTML&&!fe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&ze.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function q(e,t,i,s){t=ne.apply([],t);var r,n,a,o,l,h,d=0,c=e.length,u=c-1,f=t[0],m=fe.isFunction(f);if(m||c>1&&"string"==typeof f&&!ce.checkClone&&it.test(f))return e.each(function(r){var n=e.eq(r);m&&(t[0]=f.call(this,r,n.html())),q(n,t,i,s)});if(c&&(h=v(t,e[0].ownerDocument,!1,e,s),r=h.firstChild,1===h.childNodes.length&&(h=r),r||s)){for(o=fe.map(p(h,"script"),T),a=o.length;c>d;d++)n=h,d!==u&&(n=fe.clone(n,!0,!0),a&&fe.merge(o,p(n,"script"))),i.call(e[d],n,d);if(a)for(l=o[o.length-1].ownerDocument,fe.map(o,j),d=0;a>d;d++)n=o[d],Fe.test(n.type||"")&&!fe._data(n,"globalEval")&&fe.contains(l,n)&&(n.src?fe._evalUrl&&fe._evalUrl(n.src):fe.globalEval((n.text||n.textContent||n.innerHTML||"").replace(rt,"")));h=r=null}return e}function k(e,t,i){for(var s,r=t?fe.filter(t,e):e,n=0;null!=(s=r[n]);n++)i||1!==s.nodeType||fe.cleanData(p(s)),s.parentNode&&(i&&fe.contains(s.ownerDocument,s)&&m(p(s,"script")),s.parentNode.removeChild(s));return e}function D(e,t){var i=fe(t.createElement(e)).appendTo(t.body),s=fe.css(i[0],"display");return i.detach(),s}function I(e){var t=se,i=lt[e];return i||(i=D(e,t),"none"!==i&&i||(ot=(ot||fe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(ot[0].contentWindow||ot[0].contentDocument).document,t.write(),t.close(),i=D(e,t),ot.detach()),lt[e]=i),i}function M(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function P(e){if(e in Tt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=_t.length;i--;)if((e=_t[i]+t)in Tt)return e}function H(e,t){for(var i,s,r,n=[],a=0,o=e.length;o>a;a++)s=e[a],s.style&&(n[a]=fe._data(s,"olddisplay"),i=s.style.display,t?(n[a]||"none"!==i||(s.style.display=""),""===s.style.display&&Oe(s)&&(n[a]=fe._data(s,"olddisplay",I(s.nodeName)))):(r=Oe(s),(i&&"none"!==i||!r)&&fe._data(s,"olddisplay",r?i:fe.css(s,"display"))));for(a=0;o>a;a++)s=e[a],s.style&&(t&&"none"!==s.style.display&&""!==s.style.display||(s.style.display=t?n[a]||"":"none"));return e}function A(e,t,i){var s=yt.exec(t);return s?Math.max(0,s[1]-(i||0))+(s[2]||"px"):t}function B(e,t,i,s,r){for(var n=i===(s?"border":"content")?4:"width"===t?1:0,a=0;4>n;n+=2)"margin"===i&&(a+=fe.css(e,i+Ne[n],!0,r)),s?("content"===i&&(a-=fe.css(e,"padding"+Ne[n],!0,r)),"margin"!==i&&(a-=fe.css(e,"border"+Ne[n]+"Width",!0,r))):(a+=fe.css(e,"padding"+Ne[n],!0,r),"padding"!==i&&(a+=fe.css(e,"border"+Ne[n]+"Width",!0,r)));return a}function N(t,i,s){var r=!0,n="width"===i?t.offsetWidth:t.offsetHeight,a=ft(t),o=ce.boxSizing&&"border-box"===fe.css(t,"boxSizing",!1,a);if(se.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(n=Math.round(100*t.getBoundingClientRect()[i])),0>=n||null==n){if(n=pt(t,i,a),(0>n||null==n)&&(n=t.style[i]),dt.test(n))return n;r=o&&(ce.boxSizingReliable()||n===t.style[i]),n=parseFloat(n)||0}return n+B(t,i,s||(o?"border":"content"),r,a)+"px"}function O(e,t,i,s,r){return new O.prototype.init(e,t,i,s,r)}function E(){return e.setTimeout(function(){jt=void 0}),jt=fe.now()}function z(e,t){var i,s={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)i=Ne[r],s["margin"+i]=s["padding"+i]=e;return t&&(s.opacity=s.width=e),s}function L(e,t,i){for(var s,r=(W.tweeners[t]||[]).concat(W.tweeners["*"]),n=0,a=r.length;a>n;n++)if(s=r[n].call(i,t,e))return s}function F(e,t,i){var s,r,n,a,o,l,h,d=this,c={},u=e.style,f=e.nodeType&&Oe(e),p=fe._data(e,"fxshow");i.queue||(o=fe._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,fe.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],h=fe.css(e,"display"),"inline"===("none"===h?fe._data(e,"olddisplay")||I(e.nodeName):h)&&"none"===fe.css(e,"float")&&(ce.inlineBlockNeedsLayout&&"inline"!==I(e.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",ce.shrinkWrapBlocks()||d.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(s in t)if(r=t[s],St.exec(r)){if(delete t[s],n=n||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||void 0===p[s])continue;f=!0}c[s]=p&&p[s]||fe.style(e,s)}else h=void 0;if(fe.isEmptyObject(c))"inline"===("none"===h?I(e.nodeName):h)&&(u.display=h);else{p?"hidden"in p&&(f=p.hidden):p=fe._data(e,"fxshow",{}),n&&(p.hidden=!f),f?fe(e).show():d.done(function(){fe(e).hide()}),d.done(function(){var t;fe._removeData(e,"fxshow");for(t in c)fe.style(e,t,c[t])});for(s in c)a=L(f?p[s]:0,s,d),s in p||(p[s]=a.start,f&&(a.end=a.start,a.start="width"===s||"height"===s?1:0))}}function R(e,t){var i,s,r,n,a;for(i in e)if(s=fe.camelCase(i),r=t[s],n=e[i],fe.isArray(n)&&(r=n[1],n=e[i]=n[0]),i!==s&&(e[s]=n,delete e[i]),(a=fe.cssHooks[s])&&"expand"in a){n=a.expand(n),delete e[s];for(i in n)i in e||(e[i]=n[i],t[i]=r)}else t[s]=r}function W(e,t,i){var s,r,n=0,a=W.prefilters.length,o=fe.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=jt||E(),i=Math.max(0,h.startTime+h.duration-t),s=i/h.duration||0,n=1-s,a=0,l=h.tweens.length;l>a;a++)h.tweens[a].run(n);return o.notifyWith(e,[h,n,i]),1>n&&l?i:(o.resolveWith(e,[h]),!1)},h=o.promise({elem:e,props:fe.extend({},t),opts:fe.extend(!0,{specialEasing:{},easing:fe.easing._default},i),originalProperties:t,originalOptions:i,startTime:jt||E(),duration:i.duration,tweens:[],createTween:function(t,i){var s=fe.Tween(e,h.opts,t,i,h.opts.specialEasing[t]||h.opts.easing);return h.tweens.push(s),s},stop:function(t){var i=0,s=t?h.tweens.length:0;if(r)return this;for(r=!0;s>i;i++)h.tweens[i].run(1);return t?(o.notifyWith(e,[h,1,0]),o.resolveWith(e,[h,t])):o.rejectWith(e,[h,t]),this}}),d=h.props;for(R(d,h.opts.specialEasing);a>n;n++)if(s=W.prefilters[n].call(h,e,d,h.opts))return fe.isFunction(s.stop)&&(fe._queueHooks(h.elem,h.opts.queue).stop=fe.proxy(s.stop,s)),s;return fe.map(d,L,h),fe.isFunction(h.opts.start)&&h.opts.start.call(e,h),fe.fx.timer(fe.extend(l,{elem:e,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function V(e){return fe.attr(e,"class")||""}function U(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var s,r=0,n=t.toLowerCase().match(ke)||[];if(fe.isFunction(i))for(;s=n[r++];)"+"===s.charAt(0)?(s=s.slice(1)||"*",(e[s]=e[s]||[]).unshift(i)):(e[s]=e[s]||[]).push(i)}}function Y(e,t,i,s){function r(o){var l;return n[o]=!0,fe.each(e[o]||[],function(e,o){var h=o(t,i,s);return"string"!=typeof h||a||n[h]?a?!(l=h):void 0:(t.dataTypes.unshift(h),r(h),!1)}),l}var n={},a=e===Xt;return r(t.dataTypes[0])||!n["*"]&&r("*")}function G(e,t){var i,s,r=fe.ajaxSettings.flatOptions||{};for(s in t)void 0!==t[s]&&((r[s]?e:i||(i={}))[s]=t[s]);return i&&fe.extend(!0,e,i),e}function $(e,t,i){for(var s,r,n,a,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in o)if(o[a]&&o[a].test(r)){l.unshift(a);break}if(l[0]in i)n=l[0];else{for(a in i){if(!l[0]||e.converters[a+" "+l[0]]){n=a;break}s||(s=a)}n=n||s}return n?(n!==l[0]&&l.unshift(n),i[n]):void 0}function K(e,t,i,s){var r,n,a,o,l,h={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)h[a.toLowerCase()]=e.converters[a];for(n=d.shift();n;)if(e.responseFields[n]&&(i[e.responseFields[n]]=t),!l&&s&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=n,n=d.shift())if("*"===n)n=l;else if("*"!==l&&l!==n){if(!(a=h[l+" "+n]||h["* "+n]))for(r in h)if(o=r.split(" "),o[1]===n&&(a=h[l+" "+o[0]]||h["* "+o[0]])){!0===a?a=h[r]:!0!==h[r]&&(n=o[0],d.unshift(o[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+n}}}return{state:"success",data:t}}function X(e){return e.style&&e.style.display||fe.css(e,"display")}function J(e){for(;e&&1===e.nodeType;){if("none"===X(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function Z(e,t,i,s){var r;if(fe.isArray(t))fe.each(t,function(t,r){i||ti.test(e)?s(e,r):Z(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,s)});else if(i||"object"!==fe.type(t))s(e,t);else for(r in t)Z(e+"["+r+"]",t[r],i,s)}function Q(){try{return new e.XMLHttpRequest}catch(e){}}function ee(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function te(e){return fe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ie=[],se=e.document,re=ie.slice,ne=ie.concat,ae=ie.push,oe=ie.indexOf,le={},he=le.toString,de=le.hasOwnProperty,ce={},ue="1.12.0",fe=function(e,t){return new fe.fn.init(e,t)},pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,me=/^-ms-/,ge=/-([\da-z])/gi,ve=function(e,t){return t.toUpperCase()};fe.fn=fe.prototype={jquery:ue,constructor:fe,selector:"",length:0,toArray:function(){return re.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:re.call(this)},pushStack:function(e){var t=fe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return fe.each(this,e)},map:function(e){return this.pushStack(fe.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:ae,sort:ie.sort,splice:ie.splice},fe.extend=fe.fn.extend=function(){var e,t,i,s,r,n,a=arguments[0]||{},o=1,l=arguments.length,h=!1;for("boolean"==typeof a&&(h=a,a=arguments[o]||{},o++),"object"==typeof a||fe.isFunction(a)||(a={}),o===l&&(a=this,o--);l>o;o++)if(null!=(r=arguments[o]))for(s in r)e=a[s],i=r[s],a!==i&&(h&&i&&(fe.isPlainObject(i)||(t=fe.isArray(i)))?(t?(t=!1,n=e&&fe.isArray(e)?e:[]):n=e&&fe.isPlainObject(e)?e:{},a[s]=fe.extend(h,n,i)):void 0!==i&&(a[s]=i));return a},fe.extend({expando:"jQuery"+(ue+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===fe.type(e)},isArray:Array.isArray||function(e){return"array"===fe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!fe.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==fe.type(e)||e.nodeType||fe.isWindow(e))return!1;try{if(e.constructor&&!de.call(e,"constructor")&&!de.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!ce.ownFirst)for(t in e)return de.call(e,t);for(t in e);return void 0===t||de.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?le[he.call(e)]||"object":typeof e},globalEval:function(t){t&&fe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(me,"ms-").replace(ge,ve)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var s,r=0;if(i(e))for(s=e.length;s>r&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){var s=t||[];return null!=e&&(i(Object(e))?fe.merge(s,"string"==typeof e?[e]:e):ae.call(s,e)),s},inArray:function(e,t,i){var s;if(t){if(oe)return oe.call(t,e,i);for(s=t.length,i=i?0>i?Math.max(0,s+i):i:0;s>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,s=0,r=e.length;i>s;)e[r++]=t[s++];if(i!==i)for(;void 0!==t[s];)e[r++]=t[s++];return e.length=r,e},grep:function(e,t,i){for(var s=[],r=0,n=e.length,a=!i;n>r;r++)!t(e[r],r)!==a&&s.push(e[r]);return s},map:function(e,t,s){var r,n,a=0,o=[];if(i(e))for(r=e.length;r>a;a++)null!=(n=t(e[a],a,s))&&o.push(n);else for(a in e)null!=(n=t(e[a],a,s))&&o.push(n);return ne.apply([],o)},guid:1,proxy:function(e,t){var i,s,r;return"string"==typeof t&&(r=e[t],t=e,e=r),fe.isFunction(e)?(i=re.call(arguments,2),s=function(){return e.apply(t||this,i.concat(re.call(arguments)))},s.guid=e.guid=e.guid||fe.guid++,s):void 0},now:function(){return+new Date},support:ce}),"function"==typeof Symbol&&(fe.fn[Symbol.iterator]=ie[Symbol.iterator]),fe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){le["[object "+t+"]"]=t.toLowerCase()});var xe=function(e){function t(e,t,i,s){var r,n,a,o,h,c,u,f,p=t&&t.ownerDocument,m=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return i;if(!s&&((t?t.ownerDocument||t:E)!==I&&D(t),t=t||I,P)){if(11!==m&&(c=me.exec(e)))if(r=c[1]){if(9===m){if(!(a=t.getElementById(r)))return i;if(a.id===r)return i.push(a),i}else if(p&&(a=p.getElementById(r))&&N(t,a)&&a.id===r)return i.push(a),i}else{if(c[2])return X.apply(i,t.getElementsByTagName(e)),i;if((r=c[3])&&y.getElementsByClassName&&t.getElementsByClassName)return X.apply(i,t.getElementsByClassName(r)),i}if(y.qsa&&!W[e+" "]&&(!H||!H.test(e))){if(1!==m)p=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((o=t.getAttribute("id"))?o=o.replace(ve,"\\$&"):t.setAttribute("id",o=O),u=T(e),n=u.length,h=de.test(o)?"#"+o:"[id='"+o+"']";n--;)u[n]=h+" "+d(u[n]);f=u.join(","),p=ge.test(e)&&l(t.parentNode)||t}if(f)try{return X.apply(i,p.querySelectorAll(f)),i}catch(e){}finally{o===O&&t.removeAttribute("id")}}}return C(e.replace(ne,"$1"),t,i,s)}function i(){function e(i,s){return t.push(i+" ")>w.cacheLength&&delete e[t.shift()],e[i+" "]=s}var t=[];return e}function s(e){return e[O]=!0,e}function r(e){var t=I.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function n(e,t){for(var i=e.split("|"),s=i.length;s--;)w.attrHandle[i[s]]=t}function a(e,t){var i=t&&e,s=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(s)return s;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function o(e){return s(function(t){return t=+t,s(function(i,s){for(var r,n=e([],i.length,t),a=n.length;a--;)i[r=n[a]]&&(i[r]=!(s[r]=i[r]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function h(){}function d(e){for(var t=0,i=e.length,s="";i>t;t++)s+=e[t].value;return s}function c(e,t,i){var s=t.dir,r=i&&"parentNode"===s,n=L++;return t.first?function(t,i,n){for(;t=t[s];)if(1===t.nodeType||r)return e(t,i,n)}:function(t,i,a){var o,l,h,d=[z,n];if(a){for(;t=t[s];)if((1===t.nodeType||r)&&e(t,i,a))return!0}else for(;t=t[s];)if(1===t.nodeType||r){if(h=t[O]||(t[O]={}),l=h[t.uniqueID]||(h[t.uniqueID]={}),(o=l[s])&&o[0]===z&&o[1]===n)return d[2]=o[2];if(l[s]=d,d[2]=e(t,i,a))return!0}}}function u(e){return e.length>1?function(t,i,s){for(var r=e.length;r--;)if(!e[r](t,i,s))return!1;return!0}:e[0]}function f(e,i,s){for(var r=0,n=i.length;n>r;r++)t(e,i[r],s);return s}function p(e,t,i,s,r){for(var n,a=[],o=0,l=e.length,h=null!=t;l>o;o++)(n=e[o])&&(!i||i(n,s,r))&&(a.push(n),h&&t.push(o));return a}function m(e,t,i,r,n,a){return r&&!r[O]&&(r=m(r)),n&&!n[O]&&(n=m(n,a)),s(function(s,a,o,l){var h,d,c,u=[],m=[],g=a.length,v=s||f(t||"*",o.nodeType?[o]:o,[]),x=!e||!s&&t?v:p(v,u,e,o,l),y=i?n||(s?e:g||r)?[]:a:x;if(i&&i(x,y,o,l),r)for(h=p(y,m),r(h,[],o,l),d=h.length;d--;)(c=h[d])&&(y[m[d]]=!(x[m[d]]=c));if(s){if(n||e){if(n){for(h=[],d=y.length;d--;)(c=y[d])&&h.push(x[d]=c);n(null,y=[],h,l)}for(d=y.length;d--;)(c=y[d])&&(h=n?Z(s,c):u[d])>-1&&(s[h]=!(a[h]=c))}}else y=p(y===a?y.splice(g,y.length):y),n?n(null,a,y,l):X.apply(a,y)})}function g(e){for(var t,i,s,r=e.length,n=w.relative[e[0].type],a=n||w.relative[" "],o=n?1:0,l=c(function(e){return e===t},a,!0),h=c(function(e){return Z(t,e)>-1},a,!0),f=[function(e,i,s){var r=!n&&(s||i!==S)||((t=i).nodeType?l(e,i,s):h(e,i,s));return t=null,r}];r>o;o++)if(i=w.relative[e[o].type])f=[c(u(f),i)];else{if(i=w.filter[e[o].type].apply(null,e[o].matches),i[O]){for(s=++o;r>s&&!w.relative[e[s].type];s++);return m(o>1&&u(f),o>1&&d(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(ne,"$1"),i,s>o&&g(e.slice(o,s)),r>s&&g(e=e.slice(s)),r>s&&d(e))}f.push(i)}return u(f)}function v(e,i){var r=i.length>0,n=e.length>0,a=function(s,a,o,l,h){var d,c,u,f=0,m="0",g=s&&[],v=[],x=S,y=s||n&&w.find.TAG("*",h),b=z+=null==x?1:Math.random()||.1,_=y.length;for(h&&(S=a===I||a||h);m!==_&&null!=(d=y[m]);m++){if(n&&d){for(c=0,a||d.ownerDocument===I||(D(d),o=!P);u=e[c++];)if(u(d,a||I,o)){l.push(d);break}h&&(z=b)}r&&((d=!u&&d)&&f--,s&&g.push(d))}if(f+=m,r&&m!==f){for(c=0;u=i[c++];)u(g,v,a,o);if(s){if(f>0)for(;m--;)g[m]||v[m]||(v[m]=$.call(l));v=p(v)}X.apply(l,v),h&&!s&&v.length>0&&f+i.length>1&&t.uniqueSort(l)}return h&&(z=b,S=x),g};return r?s(a):a}var x,y,w,b,_,T,j,C,S,q,k,D,I,M,P,H,A,B,N,O="sizzle"+1*new Date,E=e.document,z=0,L=0,F=i(),R=i(),W=i(),V=function(e,t){return e===t&&(k=!0),0},U=1<<31,Y={}.hasOwnProperty,G=[],$=G.pop,K=G.push,X=G.push,J=G.slice,Z=function(e,t){for(var i=0,s=e.length;s>i;i++)if(e[i]===t)return i;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",se=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",re=new RegExp(ee+"+","g"),ne=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),oe=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),he=new RegExp(se),de=new RegExp("^"+te+"$"),ce={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},ue=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,pe=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,ve=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ye=function(e,t,i){var s="0x"+t-65536;return s!==s||i?t:0>s?String.fromCharCode(s+65536):String.fromCharCode(s>>10|55296,1023&s|56320)},we=function(){D()};try{X.apply(G=J.call(E.childNodes),E.childNodes),G[E.childNodes.length].nodeType}catch(e){X={apply:G.length?function(e,t){K.apply(e,J.call(t))}:function(e,t){for(var i=e.length,s=0;e[i++]=t[s++];);e.length=i-1}}}y=t.support={},_=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},D=t.setDocument=function(e){var t,i,s=e?e.ownerDocument||e:E;return s!==I&&9===s.nodeType&&s.documentElement?(I=s,M=I.documentElement,P=!_(I),(i=I.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",we,!1):i.attachEvent&&i.attachEvent("onunload",we)),y.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),y.getElementsByTagName=r(function(e){return e.appendChild(I.createComment("")),!e.getElementsByTagName("*").length}),y.getElementsByClassName=pe.test(I.getElementsByClassName),y.getById=r(function(e){return M.appendChild(e).id=O,!I.getElementsByName||!I.getElementsByName(O).length}),y.getById?(w.find.ID=function(e,t){if(void 0!==t.getElementById&&P){var i=t.getElementById(e);return i?[i]:[]}},w.filter.ID=function(e){var t=e.replace(xe,ye);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(xe,ye);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),w.find.TAG=y.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):y.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,s=[],r=0,n=t.getElementsByTagName(e);if("*"===e){for(;i=n[r++];)1===i.nodeType&&s.push(i);return s}return n},w.find.CLASS=y.getElementsByClassName&&function(e,t){return void 0!==t.getElementsByClassName&&P?t.getElementsByClassName(e):void 0},A=[],H=[],(y.qsa=pe.test(I.querySelectorAll))&&(r(function(e){M.appendChild(e).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&H.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||H.push("\\["+ee+"*(?:value|"+Q+")"),e.querySelectorAll("[id~="+O+"-]").length||H.push("~="),e.querySelectorAll(":checked").length||H.push(":checked"),e.querySelectorAll("a#"+O+"+*").length||H.push(".#.+[+~]")}),r(function(e){var t=I.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&H.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(y.matchesSelector=pe.test(B=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&r(function(e){y.disconnectedMatch=B.call(e,"div"),B.call(e,"[s!='']:x"),A.push("!=",se)}),H=H.length&&new RegExp(H.join("|")),A=A.length&&new RegExp(A.join("|")),t=pe.test(M.compareDocumentPosition),N=t||pe.test(M.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,s=t&&t.parentNode;return e===s||!(!s||1!==s.nodeType||!(i.contains?i.contains(s):e.compareDocumentPosition&&16&e.compareDocumentPosition(s)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return k=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!y.sortDetached&&t.compareDocumentPosition(e)===i?e===I||e.ownerDocument===E&&N(E,e)?-1:t===I||t.ownerDocument===E&&N(E,t)?1:q?Z(q,e)-Z(q,t):0:4&i?-1:1)}:function(e,t){if(e===t)return k=!0,0;var i,s=0,r=e.parentNode,n=t.parentNode,o=[e],l=[t];if(!r||!n)return e===I?-1:t===I?1:r?-1:n?1:q?Z(q,e)-Z(q,t):0;if(r===n)return a(e,t);for(i=e;i=i.parentNode;)o.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;o[s]===l[s];)s++;return s?a(o[s],l[s]):o[s]===E?-1:l[s]===E?1:0},I):I},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==I&&D(e),i=i.replace(le,"='$1']"),y.matchesSelector&&P&&!W[i+" "]&&(!A||!A.test(i))&&(!H||!H.test(i)))try{var s=B.call(e,i);if(s||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return s}catch(e){}return t(i,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&D(e),N(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&D(e);var i=w.attrHandle[t.toLowerCase()],s=i&&Y.call(w.attrHandle,t.toLowerCase())?i(e,t,!P):void 0;return void 0!==s?s:y.attributes||!P?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],s=0,r=0;if(k=!y.detectDuplicates,q=!y.sortStable&&e.slice(0),e.sort(V),k){for(;t=e[r++];)t===e[r]&&(s=i.push(r));for(;s--;)e.splice(i[s],1)}return q=null,e},b=t.getText=function(e){var t,i="",s=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=b(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[s++];)i+=b(t);return i},w=t.selectors={cacheLength:50,createPseudo:s,match:ce,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,ye),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,ye),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return ce.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&he.test(i)&&(t=T(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,ye).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=F[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&F(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,s){return function(r){var n=t.attr(r,e);return null==n?"!="===i:!i||(n+="","="===i?n===s:"!="===i?n!==s:"^="===i?s&&0===n.indexOf(s):"*="===i?s&&n.indexOf(s)>-1:"$="===i?s&&n.slice(-s.length)===s:"~="===i?(" "+n.replace(re," ")+" ").indexOf(s)>-1:"|="===i&&(n===s||n.slice(0,s.length+1)===s+"-"))}},CHILD:function(e,t,i,s,r){var n="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===s&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var h,d,c,u,f,p,m=n!==a?"nextSibling":"previousSibling",g=t.parentNode,v=o&&t.nodeName.toLowerCase(),x=!l&&!o,y=!1;if(g){if(n){for(;m;){for(u=t;u=u[m];)if(o?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&x){for(u=g,c=u[O]||(u[O]={}),d=c[u.uniqueID]||(c[u.uniqueID]={}),h=d[e]||[],f=h[0]===z&&h[1],y=f&&h[2],u=f&&g.childNodes[f];u=++f&&u&&u[m]||(y=f=0)||p.pop();)if(1===u.nodeType&&++y&&u===t){d[e]=[z,f,y];break}}else if(x&&(u=t,c=u[O]||(u[O]={}),d=c[u.uniqueID]||(c[u.uniqueID]={}),h=d[e]||[],f=h[0]===z&&h[1],y=f),
!1===y)for(;(u=++f&&u&&u[m]||(y=f=0)||p.pop())&&((o?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++y||(x&&(c=u[O]||(u[O]={}),d=c[u.uniqueID]||(c[u.uniqueID]={}),d[e]=[z,y]),u!==t)););return(y-=r)===s||y%s==0&&y/s>=0}}},PSEUDO:function(e,i){var r,n=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return n[O]?n(i):n.length>1?(r=[e,e,"",i],w.setFilters.hasOwnProperty(e.toLowerCase())?s(function(e,t){for(var s,r=n(e,i),a=r.length;a--;)s=Z(e,r[a]),e[s]=!(t[s]=r[a])}):function(e){return n(e,0,r)}):n}},pseudos:{not:s(function(e){var t=[],i=[],r=j(e.replace(ne,"$1"));return r[O]?s(function(e,t,i,s){for(var n,a=r(e,null,s,[]),o=e.length;o--;)(n=a[o])&&(e[o]=!(t[o]=n))}):function(e,s,n){return t[0]=e,r(t,null,n,i),t[0]=null,!i.pop()}}),has:s(function(e){return function(i){return t(e,i).length>0}}),contains:s(function(e){return e=e.replace(xe,ye),function(t){return(t.textContent||t.innerText||b(t)).indexOf(e)>-1}}),lang:s(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,ye).toLowerCase(),function(t){var i;do{if(i=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return fe.test(e.nodeName)},input:function(e){return ue.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,i){return[0>i?i+t:i]}),even:o(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:o(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:o(function(e,t,i){for(var s=0>i?i+t:i;--s>=0;)e.push(s);return e}),gt:o(function(e,t,i){for(var s=0>i?i+t:i;++s<t;)e.push(s);return e})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=function(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}(x);return h.prototype=w.filters=w.pseudos,w.setFilters=new h,T=t.tokenize=function(e,i){var s,r,n,a,o,l,h,d=R[e+" "];if(d)return i?0:d.slice(0);for(o=e,l=[],h=w.preFilter;o;){(!s||(r=ae.exec(o)))&&(r&&(o=o.slice(r[0].length)||o),l.push(n=[])),s=!1,(r=oe.exec(o))&&(s=r.shift(),n.push({value:s,type:r[0].replace(ne," ")}),o=o.slice(s.length));for(a in w.filter)!(r=ce[a].exec(o))||h[a]&&!(r=h[a](r))||(s=r.shift(),n.push({value:s,type:a,matches:r}),o=o.slice(s.length));if(!s)break}return i?o.length:o?t.error(e):R(e,l).slice(0)},j=t.compile=function(e,t){var i,s=[],r=[],n=W[e+" "];if(!n){for(t||(t=T(e)),i=t.length;i--;)n=g(t[i]),n[O]?s.push(n):r.push(n);n=W(e,v(r,s)),n.selector=e}return n},C=t.select=function(e,t,i,s){var r,n,a,o,h,c="function"==typeof e&&e,u=!s&&T(e=c.selector||e);if(i=i||[],1===u.length){if(n=u[0]=u[0].slice(0),n.length>2&&"ID"===(a=n[0]).type&&y.getById&&9===t.nodeType&&P&&w.relative[n[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(xe,ye),t)||[])[0]))return i;c&&(t=t.parentNode),e=e.slice(n.shift().value.length)}for(r=ce.needsContext.test(e)?0:n.length;r--&&(a=n[r],!w.relative[o=a.type]);)if((h=w.find[o])&&(s=h(a.matches[0].replace(xe,ye),ge.test(n[0].type)&&l(t.parentNode)||t))){if(n.splice(r,1),!(e=s.length&&d(n)))return X.apply(i,s),i;break}}return(c||j(e,u))(s,t,!P,i,!t||ge.test(e)&&l(t.parentNode)||t),i},y.sortStable=O.split("").sort(V).join("")===O,y.detectDuplicates=!!k,D(),y.sortDetached=r(function(e){return 1&e.compareDocumentPosition(I.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||n("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),y.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||n("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||n(Q,function(e,t,i){var s;return i?void 0:!0===e[t]?t.toLowerCase():(s=e.getAttributeNode(t))&&s.specified?s.value:null}),t}(e);fe.find=xe,fe.expr=xe.selectors,fe.expr[":"]=fe.expr.pseudos,fe.uniqueSort=fe.unique=xe.uniqueSort,fe.text=xe.getText,fe.isXMLDoc=xe.isXML,fe.contains=xe.contains;var ye=function(e,t,i){for(var s=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&fe(e).is(i))break;s.push(e)}return s},we=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},be=fe.expr.match.needsContext,_e=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Te=/^.[^:#\[\.,]*$/;fe.filter=function(e,t,i){var s=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===s.nodeType?fe.find.matchesSelector(s,e)?[s]:[]:fe.find.matches(e,fe.grep(t,function(e){return 1===e.nodeType}))},fe.fn.extend({find:function(e){var t,i=[],s=this,r=s.length;if("string"!=typeof e)return this.pushStack(fe(e).filter(function(){for(t=0;r>t;t++)if(fe.contains(s[t],this))return!0}));for(t=0;r>t;t++)fe.find(e,s[t],i);return i=this.pushStack(r>1?fe.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&be.test(e)?fe(e):e||[],!1).length}});var je,Ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(fe.fn.init=function(e,t,i){var s,r;if(!e)return this;if(i=i||je,"string"==typeof e){if(!(s="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Ce.exec(e))||!s[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(s[1]){if(t=t instanceof fe?t[0]:t,fe.merge(this,fe.parseHTML(s[1],t&&t.nodeType?t.ownerDocument||t:se,!0)),_e.test(s[1])&&fe.isPlainObject(t))for(s in t)fe.isFunction(this[s])?this[s](t[s]):this.attr(s,t[s]);return this}if((r=se.getElementById(s[2]))&&r.parentNode){if(r.id!==s[2])return je.find(e);this.length=1,this[0]=r}return this.context=se,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):fe.isFunction(e)?void 0!==i.ready?i.ready(e):e(fe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),fe.makeArray(e,this))}).prototype=fe.fn,je=fe(se);var Se=/^(?:parents|prev(?:Until|All))/,qe={children:!0,contents:!0,next:!0,prev:!0};fe.fn.extend({has:function(e){var t,i=fe(e,this),s=i.length;return this.filter(function(){for(t=0;s>t;t++)if(fe.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,s=0,r=this.length,n=[],a=be.test(e)||"string"!=typeof e?fe(e,t||this.context):0;r>s;s++)for(i=this[s];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&fe.find.matchesSelector(i,e))){n.push(i);break}return this.pushStack(n.length>1?fe.uniqueSort(n):n)},index:function(e){return e?"string"==typeof e?fe.inArray(this[0],fe(e)):fe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(fe.uniqueSort(fe.merge(this.get(),fe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),fe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ye(e,"parentNode")},parentsUntil:function(e,t,i){return ye(e,"parentNode",i)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return ye(e,"nextSibling")},prevAll:function(e){return ye(e,"previousSibling")},nextUntil:function(e,t,i){return ye(e,"nextSibling",i)},prevUntil:function(e,t,i){return ye(e,"previousSibling",i)},siblings:function(e){return we((e.parentNode||{}).firstChild,e)},children:function(e){return we(e.firstChild)},contents:function(e){return fe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:fe.merge([],e.childNodes)}},function(e,t){fe.fn[e]=function(i,s){var r=fe.map(this,t,i);return"Until"!==e.slice(-5)&&(s=i),s&&"string"==typeof s&&(r=fe.filter(s,r)),this.length>1&&(qe[e]||(r=fe.uniqueSort(r)),Se.test(e)&&(r=r.reverse())),this.pushStack(r)}});var ke=/\S+/g;fe.Callbacks=function(e){e="string"==typeof e?n(e):fe.extend({},e);var t,i,s,r,a=[],o=[],l=-1,h=function(){for(r=e.once,s=t=!0;o.length;l=-1)for(i=o.shift();++l<a.length;)!1===a[l].apply(i[0],i[1])&&e.stopOnFalse&&(l=a.length,i=!1);e.memory||(i=!1),t=!1,r&&(a=i?[]:"")},d={add:function(){return a&&(i&&!t&&(l=a.length-1,o.push(i)),function t(i){fe.each(i,function(i,s){fe.isFunction(s)?e.unique&&d.has(s)||a.push(s):s&&s.length&&"string"!==fe.type(s)&&t(s)})}(arguments),i&&!t&&h()),this},remove:function(){return fe.each(arguments,function(e,t){for(var i;(i=fe.inArray(t,a,i))>-1;)a.splice(i,1),l>=i&&l--}),this},has:function(e){return e?fe.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=o=[],a=i="",this},disabled:function(){return!a},lock:function(){return r=!0,i||d.disable(),this},locked:function(){return!!r},fireWith:function(e,i){return r||(i=i||[],i=[e,i.slice?i.slice():i],o.push(i),t||h()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!s}};return d},fe.extend({Deferred:function(e){var t=[["resolve","done",fe.Callbacks("once memory"),"resolved"],["reject","fail",fe.Callbacks("once memory"),"rejected"],["notify","progress",fe.Callbacks("memory")]],i="pending",s={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return fe.Deferred(function(i){fe.each(t,function(t,n){var a=fe.isFunction(e[t])&&e[t];r[n[1]](function(){var e=a&&a.apply(this,arguments);e&&fe.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this===s?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?fe.extend(e,s):s}},r={};return s.pipe=s.then,fe.each(t,function(e,n){var a=n[2],o=n[3];s[n[1]]=a.add,o&&a.add(function(){i=o},t[1^e][2].disable,t[2][2].lock),r[n[0]]=function(){return r[n[0]+"With"](this===r?s:this,arguments),this},r[n[0]+"With"]=a.fireWith}),s.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,s,r=0,n=re.call(arguments),a=n.length,o=1!==a||e&&fe.isFunction(e.promise)?a:0,l=1===o?e:fe.Deferred(),h=function(e,i,s){return function(r){i[e]=this,s[e]=arguments.length>1?re.call(arguments):r,s===t?l.notifyWith(i,s):--o||l.resolveWith(i,s)}};if(a>1)for(t=new Array(a),i=new Array(a),s=new Array(a);a>r;r++)n[r]&&fe.isFunction(n[r].promise)?n[r].promise().progress(h(r,i,t)).done(h(r,s,n)).fail(l.reject):--o;return o||l.resolveWith(s,n),l.promise()}});var De;fe.fn.ready=function(e){return fe.ready.promise().done(e),this},fe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?fe.readyWait++:fe.ready(!0)},ready:function(e){(!0===e?--fe.readyWait:fe.isReady)||(fe.isReady=!0,!0!==e&&--fe.readyWait>0||(De.resolveWith(se,[fe]),fe.fn.triggerHandler&&(fe(se).triggerHandler("ready"),fe(se).off("ready"))))}}),fe.ready.promise=function(t){if(!De)if(De=fe.Deferred(),"complete"===se.readyState)e.setTimeout(fe.ready);else if(se.addEventListener)se.addEventListener("DOMContentLoaded",o),e.addEventListener("load",o);else{se.attachEvent("onreadystatechange",o),e.attachEvent("onload",o);var i=!1;try{i=null==e.frameElement&&se.documentElement}catch(e){}i&&i.doScroll&&function t(){if(!fe.isReady){try{i.doScroll("left")}catch(i){return e.setTimeout(t,50)}a(),fe.ready()}}()}return De.promise(t)},fe.ready.promise();var Ie;for(Ie in fe(ce))break;ce.ownFirst="0"===Ie,ce.inlineBlockNeedsLayout=!1,fe(function(){var e,t,i,s;(i=se.getElementsByTagName("body")[0])&&i.style&&(t=se.createElement("div"),s=se.createElement("div"),s.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(s).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ce.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(s))}),function(){var e=se.createElement("div");ce.deleteExpando=!0;try{delete e.test}catch(e){ce.deleteExpando=!1}e=null}();var Me=function(e){var t=fe.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return(1===i||9===i)&&(!t||!0!==t&&e.getAttribute("classid")===t)},Pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,He=/([A-Z])/g;fe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?fe.cache[e[fe.expando]]:e[fe.expando])&&!h(e)},data:function(e,t,i){return d(e,t,i)},removeData:function(e,t){return c(e,t)},_data:function(e,t,i){return d(e,t,i,!0)},_removeData:function(e,t){return c(e,t,!0)}}),fe.fn.extend({data:function(e,t){var i,s,r,n=this[0],a=n&&n.attributes;if(void 0===e){if(this.length&&(r=fe.data(n),1===n.nodeType&&!fe._data(n,"parsedAttrs"))){for(i=a.length;i--;)a[i]&&(s=a[i].name,0===s.indexOf("data-")&&(s=fe.camelCase(s.slice(5)),l(n,s,r[s])));fe._data(n,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){fe.data(this,e)}):arguments.length>1?this.each(function(){fe.data(this,e,t)}):n?l(n,e,fe.data(n,e)):void 0},removeData:function(e){return this.each(function(){fe.removeData(this,e)})}}),fe.extend({queue:function(e,t,i){var s;return e?(t=(t||"fx")+"queue",s=fe._data(e,t),i&&(!s||fe.isArray(i)?s=fe._data(e,t,fe.makeArray(i)):s.push(i)),s||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=fe.queue(e,t),s=i.length,r=i.shift(),n=fe._queueHooks(e,t),a=function(){fe.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),s--),r&&("fx"===t&&i.unshift("inprogress"),delete n.stop,r.call(e,a,n)),!s&&n&&n.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return fe._data(e,i)||fe._data(e,i,{empty:fe.Callbacks("once memory").add(function(){fe._removeData(e,t+"queue"),fe._removeData(e,i)})})}}),fe.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?fe.queue(this[0],e):void 0===t?this:this.each(function(){var i=fe.queue(this,e,t);fe._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&fe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){fe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,s=1,r=fe.Deferred(),n=this,a=this.length,o=function(){--s||r.resolveWith(n,[n])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=fe._data(n[a],e+"queueHooks"))&&i.empty&&(s++,i.empty.add(o));return o(),r.promise(t)}}),function(){var e;ce.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,s;return i=se.getElementsByTagName("body")[0],i&&i.style?(t=se.createElement("div"),s=se.createElement("div"),s.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(s).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(se.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(s),e):void 0}}();var Ae=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Be=new RegExp("^(?:([+-])=|)("+Ae+")([a-z%]*)$","i"),Ne=["Top","Right","Bottom","Left"],Oe=function(e,t){return e=t||e,"none"===fe.css(e,"display")||!fe.contains(e.ownerDocument,e)},Ee=function(e,t,i,s,r,n,a){var o=0,l=e.length,h=null==i;if("object"===fe.type(i)){r=!0;for(o in i)Ee(e,t,o,i[o],!0,n,a)}else if(void 0!==s&&(r=!0,fe.isFunction(s)||(a=!0),h&&(a?(t.call(e,s),t=null):(h=t,t=function(e,t,i){return h.call(fe(e),i)})),t))for(;l>o;o++)t(e[o],i,a?s:s.call(e[o],o,t(e[o],i)));return r?e:h?t.call(e):l?t(e[0],i):n},ze=/^(?:checkbox|radio)$/i,Le=/<([\w:-]+)/,Fe=/^$|\/(?:java|ecma)script/i,Re=/^\s+/,We="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=se.createElement("div"),t=se.createDocumentFragment(),i=se.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ce.leadingWhitespace=3===e.firstChild.nodeType,ce.tbody=!e.getElementsByTagName("tbody").length,ce.htmlSerialize=!!e.getElementsByTagName("link").length,ce.html5Clone="<:nav></:nav>"!==se.createElement("nav").cloneNode(!0).outerHTML,i.type="checkbox",i.checked=!0,t.appendChild(i),ce.appendChecked=i.checked,e.innerHTML="<textarea>x</textarea>",ce.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),i=se.createElement("input"),i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),ce.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.noCloneEvent=!!e.addEventListener,e[fe.expando]=1,ce.attributes=!e.getAttribute(fe.expando)}();var Ve={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ce.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Ve.optgroup=Ve.option,Ve.tbody=Ve.tfoot=Ve.colgroup=Ve.caption=Ve.thead,Ve.th=Ve.td;var Ue=/<|&#?\w+;/,Ye=/<tbody/i;!function(){var t,i,s=se.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(ce[t]=i in e)||(s.setAttribute(i,"t"),ce[t]=!1===s.attributes[i].expando);s=null}();var Ge=/^(?:input|select|textarea)$/i,$e=/^key/,Ke=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Xe=/^(?:focusinfocus|focusoutblur)$/,Je=/^([^.]*)(?:\.(.+)|)/;fe.event={global:{},add:function(e,t,i,s,r){var n,a,o,l,h,d,c,u,f,p,m,g=fe._data(e);if(g){for(i.handler&&(l=i,i=l.handler,r=l.selector),i.guid||(i.guid=fe.guid++),(a=g.events)||(a=g.events={}),(d=g.handle)||(d=g.handle=function(e){return void 0===fe||e&&fe.event.triggered===e.type?void 0:fe.event.dispatch.apply(d.elem,arguments)},d.elem=e),t=(t||"").match(ke)||[""],o=t.length;o--;)n=Je.exec(t[o])||[],f=m=n[1],p=(n[2]||"").split(".").sort(),f&&(h=fe.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=fe.event.special[f]||{},c=fe.extend({type:f,origType:m,data:s,handler:i,guid:i.guid,selector:r,needsContext:r&&fe.expr.match.needsContext.test(r),namespace:p.join(".")},l),(u=a[f])||(u=a[f]=[],u.delegateCount=0,h.setup&&!1!==h.setup.call(e,s,p,d)||(e.addEventListener?e.addEventListener(f,d,!1):e.attachEvent&&e.attachEvent("on"+f,d))),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),r?u.splice(u.delegateCount++,0,c):u.push(c),fe.event.global[f]=!0);e=null}},remove:function(e,t,i,s,r){var n,a,o,l,h,d,c,u,f,p,m,g=fe.hasData(e)&&fe._data(e);if(g&&(d=g.events)){for(t=(t||"").match(ke)||[""],h=t.length;h--;)if(o=Je.exec(t[h])||[],f=m=o[1],p=(o[2]||"").split(".").sort(),f){for(c=fe.event.special[f]||{},f=(s?c.delegateType:c.bindType)||f,u=d[f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=n=u.length;n--;)a=u[n],!r&&m!==a.origType||i&&i.guid!==a.guid||o&&!o.test(a.namespace)||s&&s!==a.selector&&("**"!==s||!a.selector)||(u.splice(n,1),a.selector&&u.delegateCount--,c.remove&&c.remove.call(e,a));l&&!u.length&&(c.teardown&&!1!==c.teardown.call(e,p,g.handle)||fe.removeEvent(e,f,g.handle),delete d[f])}else for(f in d)fe.event.remove(e,f+t[h],i,s,!0);fe.isEmptyObject(d)&&(delete g.handle,fe._removeData(e,"events"))}},trigger:function(t,i,s,r){var n,a,o,l,h,d,c,u=[s||se],f=de.call(t,"type")?t.type:t,p=de.call(t,"namespace")?t.namespace.split("."):[];if(o=d=s=s||se,3!==s.nodeType&&8!==s.nodeType&&!Xe.test(f+fe.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),a=f.indexOf(":")<0&&"on"+f,t=t[fe.expando]?t:new fe.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=s),i=null==i?[t]:fe.makeArray(i,[t]),h=fe.event.special[f]||{},r||!h.trigger||!1!==h.trigger.apply(s,i))){if(!r&&!h.noBubble&&!fe.isWindow(s)){for(l=h.delegateType||f,Xe.test(l+f)||(o=o.parentNode);o;o=o.parentNode)u.push(o),d=o;d===(s.ownerDocument||se)&&u.push(d.defaultView||d.parentWindow||e)}for(c=0;(o=u[c++])&&!t.isPropagationStopped();)t.type=c>1?l:h.bindType||f,n=(fe._data(o,"events")||{})[t.type]&&fe._data(o,"handle"),n&&n.apply(o,i),(n=a&&o[a])&&n.apply&&Me(o)&&(t.result=n.apply(o,i),!1===t.result&&t.preventDefault());if(t.type=f,!r&&!t.isDefaultPrevented()&&(!h._default||!1===h._default.apply(u.pop(),i))&&Me(s)&&a&&s[f]&&!fe.isWindow(s)){d=s[a],d&&(s[a]=null),fe.event.triggered=f;try{s[f]()}catch(e){}fe.event.triggered=void 0,d&&(s[a]=d)}return t.result}},dispatch:function(e){e=fe.event.fix(e);var t,i,s,r,n,a=[],o=re.call(arguments),l=(fe._data(this,"events")||{})[e.type]||[],h=fe.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,e)){for(a=fe.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,i=0;(n=r.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.rnamespace||e.rnamespace.test(n.namespace))&&(e.handleObj=n,e.data=n.data,void 0!==(s=((fe.event.special[n.origType]||{}).handle||n.handler).apply(r.elem,o))&&!1===(e.result=s)&&(e.preventDefault(),e.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,s,r,n,a=[],o=t.delegateCount,l=e.target;if(o&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(s=[],i=0;o>i;i++)n=t[i],r=n.selector+" ",void 0===s[r]&&(s[r]=n.needsContext?fe(r,this).index(l)>-1:fe.find(r,this,null,[l]).length),s[r]&&s.push(n);s.length&&a.push({elem:l,handlers:s})}return o<t.length&&a.push({elem:this,handlers:t.slice(o)}),a},fix:function(e){if(e[fe.expando])return e;var t,i,s,r=e.type,n=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Ke.test(r)?this.mouseHooks:$e.test(r)?this.keyHooks:{}),s=a.props?this.props.concat(a.props):this.props,e=new fe.Event(n),t=s.length;t--;)i=s[t],e[i]=n[i];return e.target||(e.target=n.srcElement||se),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,n):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,s,r,n=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(s=e.target.ownerDocument||se,r=s.documentElement,i=s.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===n||(e.which=1&n?1:2&n?3:4&n?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===w()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return fe.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return fe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i){var s=fe.extend(new fe.Event,i,{type:e,isSimulated:!0});fe.event.trigger(s,null,t),s.isDefaultPrevented()&&i.preventDefault()}},fe.removeEvent=se.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)}:function(e,t,i){var s="on"+t;e.detachEvent&&(void 0===e[s]&&(e[s]=null),e.detachEvent(s,i))},fe.Event=function(e,t){return this instanceof fe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?x:y):this.type=e,t&&fe.extend(this,t),this.timeStamp=e&&e.timeStamp||fe.now(),void(this[fe.expando]=!0)):new fe.Event(e,t)},fe.Event.prototype={constructor:fe.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=x,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=x,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=x,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},fe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){fe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,s=this,r=e.relatedTarget,n=e.handleObj;return(!r||r!==s&&!fe.contains(s,r))&&(e.type=n.origType,i=n.handler.apply(this,arguments),e.type=t),i}}}),ce.submit||(fe.event.special.submit={setup:function(){return!fe.nodeName(this,"form")&&void fe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=fe.nodeName(t,"input")||fe.nodeName(t,"button")?fe.prop(t,"form"):void 0;i&&!fe._data(i,"submit")&&(fe.event.add(i,"submit._submit",function(e){e._submitBubble=!0}),fe._data(i,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&fe.event.simulate("submit",this.parentNode,e))},teardown:function(){return!fe.nodeName(this,"form")&&void fe.event.remove(this,"._submit")}}),ce.change||(fe.event.special.change={setup:function(){return Ge.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(fe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),fe.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),fe.event.simulate("change",this,e)})),!1):void fe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ge.test(t.nodeName)&&!fe._data(t,"change")&&(fe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||fe.event.simulate("change",this.parentNode,e)}),fe._data(t,"change",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return fe.event.remove(this,"._change"),!Ge.test(this.nodeName)}}),ce.focusin||fe.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){fe.event.simulate(t,e.target,fe.event.fix(e))};fe.event.special[t]={setup:function(){var s=this.ownerDocument||this,r=fe._data(s,t);r||s.addEventListener(e,i,!0),fe._data(s,t,(r||0)+1)},teardown:function(){var s=this.ownerDocument||this,r=fe._data(s,t)-1;r?fe._data(s,t,r):(s.removeEventListener(e,i,!0),fe._removeData(s,t))}}}),fe.fn.extend({on:function(e,t,i,s){return b(this,e,t,i,s)},one:function(e,t,i,s){return b(this,e,t,i,s,1)},off:function(e,t,i){var s,r;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,fe(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(!1===t||"function"==typeof t)&&(i=t,t=void 0),!1===i&&(i=y),this.each(function(){fe.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){fe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?fe.event.trigger(e,t,i,!0):void 0}});var Ze=/ jQuery\d+="(?:null|\d+)"/g,Qe=new RegExp("<(?:"+We+")[\\s/>]","i"),et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,tt=/<script|<style|<link/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,st=/^true\/(.*)/,rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,nt=f(se),at=nt.appendChild(se.createElement("div"));fe.extend({htmlPrefilter:function(e){return e.replace(et,"<$1></$2>")},clone:function(e,t,i){var s,r,n,a,o,l=fe.contains(e.ownerDocument,e);if(ce.html5Clone||fe.isXMLDoc(e)||!Qe.test("<"+e.nodeName+">")?n=e.cloneNode(!0):(at.innerHTML=e.outerHTML,at.removeChild(n=at.firstChild)),!(ce.noCloneEvent&&ce.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||fe.isXMLDoc(e)))for(s=p(n),o=p(e),a=0;null!=(r=o[a]);++a)s[a]&&S(r,s[a]);if(t)if(i)for(o=o||p(e),s=s||p(n),a=0;null!=(r=o[a]);a++)C(r,s[a]);else C(e,n);return s=p(n,"script"),s.length>0&&m(s,!l&&p(e,"script")),s=o=r=null,n},cleanData:function(e,t){for(var i,s,r,n,a=0,o=fe.expando,l=fe.cache,h=ce.attributes,d=fe.event.special;null!=(i=e[a]);a++)if((t||Me(i))&&(r=i[o],n=r&&l[r])){if(n.events)for(s in n.events)d[s]?fe.event.remove(i,s):fe.removeEvent(i,s,n.handle);l[r]&&(delete l[r],h||void 0===i.removeAttribute?i[o]=void 0:i.removeAttribute(o),ie.push(r))}}}),fe.fn.extend({domManip:q,detach:function(e){return k(this,e,!0)},remove:function(e){return k(this,e)},text:function(e){return Ee(this,function(e){return void 0===e?fe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||se).createTextNode(e))},null,e,arguments.length)},append:function(){return q(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){_(this,e).appendChild(e)}})},prepend:function(){return q(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return q(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return q(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&fe.cleanData(p(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&fe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return fe.clone(this,e,t)})},html:function(e){return Ee(this,function(e){var t=this[0]||{},i=0,s=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ze,""):void 0;if("string"==typeof e&&!tt.test(e)&&(ce.htmlSerialize||!Qe.test(e))&&(ce.leadingWhitespace||!Re.test(e))&&!Ve[(Le.exec(e)||["",""])[1].toLowerCase()]){e=fe.htmlPrefilter(e);try{for(;s>i;i++)t=this[i]||{},1===t.nodeType&&(fe.cleanData(p(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return q(this,arguments,function(t){var i=this.parentNode;fe.inArray(this,e)<0&&(fe.cleanData(p(this)),i&&i.replaceChild(t,this))},e)}}),fe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",
replaceAll:"replaceWith"},function(e,t){fe.fn[e]=function(e){for(var i,s=0,r=[],n=fe(e),a=n.length-1;a>=s;s++)i=s===a?this:this.clone(!0),fe(n[s])[t](i),ae.apply(r,i.get());return this.pushStack(r)}});var ot,lt={HTML:"block",BODY:"block"},ht=/^margin/,dt=new RegExp("^("+Ae+")(?!px)[a-z%]+$","i"),ct=function(e,t,i,s){var r,n,a={};for(n in t)a[n]=e.style[n],e.style[n]=t[n];r=i.apply(e,s||[]);for(n in t)e.style[n]=a[n];return r},ut=se.documentElement;!function(){function t(){var t,d,c=se.documentElement;c.appendChild(l),h.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=r=o=!1,s=a=!0,e.getComputedStyle&&(d=e.getComputedStyle(h),i="1%"!==(d||{}).top,o="2px"===(d||{}).marginLeft,r="4px"===(d||{width:"4px"}).width,h.style.marginRight="50%",s="4px"===(d||{marginRight:"4px"}).marginRight,t=h.appendChild(se.createElement("div")),t.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",h.style.width="1px",a=!parseFloat((e.getComputedStyle(t)||{}).marginRight),h.removeChild(t)),h.style.display="none",n=0===h.getClientRects().length,n&&(h.style.display="",h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=h.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",(n=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",n=0===t[0].offsetHeight)),c.removeChild(l)}var i,s,r,n,a,o,l=se.createElement("div"),h=se.createElement("div");h.style&&(h.style.cssText="float:left;opacity:.5",ce.opacity="0.5"===h.style.opacity,ce.cssFloat=!!h.style.cssFloat,h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",ce.clearCloneStyle="content-box"===h.style.backgroundClip,l=se.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.innerHTML="",l.appendChild(h),ce.boxSizing=""===h.style.boxSizing||""===h.style.MozBoxSizing||""===h.style.WebkitBoxSizing,fe.extend(ce,{reliableHiddenOffsets:function(){return null==i&&t(),n},boxSizingReliable:function(){return null==i&&t(),r},pixelMarginRight:function(){return null==i&&t(),s},pixelPosition:function(){return null==i&&t(),i},reliableMarginRight:function(){return null==i&&t(),a},reliableMarginLeft:function(){return null==i&&t(),o}}))}();var ft,pt,mt=/^(top|right|bottom|left)$/;e.getComputedStyle?(ft=function(t){var i=t.ownerDocument.defaultView;return i.opener||(i=e),i.getComputedStyle(t)},pt=function(e,t,i){var s,r,n,a,o=e.style;return i=i||ft(e),a=i?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==a||fe.contains(e.ownerDocument,e)||(a=fe.style(e,t)),!ce.pixelMarginRight()&&dt.test(a)&&ht.test(t)&&(s=o.width,r=o.minWidth,n=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=i.width,o.width=s,o.minWidth=r,o.maxWidth=n)),void 0===a?a:a+""}):ut.currentStyle&&(ft=function(e){return e.currentStyle},pt=function(e,t,i){var s,r,n,a,o=e.style;return i=i||ft(e),a=i?i[t]:void 0,null==a&&o&&o[t]&&(a=o[t]),dt.test(a)&&!mt.test(t)&&(s=o.left,r=e.runtimeStyle,n=r&&r.left,n&&(r.left=e.currentStyle.left),o.left="fontSize"===t?"1em":a,a=o.pixelLeft+"px",o.left=s,n&&(r.left=n)),void 0===a?a:a+""||"auto"});var gt=/alpha\([^)]*\)/i,vt=/opacity\s*=\s*([^)]*)/i,xt=/^(none|table(?!-c[ea]).+)/,yt=new RegExp("^("+Ae+")(.*)$","i"),wt={position:"absolute",visibility:"hidden",display:"block"},bt={letterSpacing:"0",fontWeight:"400"},_t=["Webkit","O","Moz","ms"],Tt=se.createElement("div").style;fe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=pt(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ce.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,n,a,o=fe.camelCase(t),l=e.style;if(t=fe.cssProps[o]||(fe.cssProps[o]=P(o)||o),a=fe.cssHooks[t]||fe.cssHooks[o],void 0===i)return a&&"get"in a&&void 0!==(r=a.get(e,!1,s))?r:l[t];if(n=typeof i,"string"===n&&(r=Be.exec(i))&&r[1]&&(i=u(e,t,r),n="number"),null!=i&&i===i&&("number"===n&&(i+=r&&r[3]||(fe.cssNumber[o]?"":"px")),ce.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(i=a.set(e,i,s)))))try{l[t]=i}catch(e){}}},css:function(e,t,i,s){var r,n,a,o=fe.camelCase(t);return t=fe.cssProps[o]||(fe.cssProps[o]=P(o)||o),a=fe.cssHooks[t]||fe.cssHooks[o],a&&"get"in a&&(n=a.get(e,!0,i)),void 0===n&&(n=pt(e,t,s)),"normal"===n&&t in bt&&(n=bt[t]),""===i||i?(r=parseFloat(n),!0===i||isFinite(r)?r||0:n):n}}),fe.each(["height","width"],function(e,t){fe.cssHooks[t]={get:function(e,i,s){return i?xt.test(fe.css(e,"display"))&&0===e.offsetWidth?ct(e,wt,function(){return N(e,t,s)}):N(e,t,s):void 0},set:function(e,i,s){var r=s&&ft(e);return A(e,i,s?B(e,t,s,ce.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,r),r):0)}}}),ce.opacity||(fe.cssHooks.opacity={get:function(e,t){return vt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,s=e.currentStyle,r=fe.isNumeric(t)?"alpha(opacity="+100*t+")":"",n=s&&s.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===fe.trim(n.replace(gt,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||s&&!s.filter)||(i.filter=gt.test(n)?n.replace(gt,r):n+" "+r)}}),fe.cssHooks.marginRight=M(ce.reliableMarginRight,function(e,t){return t?ct(e,{display:"inline-block"},pt,[e,"marginRight"]):void 0}),fe.cssHooks.marginLeft=M(ce.reliableMarginLeft,function(e,t){return t?(parseFloat(pt(e,"marginLeft"))||(fe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ct(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px":void 0}),fe.each({margin:"",padding:"",border:"Width"},function(e,t){fe.cssHooks[e+t]={expand:function(i){for(var s=0,r={},n="string"==typeof i?i.split(" "):[i];4>s;s++)r[e+Ne[s]+t]=n[s]||n[s-2]||n[0];return r}},ht.test(e)||(fe.cssHooks[e+t].set=A)}),fe.fn.extend({css:function(e,t){return Ee(this,function(e,t,i){var s,r,n={},a=0;if(fe.isArray(t)){for(s=ft(e),r=t.length;r>a;a++)n[t[a]]=fe.css(e,t[a],!1,s);return n}return void 0!==i?fe.style(e,t,i):fe.css(e,t)},e,t,arguments.length>1)},show:function(){return H(this,!0)},hide:function(){return H(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Oe(this)?fe(this).show():fe(this).hide()})}}),fe.Tween=O,O.prototype={constructor:O,init:function(e,t,i,s,r,n){this.elem=e,this.prop=i,this.easing=r||fe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=n||(fe.cssNumber[i]?"":"px")},cur:function(){var e=O.propHooks[this.prop];return e&&e.get?e.get(this):O.propHooks._default.get(this)},run:function(e){var t,i=O.propHooks[this.prop];return this.options.duration?this.pos=t=fe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=fe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){fe.fx.step[e.prop]?fe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[fe.cssProps[e.prop]]&&!fe.cssHooks[e.prop]?e.elem[e.prop]=e.now:fe.style(e.elem,e.prop,e.now+e.unit)}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},fe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},fe.fx=O.prototype.init,fe.fx.step={};var jt,Ct,St=/^(?:toggle|show|hide)$/,qt=/queueHooks$/;fe.Animation=fe.extend(W,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return u(i.elem,e,Be.exec(t),i),i}]},tweener:function(e,t){fe.isFunction(e)?(t=e,e=["*"]):e=e.match(ke);for(var i,s=0,r=e.length;r>s;s++)i=e[s],W.tweeners[i]=W.tweeners[i]||[],W.tweeners[i].unshift(t)},prefilters:[F],prefilter:function(e,t){t?W.prefilters.unshift(e):W.prefilters.push(e)}}),fe.speed=function(e,t,i){var s=e&&"object"==typeof e?fe.extend({},e):{complete:i||!i&&t||fe.isFunction(e)&&e,duration:e,easing:i&&t||t&&!fe.isFunction(t)&&t};return s.duration=fe.fx.off?0:"number"==typeof s.duration?s.duration:s.duration in fe.fx.speeds?fe.fx.speeds[s.duration]:fe.fx.speeds._default,(null==s.queue||!0===s.queue)&&(s.queue="fx"),s.old=s.complete,s.complete=function(){fe.isFunction(s.old)&&s.old.call(this),s.queue&&fe.dequeue(this,s.queue)},s},fe.fn.extend({fadeTo:function(e,t,i,s){return this.filter(Oe).css("opacity",0).show().end().animate({opacity:t},e,i,s)},animate:function(e,t,i,s){var r=fe.isEmptyObject(e),n=fe.speed(t,i,s),a=function(){var t=W(this,fe.extend({},e),n);(r||fe._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===n.queue?this.each(a):this.queue(n.queue,a)},stop:function(e,t,i){var s=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",n=fe.timers,a=fe._data(this);if(r)a[r]&&a[r].stop&&s(a[r]);else for(r in a)a[r]&&a[r].stop&&qt.test(r)&&s(a[r]);for(r=n.length;r--;)n[r].elem!==this||null!=e&&n[r].queue!==e||(n[r].anim.stop(i),t=!1,n.splice(r,1));(t||!i)&&fe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=fe._data(this),s=i[e+"queue"],r=i[e+"queueHooks"],n=fe.timers,a=s?s.length:0;for(i.finish=!0,fe.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=n.length;t--;)n[t].elem===this&&n[t].queue===e&&(n[t].anim.stop(!0),n.splice(t,1));for(t=0;a>t;t++)s[t]&&s[t].finish&&s[t].finish.call(this);delete i.finish})}}),fe.each(["toggle","show","hide"],function(e,t){var i=fe.fn[t];fe.fn[t]=function(e,s,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(z(t,!0),e,s,r)}}),fe.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){fe.fn[e]=function(e,i,s){return this.animate(t,e,i,s)}}),fe.timers=[],fe.fx.tick=function(){var e,t=fe.timers,i=0;for(jt=fe.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||fe.fx.stop(),jt=void 0},fe.fx.timer=function(e){fe.timers.push(e),e()?fe.fx.start():fe.timers.pop()},fe.fx.interval=13,fe.fx.start=function(){Ct||(Ct=e.setInterval(fe.fx.tick,fe.fx.interval))},fe.fx.stop=function(){e.clearInterval(Ct),Ct=null},fe.fx.speeds={slow:600,fast:200,_default:400},fe.fn.delay=function(t,i){return t=fe.fx?fe.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,s){var r=e.setTimeout(i,t);s.stop=function(){e.clearTimeout(r)}})},function(){var e,t=se.createElement("input"),i=se.createElement("div"),s=se.createElement("select"),r=s.appendChild(se.createElement("option"));i=se.createElement("div"),i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=i.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),i.appendChild(t),e=i.getElementsByTagName("a")[0],e.style.cssText="top:1px",ce.getSetAttribute="t"!==i.className,ce.style=/top/.test(e.getAttribute("style")),ce.hrefNormalized="/a"===e.getAttribute("href"),ce.checkOn=!!t.value,ce.optSelected=r.selected,ce.enctype=!!se.createElement("form").enctype,s.disabled=!0,ce.optDisabled=!r.disabled,t=se.createElement("input"),t.setAttribute("value",""),ce.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),ce.radioValue="t"===t.value}();var kt=/\r/g;fe.fn.extend({val:function(e){var t,i,s,r=this[0];return arguments.length?(s=fe.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(r=s?e.call(this,i,fe(this).val()):e,null==r?r="":"number"==typeof r?r+="":fe.isArray(r)&&(r=fe.map(r,function(e){return null==e?"":e+""})),(t=fe.valHooks[this.type]||fe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=fe.valHooks[r.type]||fe.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(kt,""):null==i?"":i)):void 0}}),fe.extend({valHooks:{option:{get:function(e){var t=fe.find.attr(e,"value");return null!=t?t:fe.trim(fe.text(e))}},select:{get:function(e){for(var t,i,s=e.options,r=e.selectedIndex,n="select-one"===e.type||0>r,a=n?null:[],o=n?r+1:s.length,l=0>r?o:n?r:0;o>l;l++)if(i=s[l],(i.selected||l===r)&&(ce.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!fe.nodeName(i.parentNode,"optgroup"))){if(t=fe(i).val(),n)return t;a.push(t)}return a},set:function(e,t){for(var i,s,r=e.options,n=fe.makeArray(t),a=r.length;a--;)if(s=r[a],fe.inArray(fe.valHooks.option.get(s),n)>=0)try{s.selected=i=!0}catch(e){s.scrollHeight}else s.selected=!1;return i||(e.selectedIndex=-1),r}}}}),fe.each(["radio","checkbox"],function(){fe.valHooks[this]={set:function(e,t){return fe.isArray(t)?e.checked=fe.inArray(fe(e).val(),t)>-1:void 0}},ce.checkOn||(fe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Dt,It,Mt=fe.expr.attrHandle,Pt=/^(?:checked|selected)$/i,Ht=ce.getSetAttribute,At=ce.input;fe.fn.extend({attr:function(e,t){return Ee(this,fe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){fe.removeAttr(this,e)})}}),fe.extend({attr:function(e,t,i){var s,r,n=e.nodeType;if(3!==n&&8!==n&&2!==n)return void 0===e.getAttribute?fe.prop(e,t,i):(1===n&&fe.isXMLDoc(e)||(t=t.toLowerCase(),r=fe.attrHooks[t]||(fe.expr.match.bool.test(t)?It:Dt)),void 0!==i?null===i?void fe.removeAttr(e,t):r&&"set"in r&&void 0!==(s=r.set(e,i,t))?s:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(s=r.get(e,t))?s:(s=fe.find.attr(e,t),null==s?void 0:s))},attrHooks:{type:{set:function(e,t){if(!ce.radioValue&&"radio"===t&&fe.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,s,r=0,n=t&&t.match(ke);if(n&&1===e.nodeType)for(;i=n[r++];)s=fe.propFix[i]||i,fe.expr.match.bool.test(i)?At&&Ht||!Pt.test(i)?e[s]=!1:e[fe.camelCase("default-"+i)]=e[s]=!1:fe.attr(e,i,""),e.removeAttribute(Ht?i:s)}}),It={set:function(e,t,i){return!1===t?fe.removeAttr(e,i):At&&Ht||!Pt.test(i)?e.setAttribute(!Ht&&fe.propFix[i]||i,i):e[fe.camelCase("default-"+i)]=e[i]=!0,i}},fe.each(fe.expr.match.bool.source.match(/\w+/g),function(e,t){var i=Mt[t]||fe.find.attr;At&&Ht||!Pt.test(t)?Mt[t]=function(e,t,s){var r,n;return s||(n=Mt[t],Mt[t]=r,r=null!=i(e,t,s)?t.toLowerCase():null,Mt[t]=n),r}:Mt[t]=function(e,t,i){return i?void 0:e[fe.camelCase("default-"+t)]?t.toLowerCase():null}}),At&&Ht||(fe.attrHooks.value={set:function(e,t,i){return fe.nodeName(e,"input")?void(e.defaultValue=t):Dt&&Dt.set(e,t,i)}}),Ht||(Dt={set:function(e,t,i){var s=e.getAttributeNode(i);return s||e.setAttributeNode(s=e.ownerDocument.createAttribute(i)),s.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},Mt.id=Mt.name=Mt.coords=function(e,t,i){var s;return i?void 0:(s=e.getAttributeNode(t))&&""!==s.value?s.value:null},fe.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:Dt.set},fe.attrHooks.contenteditable={set:function(e,t,i){Dt.set(e,""!==t&&t,i)}},fe.each(["width","height"],function(e,t){fe.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),ce.style||(fe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Bt=/^(?:input|select|textarea|button|object)$/i,Nt=/^(?:a|area)$/i;fe.fn.extend({prop:function(e,t){return Ee(this,fe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=fe.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),fe.extend({prop:function(e,t,i){var s,r,n=e.nodeType;if(3!==n&&8!==n&&2!==n)return 1===n&&fe.isXMLDoc(e)||(t=fe.propFix[t]||t,r=fe.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(s=r.set(e,i,t))?s:e[t]=i:r&&"get"in r&&null!==(s=r.get(e,t))?s:e[t]},propHooks:{tabIndex:{get:function(e){var t=fe.find.attr(e,"tabindex");return t?parseInt(t,10):Bt.test(e.nodeName)||Nt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ce.hrefNormalized||fe.each(["href","src"],function(e,t){fe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ce.optSelected||(fe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),fe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fe.propFix[this.toLowerCase()]=this}),ce.enctype||(fe.propFix.enctype="encoding");var Ot=/[\t\r\n\f]/g;fe.fn.extend({addClass:function(e){var t,i,s,r,n,a,o,l=0;if(fe.isFunction(e))return this.each(function(t){fe(this).addClass(e.call(this,t,V(this)))});if("string"==typeof e&&e)for(t=e.match(ke)||[];i=this[l++];)if(r=V(i),s=1===i.nodeType&&(" "+r+" ").replace(Ot," ")){for(a=0;n=t[a++];)s.indexOf(" "+n+" ")<0&&(s+=n+" ");o=fe.trim(s),r!==o&&fe.attr(i,"class",o)}return this},removeClass:function(e){var t,i,s,r,n,a,o,l=0;if(fe.isFunction(e))return this.each(function(t){fe(this).removeClass(e.call(this,t,V(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(ke)||[];i=this[l++];)if(r=V(i),s=1===i.nodeType&&(" "+r+" ").replace(Ot," ")){for(a=0;n=t[a++];)for(;s.indexOf(" "+n+" ")>-1;)s=s.replace(" "+n+" "," ");o=fe.trim(s),r!==o&&fe.attr(i,"class",o)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):fe.isFunction(e)?this.each(function(i){fe(this).toggleClass(e.call(this,i,V(this),t),t)}):this.each(function(){var t,s,r,n;if("string"===i)for(s=0,r=fe(this),n=e.match(ke)||[];t=n[s++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(void 0===e||"boolean"===i)&&(t=V(this),t&&fe._data(this,"__className__",t),fe.attr(this,"class",t||!1===e?"":fe._data(this,"__className__")||""))})},hasClass:function(e){var t,i,s=0;for(t=" "+e+" ";i=this[s++];)if(1===i.nodeType&&(" "+V(i)+" ").replace(Ot," ").indexOf(t)>-1)return!0;return!1}}),fe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){fe.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),fe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Et=e.location,zt=fe.now(),Lt=/\?/,Ft=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;fe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,s=null,r=fe.trim(t+"");return r&&!fe.trim(r.replace(Ft,function(e,t,r,n){return i&&t&&(s=0),0===s?e:(i=r||t,s+=!n-!r,"")}))?Function("return "+r)():fe.error("Invalid JSON: "+t)},fe.parseXML=function(t){var i,s;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(s=new e.DOMParser,i=s.parseFromString(t,"text/xml")):(i=new e.ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(e){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||fe.error("Invalid XML: "+t),i};var Rt=/#.*$/,Wt=/([?&])_=[^&]*/,Vt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ut=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Yt=/^(?:GET|HEAD)$/,Gt=/^\/\//,$t=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Kt={},Xt={},Jt="*/".concat("*"),Zt=Et.href,Qt=$t.exec(Zt.toLowerCase())||[];fe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Zt,type:"GET",isLocal:Ut.test(Qt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fe.parseJSON,"text xml":fe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?G(G(e,fe.ajaxSettings),t):G(fe.ajaxSettings,e)},ajaxPrefilter:U(Kt),ajaxTransport:U(Xt),ajax:function(t,i){function s(t,i,s,r){var n,c,x,y,b,T=i;2!==w&&(w=2,l&&e.clearTimeout(l),d=void 0,o=r||"",_.readyState=t>0?4:0,n=t>=200&&300>t||304===t,s&&(y=$(u,_,s)),y=K(u,y,_,n),n?(u.ifModified&&(b=_.getResponseHeader("Last-Modified"),b&&(fe.lastModified[a]=b),(b=_.getResponseHeader("etag"))&&(fe.etag[a]=b)),204===t||"HEAD"===u.type?T="nocontent":304===t?T="notmodified":(T=y.state,c=y.data,x=y.error,n=!x)):(x=T,(t||!T)&&(T="error",0>t&&(t=0))),_.status=t,_.statusText=(i||T)+"",n?m.resolveWith(f,[c,T,_]):m.rejectWith(f,[_,T,x]),_.statusCode(v),v=void 0,h&&p.trigger(n?"ajaxSuccess":"ajaxError",[_,u,n?c:x]),g.fireWith(f,[_,T]),h&&(p.trigger("ajaxComplete",[_,u]),--fe.active||fe.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=void 0),i=i||{};var r,n,a,o,l,h,d,c,u=fe.ajaxSetup({},i),f=u.context||u,p=u.context&&(f.nodeType||f.jquery)?fe(f):fe.event,m=fe.Deferred(),g=fe.Callbacks("once memory"),v=u.statusCode||{},x={},y={},w=0,b="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!c)for(c={};t=Vt.exec(o);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?o:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return w||(e=y[i]=y[i]||e,x[e]=t),this},overrideMimeType:function(e){return w||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||b;return d&&d.abort(t),s(0,t),this}};if(m.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,u.url=((t||u.url||Zt)+"").replace(Rt,"").replace(Gt,Qt[1]+"//"),u.type=i.method||i.type||u.method||u.type,u.dataTypes=fe.trim(u.dataType||"*").toLowerCase().match(ke)||[""],null==u.crossDomain&&(r=$t.exec(u.url.toLowerCase()),u.crossDomain=!(!r||r[1]===Qt[1]&&r[2]===Qt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Qt[3]||("http:"===Qt[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=fe.param(u.data,u.traditional)),Y(Kt,u,i,_),2===w)return _;h=fe.event&&u.global,h&&0==fe.active++&&fe.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Yt.test(u.type),a=u.url,u.hasContent||(u.data&&(a=u.url+=(Lt.test(a)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=Wt.test(a)?a.replace(Wt,"$1_="+zt++):a+(Lt.test(a)?"&":"?")+"_="+zt++)),u.ifModified&&(fe.lastModified[a]&&_.setRequestHeader("If-Modified-Since",fe.lastModified[a]),fe.etag[a]&&_.setRequestHeader("If-None-Match",fe.etag[a])),(u.data&&u.hasContent&&!1!==u.contentType||i.contentType)&&_.setRequestHeader("Content-Type",u.contentType),_.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Jt+"; q=0.01":""):u.accepts["*"]);for(n in u.headers)_.setRequestHeader(n,u.headers[n]);if(u.beforeSend&&(!1===u.beforeSend.call(f,_,u)||2===w))return _.abort();b="abort";for(n in{success:1,error:1,complete:1})_[n](u[n]);if(d=Y(Xt,u,i,_)){if(_.readyState=1,h&&p.trigger("ajaxSend",[_,u]),2===w)return _;u.async&&u.timeout>0&&(l=e.setTimeout(function(){_.abort("timeout")},u.timeout));try{w=1,d.send(x,s)}catch(e){if(!(2>w))throw e;s(-1,e)}}else s(-1,"No Transport");return _},getJSON:function(e,t,i){return fe.get(e,t,i,"json")},getScript:function(e,t){return fe.get(e,void 0,t,"script")}}),fe.each(["get","post"],function(e,t){fe[t]=function(e,i,s,r){return fe.isFunction(i)&&(r=r||s,s=i,i=void 0),fe.ajax(fe.extend({url:e,type:t,dataType:r,data:i,success:s},fe.isPlainObject(e)&&e))}}),fe._evalUrl=function(e){return fe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},fe.fn.extend({wrapAll:function(e){if(fe.isFunction(e))return this.each(function(t){fe(this).wrapAll(e.call(this,t))});if(this[0]){var t=fe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return fe.isFunction(e)?this.each(function(t){fe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=fe(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=fe.isFunction(e);return this.each(function(i){fe(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){fe.nodeName(this,"body")||fe(this).replaceWith(this.childNodes)}).end()}}),fe.expr.filters.hidden=function(e){return ce.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:J(e)},fe.expr.filters.visible=function(e){return!fe.expr.filters.hidden(e)};var ei=/%20/g,ti=/\[\]$/,ii=/\r?\n/g,si=/^(?:submit|button|image|reset|file)$/i,ri=/^(?:input|select|textarea|keygen)/i;fe.param=function(e,t){var i,s=[],r=function(e,t){t=fe.isFunction(t)?t():null==t?"":t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=fe.ajaxSettings&&fe.ajaxSettings.traditional),fe.isArray(e)||e.jquery&&!fe.isPlainObject(e))fe.each(e,function(){r(this.name,this.value)});else for(i in e)Z(i,e[i],t,r);return s.join("&").replace(ei,"+")},fe.fn.extend({serialize:function(){return fe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=fe.prop(this,"elements");return e?fe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!fe(this).is(":disabled")&&ri.test(this.nodeName)&&!si.test(e)&&(this.checked||!ze.test(e))}).map(function(e,t){var i=fe(this).val();return null==i?null:fe.isArray(i)?fe.map(i,function(e){return{name:t.name,value:e.replace(ii,"\r\n")}}):{name:t.name,value:i.replace(ii,"\r\n")}}).get()}}),fe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?ee():se.documentMode>8?Q():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Q()||ee()}:Q;var ni=0,ai={},oi=fe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in ai)ai[e](void 0,!0)}),ce.cors=!!oi&&"withCredentials"in oi,(oi=ce.ajax=!!oi)&&fe.ajaxTransport(function(t){if(!t.crossDomain||ce.cors){var i;return{send:function(s,r){var n,a=t.xhr(),o=++ni;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(n in t.xhrFields)a[n]=t.xhrFields[n];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");for(n in s)void 0!==s[n]&&a.setRequestHeader(n,s[n]+"");a.send(t.hasContent&&t.data||null),i=function(e,s){var n,l,h;if(i&&(s||4===a.readyState))if(delete ai[o],i=void 0,a.onreadystatechange=fe.noop,s)4!==a.readyState&&a.abort();else{h={},n=a.status,"string"==typeof a.responseText&&(h.text=a.responseText);try{l=a.statusText}catch(e){l=""}n||!t.isLocal||t.crossDomain?1223===n&&(n=204):n=h.text?200:404}h&&r(n,l,h,a.getAllResponseHeaders())},t.async?4===a.readyState?e.setTimeout(i):a.onreadystatechange=ai[o]=i:i()},abort:function(){i&&i(void 0,!0)}}}}),fe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),fe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return fe.globalEval(e),e}}}),fe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),fe.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=se.head||fe("head")[0]||se.documentElement;return{send:function(s,r){t=se.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||r(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var li=[],hi=/(=)\?(?=&|$)|\?\?/;fe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=li.pop()||fe.expando+"_"+zt++;return this[e]=!0,e}}),fe.ajaxPrefilter("json jsonp",function(t,i,s){var r,n,a,o=!1!==t.jsonp&&(hi.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&hi.test(t.data)&&"data");return o||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=fe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(hi,"$1"+r):!1!==t.jsonp&&(t.url+=(Lt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||fe.error(r+" was not called"),a[0]},t.dataTypes[0]="json",n=e[r],e[r]=function(){a=arguments},s.always(function(){void 0===n?fe(e).removeProp(r):e[r]=n,t[r]&&(t.jsonpCallback=i.jsonpCallback,li.push(r)),a&&fe.isFunction(n)&&n(a[0]),a=n=void 0}),"script"):void 0}),ce.createHTMLDocument=function(){if(!se.implementation.createHTMLDocument)return!1;var e=se.implementation.createHTMLDocument("");return e.body.innerHTML="<form></form><form></form>",2===e.body.childNodes.length}(),fe.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||(ce.createHTMLDocument?se.implementation.createHTMLDocument(""):se);var s=_e.exec(e),r=!i&&[];return s?[t.createElement(s[1])]:(s=v([e],t,r),r&&r.length&&fe(r).remove(),fe.merge([],s.childNodes))};var di=fe.fn.load;fe.fn.load=function(e,t,i){if("string"!=typeof e&&di)return di.apply(this,arguments);var s,r,n,a=this,o=e.indexOf(" ");return o>-1&&(s=fe.trim(e.slice(o,e.length)),e=e.slice(0,o)),fe.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&fe.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){n=arguments,a.html(s?fe("<div>").append(fe.parseHTML(e)).find(s):e)}).always(i&&function(e,t){a.each(function(){i.apply(a,n||[e.responseText,t,e])})}),this},fe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){fe.fn[t]=function(e){return this.on(t,e)}}),fe.expr.filters.animated=function(e){return fe.grep(fe.timers,function(t){return e===t.elem}).length},fe.offset={setOffset:function(e,t,i){var s,r,n,a,o,l,h,d=fe.css(e,"position"),c=fe(e),u={};"static"===d&&(e.style.position="relative"),o=c.offset(),n=fe.css(e,"top"),l=fe.css(e,"left"),h=("absolute"===d||"fixed"===d)&&fe.inArray("auto",[n,l])>-1,h?(s=c.position(),a=s.top,r=s.left):(a=parseFloat(n)||0,r=parseFloat(l)||0),fe.isFunction(t)&&(t=t.call(e,i,fe.extend({},o))),null!=t.top&&(u.top=t.top-o.top+a),null!=t.left&&(u.left=t.left-o.left+r),"using"in t?t.using.call(e,u):c.css(u)}},fe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){fe.offset.setOffset(this,e,t)});var t,i,s={top:0,left:0},r=this[0],n=r&&r.ownerDocument;return n?(t=n.documentElement,fe.contains(t,r)?(void 0!==r.getBoundingClientRect&&(s=r.getBoundingClientRect()),i=te(n),{top:s.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:s.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):s):void 0},position:function(){if(this[0]){var e,t,i={top:0,left:0},s=this[0];return"fixed"===fe.css(s,"position")?t=s.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),fe.nodeName(e[0],"html")||(i=e.offset()),i.top+=fe.css(e[0],"borderTopWidth",!0)-e.scrollTop(),i.left+=fe.css(e[0],"borderLeftWidth",!0)-e.scrollLeft()),{
top:t.top-i.top-fe.css(s,"marginTop",!0),left:t.left-i.left-fe.css(s,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!fe.nodeName(e,"html")&&"static"===fe.css(e,"position");)e=e.offsetParent;return e||ut})}}),fe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);fe.fn[e]=function(s){return Ee(this,function(e,s,r){var n=te(e);return void 0===r?n?t in n?n[t]:n.document.documentElement[s]:e[s]:void(n?n.scrollTo(i?fe(n).scrollLeft():r,i?r:fe(n).scrollTop()):e[s]=r)},e,s,arguments.length,null)}}),fe.each(["top","left"],function(e,t){fe.cssHooks[t]=M(ce.pixelPosition,function(e,i){return i?(i=pt(e,t),dt.test(i)?fe(e).position()[t]+"px":i):void 0})}),fe.each({Height:"height",Width:"width"},function(e,t){fe.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,s){fe.fn[s]=function(s,r){var n=arguments.length&&(i||"boolean"!=typeof s),a=i||(!0===s||!0===r?"margin":"border");return Ee(this,function(t,i,s){var r;return fe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===s?fe.css(t,i,a):fe.style(t,i,s,a)},t,n?s:void 0,n,null)}})}),fe.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,s){return this.on(t,e,i,s)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),fe.fn.size=function(){return this.length},fe.fn.andSelf=fe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fe});var ci=e.jQuery,ui=e.$;return fe.noConflict=function(t){return e.$===fe&&(e.$=ui),t&&e.jQuery===fe&&(e.jQuery=ci),fe},t||(e.jQuery=e.$=fe),fe}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Cs.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e){return void 0===e}function n(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){var i,s=[];for(i=0;i<e.length;++i)s.push(t(e[i],i));return s}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){for(var i in t)l(t,i)&&(e[i]=t[i]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,i,s){return Tt(e,t,i,s,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function u(e){return null==e._pf&&(e._pf=c()),e._pf}function f(e){if(null==e._isValid){var t=u(e),i=Ss.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function p(e){var t=d(NaN);return null!=e?h(u(t),e):u(t).userInvalidated=!0,t}function m(e,t){var i,s,n;if(r(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),r(t._i)||(e._i=t._i),r(t._f)||(e._f=t._f),r(t._l)||(e._l=t._l),r(t._strict)||(e._strict=t._strict),r(t._tzm)||(e._tzm=t._tzm),r(t._isUTC)||(e._isUTC=t._isUTC),r(t._offset)||(e._offset=t._offset),r(t._pf)||(e._pf=u(t)),r(t._locale)||(e._locale=t._locale),qs.length>0)for(i=0;i<qs.length;i++)s=qs[i],n=t[s],r(n)||(e[s]=n);return e}function g(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===ks&&(ks=!0,e.updateOffset(this),ks=!1)}function v(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function x(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function y(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=x(t)),i}function w(e,t,i){var s,r=Math.min(e.length,t.length),n=Math.abs(e.length-t.length),a=0;for(s=0;s<r;s++)(i&&e[s]!==t[s]||!i&&y(e[s])!==y(t[s]))&&a++;return a+n}function b(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function _(t,i){var s=!0;return h(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),s){for(var r,n=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){r+="\n["+a+"] ";for(var o in arguments[0])r+=o+": "+arguments[0][o]+", ";r=r.slice(0,-2)}else r=arguments[a];n.push(r)}b(t+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),s=!1}return i.apply(this,arguments)},i)}function T(t,i){null!=e.deprecationHandler&&e.deprecationHandler(t,i),Ds[t]||(b(i),Ds[t]=!0)}function j(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function C(e){var t,i;for(i in e)t=e[i],j(t)?this[i]=t:this["_"+i]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function S(e,t){var s,r=h({},e);for(s in t)l(t,s)&&(i(e[s])&&i(t[s])?(r[s]={},h(r[s],e[s]),h(r[s],t[s])):null!=t[s]?r[s]=t[s]:delete r[s]);for(s in e)l(e,s)&&!l(t,s)&&i(e[s])&&(r[s]=h({},r[s]));return r}function q(e){null!=e&&this.set(e)}function k(e,t,i){var s=this._calendar[e]||this._calendar.sameElse;return j(s)?s.call(t,i):s}function D(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function I(){return this._invalidDate}function M(e){return this._ordinal.replace("%d",e)}function P(e,t,i,s){var r=this._relativeTime[i];return j(r)?r(e,t,i,s):r.replace(/%d/i,e)}function H(e,t){var i=this._relativeTime[e>0?"future":"past"];return j(i)?i(t):i.replace(/%s/i,t)}function A(e,t){var i=e.toLowerCase();Bs[i]=Bs[i+"s"]=Bs[t]=e}function B(e){return"string"==typeof e?Bs[e]||Bs[e.toLowerCase()]:void 0}function N(e){var t,i,s={};for(i in e)l(e,i)&&(t=B(i))&&(s[t]=e[i]);return s}function O(e,t){Ns[e]=t}function E(e){var t=[];for(var i in e)t.push({unit:i,priority:Ns[i]});return t.sort(function(e,t){return e.priority-t.priority}),t}function z(e,t,i){var s=""+Math.abs(e),r=t-s.length;return(e>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+s}function L(e,t,i,s){var r=s;"string"==typeof s&&(r=function(){return this[s]()}),e&&(Ls[e]=r),t&&(Ls[t[0]]=function(){return z(r.apply(this,arguments),t[1],t[2])}),i&&(Ls[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function F(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function R(e){var t,i,s=e.match(Os);for(t=0,i=s.length;t<i;t++)Ls[s[t]]?s[t]=Ls[s[t]]:s[t]=F(s[t]);return function(t){var r,n="";for(r=0;r<i;r++)n+=j(s[r])?s[r].call(t,e):s[r];return n}}function W(e,t){return e.isValid()?(t=V(t,e.localeData()),zs[t]=zs[t]||R(t),zs[t](e)):e.localeData().invalidDate()}function V(e,t){function i(e){return t.longDateFormat(e)||e}var s=5;for(Es.lastIndex=0;s>=0&&Es.test(e);)e=e.replace(Es,i),Es.lastIndex=0,s-=1;return e}function U(e,t,i){rr[e]=j(t)?t:function(e,s){return e&&i?i:t}}function Y(e,t){return l(rr,e)?rr[e](t._strict,t._locale):new RegExp(G(e))}function G(e){return $(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,s,r){return t||i||s||r}))}function $(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function K(e,t){var i,s=t;for("string"==typeof e&&(e=[e]),n(t)&&(s=function(e,i){i[t]=y(e)}),i=0;i<e.length;i++)nr[e[i]]=s}function X(e,t){K(e,function(e,i,s,r){s._w=s._w||{},t(e,s._w,s,r)})}function J(e,t,i){null!=t&&l(nr,e)&&nr[e](t,i._a,i,e)}function Z(e){return Q(e)?366:365}function Q(e){return e%4==0&&e%100!=0||e%400==0}function ee(){return Q(this.year())}function te(t,i){return function(s){return null!=s?(se(this,t,s),e.updateOffset(this,i),this):ie(this,t)}}function ie(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function se(e,t,i){e.isValid()&&!isNaN(i)&&("FullYear"===t&&Q(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),oe(i,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](i))}function re(e){return e=B(e),j(this[e])?this[e]():this}function ne(e,t){if("object"==typeof e){e=N(e);for(var i=E(e),s=0;s<i.length;s++)this[i[s].unit](e[i[s].unit])}else if(e=B(e),j(this[e]))return this[e](t);return this}function ae(e,t){return(e%t+t)%t}function oe(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=ae(t,12);return e+=(t-i)/12,1===i?Q(e)?29:28:31-i%7%2}function le(e,i){return e?t(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||vr).test(i)?"format":"standalone"][e.month()]:t(this._months)?this._months:this._months.standalone}function he(e,i){return e?t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[vr.test(i)?"format":"standalone"][e.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function de(e,t,i){var s,r,n,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)n=d([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(n,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(n,"").toLocaleLowerCase();return i?"MMM"===t?(r=mr.call(this._shortMonthsParse,a),-1!==r?r:null):(r=mr.call(this._longMonthsParse,a),-1!==r?r:null):"MMM"===t?-1!==(r=mr.call(this._shortMonthsParse,a))?r:(r=mr.call(this._longMonthsParse,a),-1!==r?r:null):-1!==(r=mr.call(this._longMonthsParse,a))?r:(r=mr.call(this._shortMonthsParse,a),-1!==r?r:null)}function ce(e,t,i){var s,r,n;if(this._monthsParseExact)return de.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(r=d([2e3,s]),i&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[s]||(n="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[s]=new RegExp(n.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(i&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!i&&this._monthsParse[s].test(e))return s}}function ue(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=y(t);else if(t=e.localeData().monthsParse(t),!n(t))return e;return i=Math.min(e.date(),oe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function fe(t){return null!=t?(ue(this,t),e.updateOffset(this,!0),this):ie(this,"Month")}function pe(){return oe(this.year(),this.month())}function me(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ve.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=wr),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ge(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ve.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=br),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ve(){function e(e,t){return t.length-e.length}var t,i,s=[],r=[],n=[];for(t=0;t<12;t++)i=d([2e3,t]),s.push(this.monthsShort(i,"")),r.push(this.months(i,"")),n.push(this.months(i,"")),n.push(this.monthsShort(i,""));for(s.sort(e),r.sort(e),n.sort(e),t=0;t<12;t++)s[t]=$(s[t]),r[t]=$(r[t]);for(t=0;t<24;t++)n[t]=$(n[t]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function xe(e,t,i,s,r,n,a){var o=new Date(e,t,i,s,r,n,a);return e<100&&e>=0&&isFinite(o.getFullYear())&&o.setFullYear(e),o}function ye(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function we(e,t,i){var s=7+t-i;return-(7+ye(e,0,s).getUTCDay()-t)%7+s-1}function be(e,t,i,s,r){var n,a,o=(7+i-s)%7,l=we(e,s,r),h=1+7*(t-1)+o+l;return h<=0?(n=e-1,a=Z(n)+h):h>Z(e)?(n=e+1,a=h-Z(e)):(n=e,a=h),{year:n,dayOfYear:a}}function _e(e,t,i){var s,r,n=we(e.year(),t,i),a=Math.floor((e.dayOfYear()-n-1)/7)+1;return a<1?(r=e.year()-1,s=a+Te(r,t,i)):a>Te(e.year(),t,i)?(s=a-Te(e.year(),t,i),r=e.year()+1):(r=e.year(),s=a),{week:s,year:r}}function Te(e,t,i){var s=we(e,t,i),r=we(e+1,t,i);return(Z(e)-s+r)/7}function je(e){return _e(e,this._week.dow,this._week.doy).week}function Ce(){return this._week.dow}function Se(){return this._week.doy}function qe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function ke(e){var t=_e(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function De(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Ie(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Me(e,i){return e?t(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(i)?"format":"standalone"][e.day()]:t(this._weekdays)?this._weekdays:this._weekdays.standalone}function Pe(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function He(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ae(e,t,i){var s,r,n,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)n=d([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(n,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(n,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(n,"").toLocaleLowerCase();return i?"dddd"===t?(r=mr.call(this._weekdaysParse,a),-1!==r?r:null):"ddd"===t?(r=mr.call(this._shortWeekdaysParse,a),-1!==r?r:null):(r=mr.call(this._minWeekdaysParse,a),-1!==r?r:null):"dddd"===t?-1!==(r=mr.call(this._weekdaysParse,a))?r:-1!==(r=mr.call(this._shortWeekdaysParse,a))?r:(r=mr.call(this._minWeekdaysParse,a),-1!==r?r:null):"ddd"===t?-1!==(r=mr.call(this._shortWeekdaysParse,a))?r:-1!==(r=mr.call(this._weekdaysParse,a))?r:(r=mr.call(this._minWeekdaysParse,a),-1!==r?r:null):-1!==(r=mr.call(this._minWeekdaysParse,a))?r:-1!==(r=mr.call(this._weekdaysParse,a))?r:(r=mr.call(this._shortWeekdaysParse,a),-1!==r?r:null)}function Be(e,t,i){var s,r,n;if(this._weekdaysParseExact)return Ae.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(r=d([2e3,1]).day(s),i&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(n="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[s]=new RegExp(n.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(i&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(i&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!i&&this._weekdaysParse[s].test(e))return s}}function Ne(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=De(e,this.localeData()),this.add(e-t,"d")):t}function Oe(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ee(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ie(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function ze(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Re.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Sr),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Le(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Re.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qr),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Fe(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Re.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=kr),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Re(){function e(e,t){return t.length-e.length}var t,i,s,r,n,a=[],o=[],l=[],h=[];for(t=0;t<7;t++)i=d([2e3,1]).day(t),s=this.weekdaysMin(i,""),r=this.weekdaysShort(i,""),n=this.weekdays(i,""),a.push(s),o.push(r),l.push(n),h.push(s),h.push(r),h.push(n);for(a.sort(e),o.sort(e),l.sort(e),h.sort(e),t=0;t<7;t++)o[t]=$(o[t]),l[t]=$(l[t]),h[t]=$(h[t]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function We(){return this.hours()%12||12}function Ve(){return this.hours()||24}function Ue(e,t){L(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ye(e,t){return t._meridiemParse}function Ge(e){return"p"===(e+"").toLowerCase().charAt(0)}function $e(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}function Ke(e){return e?e.toLowerCase().replace("_","-"):e}function Xe(e){for(var t,i,s,r,n=0;n<e.length;){for(r=Ke(e[n]).split("-"),t=r.length,i=Ke(e[n+1]),i=i?i.split("-"):null;t>0;){if(s=Je(r.slice(0,t).join("-")))return s;if(i&&i.length>=t&&w(r,i,!0)>=t-1)break;t--}n++}return Dr}function Je(e){var t=null;if(!Hr[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Dr._abbr;require("./locale/"+e),Ze(t)}catch(e){}return Hr[e]}function Ze(e,t){var i;return e&&(i=r(t)?tt(e):Qe(e,t),i?Dr=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Dr._abbr}function Qe(e,t){if(null!==t){var i,s=Pr;if(t.abbr=e,null!=Hr[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=Hr[e]._config;else if(null!=t.parentLocale)if(null!=Hr[t.parentLocale])s=Hr[t.parentLocale]._config;else{if(null==(i=Je(t.parentLocale)))return Ar[t.parentLocale]||(Ar[t.parentLocale]=[]),Ar[t.parentLocale].push({name:e,config:t}),null;s=i._config}return Hr[e]=new q(S(s,t)),Ar[e]&&Ar[e].forEach(function(e){Qe(e.name,e.config)}),Ze(e),Hr[e]}return delete Hr[e],null}function et(e,t){if(null!=t){var i,s,r=Pr;s=Je(e),null!=s&&(r=s._config),t=S(r,t),i=new q(t),i.parentLocale=Hr[e],Hr[e]=i,Ze(e)}else null!=Hr[e]&&(null!=Hr[e].parentLocale?Hr[e]=Hr[e].parentLocale:null!=Hr[e]&&delete Hr[e]);return Hr[e]}function tt(e){var i;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Dr;if(!t(e)){if(i=Je(e))return i;e=[e]}return Xe(e)}function it(){return Is(Hr)}function st(e){var t,i=e._a;return i&&-2===u(e).overflow&&(t=i[or]<0||i[or]>11?or:i[lr]<1||i[lr]>oe(i[ar],i[or])?lr:i[hr]<0||i[hr]>24||24===i[hr]&&(0!==i[dr]||0!==i[cr]||0!==i[ur])?hr:i[dr]<0||i[dr]>59?dr:i[cr]<0||i[cr]>59?cr:i[ur]<0||i[ur]>999?ur:-1,u(e)._overflowDayOfYear&&(t<ar||t>lr)&&(t=lr),u(e)._overflowWeeks&&-1===t&&(t=fr),u(e)._overflowWeekday&&-1===t&&(t=pr),u(e).overflow=t),e}function rt(e,t,i){return null!=e?e:null!=t?t:i}function nt(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function at(e){var t,i,s,r,n,a=[];if(!e._d){for(s=nt(e),e._w&&null==e._a[lr]&&null==e._a[or]&&ot(e),null!=e._dayOfYear&&(n=rt(e._a[ar],s[ar]),(e._dayOfYear>Z(n)||0===e._dayOfYear)&&(u(e)._overflowDayOfYear=!0),i=ye(n,0,e._dayOfYear),e._a[or]=i.getUTCMonth(),e._a[lr]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=s[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[hr]&&0===e._a[dr]&&0===e._a[cr]&&0===e._a[ur]&&(e._nextDay=!0,e._a[hr]=0),e._d=(e._useUTC?ye:xe).apply(null,a),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[hr]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(u(e).weekdayMismatch=!0)}}function ot(e){var t,i,s,r,n,a,o,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)n=1,a=4,i=rt(t.GG,e._a[ar],_e(jt(),1,4).year),s=rt(t.W,1),((r=rt(t.E,1))<1||r>7)&&(l=!0);else{n=e._locale._week.dow,a=e._locale._week.doy;var h=_e(jt(),n,a);i=rt(t.gg,e._a[ar],h.year),s=rt(t.w,h.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+n,(t.e<0||t.e>6)&&(l=!0)):r=n}s<1||s>Te(i,n,a)?u(e)._overflowWeeks=!0:null!=l?u(e)._overflowWeekday=!0:(o=be(i,s,r,n,a),e._a[ar]=o.year,e._dayOfYear=o.dayOfYear)}function lt(e){var t,i,s,r,n,a,o=e._i,l=Br.exec(o)||Nr.exec(o);if(l){for(u(e).iso=!0,t=0,i=Er.length;t<i;t++)if(Er[t][1].exec(l[1])){r=Er[t][0],s=!1!==Er[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,i=zr.length;t<i;t++)if(zr[t][1].exec(l[3])){n=(l[2]||" ")+zr[t][0];break}if(null==n)return void(e._isValid=!1)}if(!s&&null!=n)return void(e._isValid=!1);if(l[4]){if(!Or.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(n||"")+(a||""),gt(e)}else e._isValid=!1}function ht(e,t,i,s,r,n){var a=[dt(e),yr.indexOf(t),parseInt(i,10),parseInt(s,10),parseInt(r,10)];return n&&a.push(parseInt(n,10)),a}function dt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ct(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ut(e,t,i){if(e){if(jr.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return u(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function ft(e,t,i){if(e)return Rr[e];if(t)return 0;var s=parseInt(i,10),r=s%100;return(s-r)/100*60+r}function pt(e){var t=Fr.exec(ct(e._i));if(t){var i=ht(t[4],t[3],t[2],t[5],t[6],t[7]);if(!ut(t[1],i,e))return;e._a=i,e._tzm=ft(t[8],t[9],t[10]),e._d=ye.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),u(e).rfc2822=!0}else e._isValid=!1}function mt(t){var i=Lr.exec(t._i);if(null!==i)return void(t._d=new Date(+i[1]));lt(t),!1===t._isValid&&(delete t._isValid,pt(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))}function gt(t){if(t._f===e.ISO_8601)return void lt(t);if(t._f===e.RFC_2822)return void pt(t);t._a=[],u(t).empty=!0;var i,s,r,n,a,o=""+t._i,l=o.length,h=0;for(r=V(t._f,t._locale).match(Os)||[],i=0;i<r.length;i++)n=r[i],s=(o.match(Y(n,t))||[])[0],s&&(a=o.substr(0,o.indexOf(s)),a.length>0&&u(t).unusedInput.push(a),o=o.slice(o.indexOf(s)+s.length),h+=s.length),Ls[n]?(s?u(t).empty=!1:u(t).unusedTokens.push(n),J(n,s,t)):t._strict&&!s&&u(t).unusedTokens.push(n);u(t).charsLeftOver=l-h,o.length>0&&u(t).unusedInput.push(o),t._a[hr]<=12&&!0===u(t).bigHour&&t._a[hr]>0&&(u(t).bigHour=void 0),u(t).parsedDateParts=t._a.slice(0),u(t).meridiem=t._meridiem,t._a[hr]=vt(t._locale,t._a[hr],t._meridiem),at(t),st(t)}function vt(e,t,i){var s;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?(s=e.isPM(i),s&&t<12&&(t+=12),s||12!==t||(t=0),t):t}function xt(e){var t,i,s,r,n;if(0===e._f.length)return u(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)n=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],gt(t),f(t)&&(n+=u(t).charsLeftOver,n+=10*u(t).unusedTokens.length,u(t).score=n,(null==s||n<s)&&(s=n,i=t));h(e,i||t)}function yt(e){if(!e._d){var t=N(e._i);e._a=o([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),at(e)}}function wt(e){var t=new g(st(bt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function bt(e){var i=e._i,s=e._f;return e._locale=e._locale||tt(e._l),null===i||void 0===s&&""===i?p({nullInput:!0}):("string"==typeof i&&(e._i=i=e._locale.preparse(i)),v(i)?new g(st(i)):(a(i)?e._d=i:t(s)?xt(e):s?gt(e):_t(e),f(e)||(e._d=null),e))}function _t(s){var l=s._i;r(l)?s._d=new Date(e.now()):a(l)?s._d=new Date(l.valueOf()):"string"==typeof l?mt(s):t(l)?(s._a=o(l.slice(0),function(e){return parseInt(e,10)}),at(s)):i(l)?yt(s):n(l)?s._d=new Date(l):e.createFromInputFallback(s)}function Tt(e,r,n,a,o){var l={};return!0!==n&&!1!==n||(a=n,n=void 0),(i(e)&&s(e)||t(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=o,l._l=n,l._i=e,l._f=r,l._strict=a,wt(l)}function jt(e,t,i,s){return Tt(e,t,i,s,!1)}function Ct(e,i){var s,r;if(1===i.length&&t(i[0])&&(i=i[0]),!i.length)return jt();for(s=i[0],r=1;r<i.length;++r)i[r].isValid()&&!i[r][e](s)||(s=i[r]);return s}function St(){return Ct("isBefore",[].slice.call(arguments,0))}function qt(){return Ct("isAfter",[].slice.call(arguments,0))}function kt(e){for(var t in e)if(-1===mr.call(Yr,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var i=!1,s=0;s<Yr.length;++s)if(e[Yr[s]]){if(i)return!1;parseFloat(e[Yr[s]])!==y(e[Yr[s]])&&(i=!0)}return!0}function Dt(){return this._isValid}function It(){return Kt(NaN)}function Mt(e){var t=N(e),i=t.year||0,s=t.quarter||0,r=t.month||0,n=t.week||0,a=t.day||0,o=t.hour||0,l=t.minute||0,h=t.second||0,d=t.millisecond||0;this._isValid=kt(t),this._milliseconds=+d+1e3*h+6e4*l+1e3*o*60*60,this._days=+a+7*n,this._months=+r+3*s+12*i,this._data={},this._locale=tt(),this._bubble()}function Pt(e){return e instanceof Mt}function Ht(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function At(e,t){L(e,0,0,function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+z(~~(e/60),2)+t+z(~~e%60,2)})}function Bt(e,t){var i=(t||"").match(e);if(null===i)return null;var s=i[i.length-1]||[],r=(s+"").match(Gr)||["-",0,0],n=60*r[1]+y(r[2]);return 0===n?0:"+"===r[0]?n:-n}function Nt(t,i){var s,r;return i._isUTC?(s=i.clone(),r=(v(t)||a(t)?t.valueOf():jt(t).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+r),e.updateOffset(s,!1),s):jt(t).local()}function Ot(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Et(t,i,s){var r,n=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Bt(tr,t)))return this}else Math.abs(t)<16&&!s&&(t*=60);return!this._isUTC&&i&&(r=Ot(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),n!==t&&(!i||this._changeInProgress?ei(this,Kt(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?n:Ot(this)}function zt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Lt(e){return this.utcOffset(0,e)}function Ft(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ot(this),"m")),this}function Rt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Bt(er,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Wt(e){return!!this.isValid()&&(e=e?jt(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function Vt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ut(){if(!r(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),e=bt(e),e._a){var t=e._isUTC?d(e._a):jt(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Yt(){return!!this.isValid()&&!this._isUTC}function Gt(){return!!this.isValid()&&this._isUTC}function $t(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Kt(e,t){var i,s,r,a=e,o=null;return Pt(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:n(e)?(a={},t?a[t]=e:a.milliseconds=e):(o=$r.exec(e))?(i="-"===o[1]?-1:1,a={y:0,d:y(o[lr])*i,h:y(o[hr])*i,m:y(o[dr])*i,s:y(o[cr])*i,ms:y(Ht(1e3*o[ur]))*i}):(o=Kr.exec(e))?(i="-"===o[1]?-1:(o[1],1),a={y:Xt(o[2],i),M:Xt(o[3],i),w:Xt(o[4],i),d:Xt(o[5],i),h:Xt(o[6],i),m:Xt(o[7],i),s:Xt(o[8],i)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=Zt(jt(a.from),jt(a.to)),a={},a.ms=r.milliseconds,a.M=r.months),s=new Mt(a),Pt(e)&&l(e,"_locale")&&(s._locale=e._locale),s}function Xt(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Jt(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Zt(e,t){var i;return e.isValid()&&t.isValid()?(t=Nt(t,e),e.isBefore(t)?i=Jt(e,t):(i=Jt(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function Qt(e,t){return function(i,s){var r,n;return null===s||isNaN(+s)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=i,i=s,s=n),i="string"==typeof i?+i:i,r=Kt(i,s),ei(this,r,e),this}}function ei(t,i,s,r){var n=i._milliseconds,a=Ht(i._days),o=Ht(i._months);t.isValid()&&(r=null==r||r,o&&ue(t,ie(t,"Month")+o*s),a&&se(t,"Date",ie(t,"Date")+a*s),n&&t._d.setTime(t._d.valueOf()+n*s),r&&e.updateOffset(t,a||o))}function ti(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function ii(t,i){var s=t||jt(),r=Nt(s,this).startOf("day"),n=e.calendarFormat(this,r)||"sameElse",a=i&&(j(i[n])?i[n].call(this,s):i[n]);return this.format(a||this.localeData().calendar(n,this,jt(s)))}function si(){return new g(this)}function ri(e,t){var i=v(e)?e:jt(e);return!(!this.isValid()||!i.isValid())&&(t=B(r(t)?"millisecond":t),"millisecond"===t?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())}function ni(e,t){var i=v(e)?e:jt(e);return!(!this.isValid()||!i.isValid())&&(t=B(r(t)?"millisecond":t),"millisecond"===t?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())}function ai(e,t,i,s){return s=s||"()",("("===s[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===s[1]?this.isBefore(t,i):!this.isAfter(t,i))}function oi(e,t){var i,s=v(e)?e:jt(e);return!(!this.isValid()||!s.isValid())&&(t=B(t||"millisecond"),"millisecond"===t?this.valueOf()===s.valueOf():(i=s.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))}function li(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function hi(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function di(e,t,i){var s,r,n;if(!this.isValid())return NaN;if(s=Nt(e,this),!s.isValid())return NaN;switch(r=6e4*(s.utcOffset()-this.utcOffset()),t=B(t)){case"year":n=ci(this,s)/12;break;case"month":n=ci(this,s);break;case"quarter":n=ci(this,s)/3;break;case"second":n=(this-s)/1e3;break;case"minute":n=(this-s)/6e4;break;case"hour":n=(this-s)/36e5;break;case"day":n=(this-s-r)/864e5;break;case"week":n=(this-s-r)/6048e5;break;default:n=this-s}return i?n:x(n)}function ci(e,t){var i,s,r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,"months");return t-n<0?(i=e.clone().add(r-1,"months"),
s=(t-n)/(n-i)):(i=e.clone().add(r+1,"months"),s=(t-n)/(i-n)),-(r+s)||0}function ui(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function fi(e){if(!this.isValid())return null;var t=!0!==e,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?W(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):j(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(i,"Z")):W(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function pi(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var i="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=t+'[")]';return this.format(i+s+"-MM-DD[T]HH:mm:ss.SSS"+r)}function mi(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var i=W(this,t);return this.localeData().postformat(i)}function gi(e,t){return this.isValid()&&(v(e)&&e.isValid()||jt(e).isValid())?Kt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function vi(e){return this.from(jt(),e)}function xi(e,t){return this.isValid()&&(v(e)&&e.isValid()||jt(e).isValid())?Kt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function yi(e){return this.to(jt(),e)}function wi(e){var t;return void 0===e?this._locale._abbr:(t=tt(e),null!=t&&(this._locale=t),this)}function bi(){return this._locale}function _i(e){switch(e=B(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Ti(e){return void 0===(e=B(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function ji(){return this._d.valueOf()-6e4*(this._offset||0)}function Ci(){return Math.floor(this.valueOf()/1e3)}function Si(){return new Date(this.valueOf())}function qi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function ki(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Di(){return this.isValid()?this.toISOString():null}function Ii(){return f(this)}function Mi(){return h({},u(this))}function Pi(){return u(this).overflow}function Hi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ai(e,t){L(0,[e,e.length],0,t)}function Bi(e){return zi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ni(e){return zi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Oi(){return Te(this.year(),1,4)}function Ei(){var e=this.localeData()._week;return Te(this.year(),e.dow,e.doy)}function zi(e,t,i,s,r){var n;return null==e?_e(this,s,r).year:(n=Te(e,s,r),t>n&&(t=n),Li.call(this,e,t,i,s,r))}function Li(e,t,i,s,r){var n=be(e,t,i,s,r),a=ye(n.year,0,n.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Fi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Ri(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Wi(e,t){t[ur]=y(1e3*("0."+e))}function Vi(){return this._isUTC?"UTC":""}function Ui(){return this._isUTC?"Coordinated Universal Time":""}function Yi(e){return jt(1e3*e)}function Gi(){return jt.apply(null,arguments).parseZone()}function $i(e){return e}function Ki(e,t,i,s){var r=tt(),n=d().set(s,t);return r[i](n,e)}function Xi(e,t,i){if(n(e)&&(t=e,e=void 0),e=e||"",null!=t)return Ki(e,t,i,"month");var s,r=[];for(s=0;s<12;s++)r[s]=Ki(e,s,i,"month");return r}function Ji(e,t,i,s){"boolean"==typeof e?(n(t)&&(i=t,t=void 0),t=t||""):(t=e,i=t,e=!1,n(t)&&(i=t,t=void 0),t=t||"");var r=tt(),a=e?r._week.dow:0;if(null!=i)return Ki(t,(i+a)%7,s,"day");var o,l=[];for(o=0;o<7;o++)l[o]=Ki(t,(o+a)%7,s,"day");return l}function Zi(e,t){return Xi(e,t,"months")}function Qi(e,t){return Xi(e,t,"monthsShort")}function es(e,t,i){return Ji(e,t,i,"weekdays")}function ts(e,t,i){return Ji(e,t,i,"weekdaysShort")}function is(e,t,i){return Ji(e,t,i,"weekdaysMin")}function ss(){var e=this._data;return this._milliseconds=on(this._milliseconds),this._days=on(this._days),this._months=on(this._months),e.milliseconds=on(e.milliseconds),e.seconds=on(e.seconds),e.minutes=on(e.minutes),e.hours=on(e.hours),e.months=on(e.months),e.years=on(e.years),this}function rs(e,t,i,s){var r=Kt(t,i);return e._milliseconds+=s*r._milliseconds,e._days+=s*r._days,e._months+=s*r._months,e._bubble()}function ns(e,t){return rs(this,e,t,1)}function as(e,t){return rs(this,e,t,-1)}function os(e){return e<0?Math.floor(e):Math.ceil(e)}function ls(){var e,t,i,s,r,n=this._milliseconds,a=this._days,o=this._months,l=this._data;return n>=0&&a>=0&&o>=0||n<=0&&a<=0&&o<=0||(n+=864e5*os(ds(o)+a),a=0,o=0),l.milliseconds=n%1e3,e=x(n/1e3),l.seconds=e%60,t=x(e/60),l.minutes=t%60,i=x(t/60),l.hours=i%24,a+=x(i/24),r=x(hs(a)),o+=r,a-=os(ds(r)),s=x(o/12),o%=12,l.days=a,l.months=o,l.years=s,this}function hs(e){return 4800*e/146097}function ds(e){return 146097*e/4800}function cs(e){if(!this.isValid())return NaN;var t,i,s=this._milliseconds;if("month"===(e=B(e))||"year"===e)return t=this._days+s/864e5,i=this._months+hs(t),"month"===e?i:i/12;switch(t=this._days+Math.round(ds(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}}function us(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12):NaN}function fs(e){return function(){return this.as(e)}}function ps(){return Kt(this)}function ms(e){return e=B(e),this.isValid()?this[e+"s"]():NaN}function gs(e){return function(){return this.isValid()?this._data[e]:NaN}}function vs(){return x(this.days()/7)}function xs(e,t,i,s,r){return r.relativeTime(t||1,!!i,e,s)}function ys(e,t,i){var s=Kt(e).abs(),r=Tn(s.as("s")),n=Tn(s.as("m")),a=Tn(s.as("h")),o=Tn(s.as("d")),l=Tn(s.as("M")),h=Tn(s.as("y")),d=r<=jn.ss&&["s",r]||r<jn.s&&["ss",r]||n<=1&&["m"]||n<jn.m&&["mm",n]||a<=1&&["h"]||a<jn.h&&["hh",a]||o<=1&&["d"]||o<jn.d&&["dd",o]||l<=1&&["M"]||l<jn.M&&["MM",l]||h<=1&&["y"]||["yy",h];return d[2]=t,d[3]=+e>0,d[4]=i,xs.apply(null,d)}function ws(e){return void 0===e?Tn:"function"==typeof e&&(Tn=e,!0)}function bs(e,t){return void 0!==jn[e]&&(void 0===t?jn[e]:(jn[e]=t,"s"===e&&(jn.ss=t-1),!0))}function _s(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),i=ys(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)}function Ts(e){return(e>0)-(e<0)||+e}function js(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i,s=Cn(this._milliseconds)/1e3,r=Cn(this._days),n=Cn(this._months);e=x(s/60),t=x(e/60),s%=60,e%=60,i=x(n/12),n%=12;var a=i,o=n,l=r,h=t,d=e,c=s?s.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var f=u<0?"-":"",p=Ts(this._months)!==Ts(u)?"-":"",m=Ts(this._days)!==Ts(u)?"-":"",g=Ts(this._milliseconds)!==Ts(u)?"-":"";return f+"P"+(a?p+a+"Y":"")+(o?p+o+"M":"")+(l?m+l+"D":"")+(h||d||c?"T":"")+(h?g+h+"H":"")+(d?g+d+"M":"")+(c?g+c+"S":"")}var Cs,Ss;Ss=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,s=0;s<i;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};var qs=e.momentProperties=[],ks=!1,Ds={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Is;Is=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)l(e,t)&&i.push(t);return i};var Ms={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ps={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Hs=/\d{1,2}/,As={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Bs={},Ns={},Os=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Es=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,zs={},Ls={},Fs=/\d/,Rs=/\d\d/,Ws=/\d{3}/,Vs=/\d{4}/,Us=/[+-]?\d{6}/,Ys=/\d\d?/,Gs=/\d\d\d\d?/,$s=/\d\d\d\d\d\d?/,Ks=/\d{1,3}/,Xs=/\d{1,4}/,Js=/[+-]?\d{1,6}/,Zs=/\d+/,Qs=/[+-]?\d+/,er=/Z|[+-]\d\d:?\d\d/gi,tr=/Z|[+-]\d\d(?::?\d\d)?/gi,ir=/[+-]?\d+(\.\d{1,3})?/,sr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,rr={},nr={},ar=0,or=1,lr=2,hr=3,dr=4,cr=5,ur=6,fr=7,pr=8;L("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),L(0,["YY",2],0,function(){return this.year()%100}),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),A("year","y"),O("year",1),U("Y",Qs),U("YY",Ys,Rs),U("YYYY",Xs,Vs),U("YYYYY",Js,Us),U("YYYYYY",Js,Us),K(["YYYYY","YYYYYY"],ar),K("YYYY",function(t,i){i[ar]=2===t.length?e.parseTwoDigitYear(t):y(t)}),K("YY",function(t,i){i[ar]=e.parseTwoDigitYear(t)}),K("Y",function(e,t){t[ar]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return y(e)+(y(e)>68?1900:2e3)};var mr,gr=te("FullYear",!0);mr=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},L("M",["MM",2],"Mo",function(){return this.month()+1}),L("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),L("MMMM",0,0,function(e){return this.localeData().months(this,e)}),A("month","M"),O("month",8),U("M",Ys),U("MM",Ys,Rs),U("MMM",function(e,t){return t.monthsShortRegex(e)}),U("MMMM",function(e,t){return t.monthsRegex(e)}),K(["M","MM"],function(e,t){t[or]=y(e)-1}),K(["MMM","MMMM"],function(e,t,i,s){var r=i._locale.monthsParse(e,s,i._strict);null!=r?t[or]=r:u(i).invalidMonth=e});var vr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,xr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),yr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),wr=sr,br=sr;L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),O("week",5),O("isoWeek",5),U("w",Ys),U("ww",Ys,Rs),U("W",Ys),U("WW",Ys,Rs),X(["w","ww","W","WW"],function(e,t,i,s){t[s.substr(0,1)]=y(e)});var _r={dow:0,doy:6};L("d",0,"do","day"),L("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),L("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),L("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),O("day",11),O("weekday",11),O("isoWeekday",11),U("d",Ys),U("e",Ys),U("E",Ys),U("dd",function(e,t){return t.weekdaysMinRegex(e)}),U("ddd",function(e,t){return t.weekdaysShortRegex(e)}),U("dddd",function(e,t){return t.weekdaysRegex(e)}),X(["dd","ddd","dddd"],function(e,t,i,s){var r=i._locale.weekdaysParse(e,s,i._strict);null!=r?t.d=r:u(i).invalidWeekday=e}),X(["d","e","E"],function(e,t,i,s){t[s]=y(e)});var Tr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),jr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Cr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Sr=sr,qr=sr,kr=sr;L("H",["HH",2],0,"hour"),L("h",["hh",2],0,We),L("k",["kk",2],0,Ve),L("hmm",0,0,function(){return""+We.apply(this)+z(this.minutes(),2)}),L("hmmss",0,0,function(){return""+We.apply(this)+z(this.minutes(),2)+z(this.seconds(),2)}),L("Hmm",0,0,function(){return""+this.hours()+z(this.minutes(),2)}),L("Hmmss",0,0,function(){return""+this.hours()+z(this.minutes(),2)+z(this.seconds(),2)}),Ue("a",!0),Ue("A",!1),A("hour","h"),O("hour",13),U("a",Ye),U("A",Ye),U("H",Ys),U("h",Ys),U("k",Ys),U("HH",Ys,Rs),U("hh",Ys,Rs),U("kk",Ys,Rs),U("hmm",Gs),U("hmmss",$s),U("Hmm",Gs),U("Hmmss",$s),K(["H","HH"],hr),K(["k","kk"],function(e,t,i){var s=y(e);t[hr]=24===s?0:s}),K(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),K(["h","hh"],function(e,t,i){t[hr]=y(e),u(i).bigHour=!0}),K("hmm",function(e,t,i){var s=e.length-2;t[hr]=y(e.substr(0,s)),t[dr]=y(e.substr(s)),u(i).bigHour=!0}),K("hmmss",function(e,t,i){var s=e.length-4,r=e.length-2;t[hr]=y(e.substr(0,s)),t[dr]=y(e.substr(s,2)),t[cr]=y(e.substr(r)),u(i).bigHour=!0}),K("Hmm",function(e,t,i){var s=e.length-2;t[hr]=y(e.substr(0,s)),t[dr]=y(e.substr(s))}),K("Hmmss",function(e,t,i){var s=e.length-4,r=e.length-2;t[hr]=y(e.substr(0,s)),t[dr]=y(e.substr(s,2)),t[cr]=y(e.substr(r))});var Dr,Ir=/[ap]\.?m?\.?/i,Mr=te("Hours",!0),Pr={calendar:Ms,longDateFormat:Ps,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Hs,relativeTime:As,months:xr,monthsShort:yr,week:_r,weekdays:Tr,weekdaysMin:Cr,weekdaysShort:jr,meridiemParse:Ir},Hr={},Ar={},Br=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Nr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Or=/Z|[+-]\d\d(?::?\d\d)?/,Er=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],zr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Lr=/^\/?Date\((\-?\d+)/i,Fr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Rr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=_("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Wr=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=jt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()}),Vr=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=jt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:p()}),Ur=function(){return Date.now?Date.now():+new Date},Yr=["year","quarter","month","week","day","hour","minute","second","millisecond"];At("Z",":"),At("ZZ",""),U("Z",tr),U("ZZ",tr),K(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=Bt(tr,e)});var Gr=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var $r=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Kr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Kt.fn=Mt.prototype,Kt.invalid=It;var Xr=Qt(1,"add"),Jr=Qt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Zr=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});L(0,["gg",2],0,function(){return this.weekYear()%100}),L(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ai("gggg","weekYear"),Ai("ggggg","weekYear"),Ai("GGGG","isoWeekYear"),Ai("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),O("weekYear",1),O("isoWeekYear",1),U("G",Qs),U("g",Qs),U("GG",Ys,Rs),U("gg",Ys,Rs),U("GGGG",Xs,Vs),U("gggg",Xs,Vs),U("GGGGG",Js,Us),U("ggggg",Js,Us),X(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,s){t[s.substr(0,2)]=y(e)}),X(["gg","GG"],function(t,i,s,r){i[r]=e.parseTwoDigitYear(t)}),L("Q",0,"Qo","quarter"),A("quarter","Q"),O("quarter",7),U("Q",Fs),K("Q",function(e,t){t[or]=3*(y(e)-1)}),L("D",["DD",2],"Do","date"),A("date","D"),O("date",9),U("D",Ys),U("DD",Ys,Rs),U("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),K(["D","DD"],lr),K("Do",function(e,t){t[lr]=y(e.match(Ys)[0])});var Qr=te("Date",!0);L("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),O("dayOfYear",4),U("DDD",Ks),U("DDDD",Ws),K(["DDD","DDDD"],function(e,t,i){i._dayOfYear=y(e)}),L("m",["mm",2],0,"minute"),A("minute","m"),O("minute",14),U("m",Ys),U("mm",Ys,Rs),K(["m","mm"],dr);var en=te("Minutes",!1);L("s",["ss",2],0,"second"),A("second","s"),O("second",15),U("s",Ys),U("ss",Ys,Rs),K(["s","ss"],cr);var tn=te("Seconds",!1);L("S",0,0,function(){return~~(this.millisecond()/100)}),L(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,function(){return 10*this.millisecond()}),L(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),L(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),L(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),L(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),L(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),O("millisecond",16),U("S",Ks,Fs),U("SS",Ks,Rs),U("SSS",Ks,Ws);var sn;for(sn="SSSS";sn.length<=9;sn+="S")U(sn,Zs);for(sn="S";sn.length<=9;sn+="S")K(sn,Wi);var rn=te("Milliseconds",!1);L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");var nn=g.prototype;nn.add=Xr,nn.calendar=ii,nn.clone=si,nn.diff=di,nn.endOf=Ti,nn.format=mi,nn.from=gi,nn.fromNow=vi,nn.to=xi,nn.toNow=yi,nn.get=re,nn.invalidAt=Pi,nn.isAfter=ri,nn.isBefore=ni,nn.isBetween=ai,nn.isSame=oi,nn.isSameOrAfter=li,nn.isSameOrBefore=hi,nn.isValid=Ii,nn.lang=Zr,nn.locale=wi,nn.localeData=bi,nn.max=Vr,nn.min=Wr,nn.parsingFlags=Mi,nn.set=ne,nn.startOf=_i,nn.subtract=Jr,nn.toArray=qi,nn.toObject=ki,nn.toDate=Si,nn.toISOString=fi,nn.inspect=pi,nn.toJSON=Di,nn.toString=ui,nn.unix=Ci,nn.valueOf=ji,nn.creationData=Hi,nn.year=gr,nn.isLeapYear=ee,nn.weekYear=Bi,nn.isoWeekYear=Ni,nn.quarter=nn.quarters=Fi,nn.month=fe,nn.daysInMonth=pe,nn.week=nn.weeks=qe,nn.isoWeek=nn.isoWeeks=ke,nn.weeksInYear=Ei,nn.isoWeeksInYear=Oi,nn.date=Qr,nn.day=nn.days=Ne,nn.weekday=Oe,nn.isoWeekday=Ee,nn.dayOfYear=Ri,nn.hour=nn.hours=Mr,nn.minute=nn.minutes=en,nn.second=nn.seconds=tn,nn.millisecond=nn.milliseconds=rn,nn.utcOffset=Et,nn.utc=Lt,nn.local=Ft,nn.parseZone=Rt,nn.hasAlignedHourOffset=Wt,nn.isDST=Vt,nn.isLocal=Yt,nn.isUtcOffset=Gt,nn.isUtc=$t,nn.isUTC=$t,nn.zoneAbbr=Vi,nn.zoneName=Ui,nn.dates=_("dates accessor is deprecated. Use date instead.",Qr),nn.months=_("months accessor is deprecated. Use month instead",fe),nn.years=_("years accessor is deprecated. Use year instead",gr),nn.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",zt),nn.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ut);var an=q.prototype;an.calendar=k,an.longDateFormat=D,an.invalidDate=I,an.ordinal=M,an.preparse=$i,an.postformat=$i,an.relativeTime=P,an.pastFuture=H,an.set=C,an.months=le,an.monthsShort=he,an.monthsParse=ce,an.monthsRegex=ge,an.monthsShortRegex=me,an.week=je,an.firstDayOfYear=Se,an.firstDayOfWeek=Ce,an.weekdays=Me,an.weekdaysMin=He,an.weekdaysShort=Pe,an.weekdaysParse=Be,an.weekdaysRegex=ze,an.weekdaysShortRegex=Le,an.weekdaysMinRegex=Fe,an.isPM=Ge,an.meridiem=$e,Ze("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===y(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=_("moment.lang is deprecated. Use moment.locale instead.",Ze),e.langData=_("moment.langData is deprecated. Use moment.localeData instead.",tt);var on=Math.abs,ln=fs("ms"),hn=fs("s"),dn=fs("m"),cn=fs("h"),un=fs("d"),fn=fs("w"),pn=fs("M"),mn=fs("y"),gn=gs("milliseconds"),vn=gs("seconds"),xn=gs("minutes"),yn=gs("hours"),wn=gs("days"),bn=gs("months"),_n=gs("years"),Tn=Math.round,jn={ss:44,s:45,m:45,h:22,d:26,M:11},Cn=Math.abs,Sn=Mt.prototype;return Sn.isValid=Dt,Sn.abs=ss,Sn.add=ns,Sn.subtract=as,Sn.as=cs,Sn.asMilliseconds=ln,Sn.asSeconds=hn,Sn.asMinutes=dn,Sn.asHours=cn,Sn.asDays=un,Sn.asWeeks=fn,Sn.asMonths=pn,Sn.asYears=mn,Sn.valueOf=us,Sn._bubble=ls,Sn.clone=ps,Sn.get=ms,Sn.milliseconds=gn,Sn.seconds=vn,Sn.minutes=xn,Sn.hours=yn,Sn.days=wn,Sn.weeks=vs,Sn.months=bn,Sn.years=_n,Sn.humanize=_s,Sn.toISOString=js,Sn.toString=js,Sn.toJSON=js,Sn.locale=wi,Sn.localeData=bi,Sn.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",js),Sn.lang=Zr,L("X",0,0,"unix"),L("x",0,0,"valueOf"),U("x",Qs),U("X",ir),K("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),K("x",function(e,t,i){i._d=new Date(y(e))}),e.version="2.22.2",function(e){Cs=e}(jt),e.fn=nn,e.min=St,e.max=qt,e.now=Ur,e.utc=d,e.unix=Yi,e.months=Zi,e.isDate=a,e.locale=Ze,e.invalid=p,e.duration=Kt,e.isMoment=v,e.weekdays=es,e.parseZone=Gi,e.localeData=tt,e.isDuration=Pt,e.monthsShort=Qi,e.weekdaysMin=is,e.defineLocale=Qe,e.updateLocale=et,e.locales=it,e.weekdaysShort=ts,e.normalizeUnits=B,e.relativeTimeRounding=ws,e.relativeTimeThreshold=bs,e.calendarFormat=ti,e.prototype=nn,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},e}),function(e){var t;if(!window.jQuery)throw new Error("UIkit 2.x requires jQuery");t=function(e){"use strict";if(window.UIkit2)return window.UIkit2;var t={},i=window.UIkit||void 0;if(t.version="2.27.4",t.noConflict=function(){return i&&(window.UIkit=i,e.UIkit=i,e.fn.uk=i.fn),t},window.UIkit2=t,i||(window.UIkit=t),t.$=e,t.$doc=t.$(document),t.$win=t.$(window),t.$html=t.$("html"),t.support={},t.support.transition=function(){var e=function(){var e,t=document.body||document.documentElement,i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in i)if(void 0!==t.style[e])return i[e]}();return e&&{end:e}}(),t.support.animation=function(){var e=function(){var e,t=document.body||document.documentElement,i={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(e in i)if(void 0!==t.style[e])return i[e]}();return e&&{end:e}}(),function(){Date.now=Date.now||function(){return(new Date).getTime()};for(var e=["webkit","moz"],t=0;t<e.length&&!window.requestAnimationFrame;++t){var i=e[t];window.requestAnimationFrame=window[i+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var s=0;window.requestAnimationFrame=function(e){var t=Date.now(),i=Math.max(s+16,t);return setTimeout(function(){e(s=i)},i-t)},window.cancelAnimationFrame=clearTimeout}}(),t.support.touch="ontouchstart"in document||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0||!1,t.support.mutationobserver=window.MutationObserver||window.WebKitMutationObserver||null,t.Utils={},t.Utils.isFullscreen=function(){return document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.fullscreenElement||!1},t.Utils.str2json=function(e,t){try{return t?JSON.parse(e.replace(/([\$\w]+)\s*:/g,function(e,t){return'"'+t+'":'}).replace(/'([^']+)'/g,function(e,t){return'"'+t+'"'})):new Function("","var json = "+e+"; return JSON.parse(JSON.stringify(json));")()}catch(e){return!1}},t.Utils.debounce=function(e,t,i){var s;return function(){var r=this,n=arguments,a=function(){s=null,i||e.apply(r,n)},o=i&&!s;clearTimeout(s),s=setTimeout(a,t),o&&e.apply(r,n)}},t.Utils.throttle=function(e,t){var i=!1;return function(){i||(e.call(),i=!0,setTimeout(function(){i=!1},t))}},t.Utils.removeCssRules=function(e){var t,i,s,r,n,a,o,l,h,d;e&&setTimeout(function(){try{for(d=document.styleSheets,r=0,o=d.length;o>r;r++){for(s=d[r],i=[],s.cssRules=s.cssRules,t=n=0,l=s.cssRules.length;l>n;t=++n)s.cssRules[t].type===CSSRule.STYLE_RULE&&e.test(s.cssRules[t].selectorText)&&i.unshift(t);for(a=0,h=i.length;h>a;a++)s.deleteRule(i[a])}}catch(e){}},0)},t.Utils.isInView=function(i,s){var r=e(i);if(!r.is(":visible"))return!1;var n=t.$win.scrollLeft(),a=t.$win.scrollTop(),o=r.offset(),l=o.left,h=o.top;return s=e.extend({topoffset:0,leftoffset:0},s),h+r.height()>=a&&h-s.topoffset<=a+t.$win.height()&&l+r.width()>=n&&l-s.leftoffset<=n+t.$win.width()},t.Utils.checkDisplay=function(i,s){var r=t.$("[data-uk-margin], [data-uk-grid-match], [data-uk-grid-margin], [data-uk-check-display]",i||document);return i&&!r.length&&(r=e(i)),r.trigger("display.uk.check"),s&&("string"!=typeof s&&(s='[class*="uk-animation-"]'),r.find(s).each(function(){var e=t.$(this),i=e.attr("class"),s=i.match(/uk-animation-(.+)/);e.removeClass(s[0]).width(),e.addClass(s[0])})),r},t.Utils.options=function(i){if("string"!=e.type(i))return i;-1!=i.indexOf(":")&&"}"!=i.trim().substr(-1)&&(i="{"+i+"}");var s=i?i.indexOf("{"):-1,r={};if(-1!=s)try{r=t.Utils.str2json(i.substr(s))}catch(e){}return r},t.Utils.animate=function(i,s){var r=e.Deferred();return i=t.$(i),i.css("display","none").addClass(s).one(t.support.animation.end,function(){i.removeClass(s),r.resolve()}),i.css("display",""),r.promise()},t.Utils.uid=function(e){return(e||"id")+(new Date).getTime()+"RAND"+Math.ceil(1e5*Math.random())},t.Utils.template=function(e,t){for(var i,s,r,n,a=e.replace(/\n/g,"\\n").replace(/\{\{\{\s*(.+?)\s*\}\}\}/g,"{{!$1}}").split(/(\{\{\s*(.+?)\s*\}\})/g),o=0,l=[],h=0;o<a.length;){if(i=a[o],i.match(/\{\{\s*(.+?)\s*\}\}/))switch(o+=1,i=a[o],s=i[0],r=i.substring(i.match(/^(\^|\#|\!|\~|\:)/)?1:0),s){case"~":l.push("for(var $i=0;$i<"+r+".length;$i++) { var $item = "+r+"[$i];"),h++;break;case":":l.push("for(var $key in "+r+") { var $val = "+r+"[$key];"),h++;break;case"#":l.push("if("+r+") {"),h++;break;case"^":l.push("if(!"+r+") {"),h++;break;case"/":l.push("}"),h--;break;case"!":l.push("__ret.push("+r+");");break;default:l.push("__ret.push(escape("+r+"));")}else l.push("__ret.push('"+i.replace(/\'/g,"\\'")+"');");o+=1}return n=new Function("$data",["var __ret = [];","try {","with($data){",h?'__ret = ["Not all blocks are closed correctly."]':l.join(""),"};","}catch(e){__ret = [e.message];}",'return __ret.join("").replace(/\\n\\n/g, "\\n");',"function escape(html) { return String(html).replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');}"].join("\n")),t?n(t):n},t.Utils.focus=function(t,i){if(t=e(t),!t.length)return t;var s,r=t.find("[autofocus]:first");return r.length?r.focus():(r=t.find(":input"+(i&&","+i||"")).first(),r.length?r.focus():(t.attr("tabindex")||(s=1e3,t.attr("tabindex",s)),t[0].focus(),s&&t.attr("tabindex",""),t))},t.Utils.events={},t.Utils.events.click=t.support.touch?"tap":"click",t.fn=function(i,s){var r=arguments,n=i.match(/^([a-z\-]+)(?:\.([a-z]+))?/i),a=n[1],o=n[2];return t[a]?this.each(function(){var i=e(this),n=i.data(a);n||i.data(a,n=t[a](this,o?void 0:s)),o&&n[o].apply(n,Array.prototype.slice.call(r,1))}):(e.error("UIkit component ["+a+"] does not exist."),this)},e.UIkit=t,e.fn.uk=t.fn,t.langdirection="rtl"==t.$html.attr("dir")?"right":"left",t.components={},t.component=function(i,s,r){if(t.components[i]&&!r)return t.components[i];var n=function(s,r){var a=this;return this.UIkit=t,this.element=s?t.$(s):null,this.options=e.extend(!0,{},this.defaults,r),this.plugins={},this.element&&this.element.data(i,this),this.init(),(this.options.plugins.length?this.options.plugins:Object.keys(n.plugins)).forEach(function(e){n.plugins[e].init&&(n.plugins[e].init(a),a.plugins[e]=!0)}),this.trigger("init.uk.component",[i,this]),this};return n.plugins={},e.extend(!0,n.prototype,{defaults:{plugins:[]},boot:function(){},init:function(){},on:function(e,i,s){return t.$(this.element||this).on(e,i,s)},one:function(e,i,s){return t.$(this.element||this).one(e,i,s)},off:function(e){return t.$(this.element||this).off(e)},trigger:function(e,i){return t.$(this.element||this).trigger(e,i)},find:function(e){return t.$(this.element?this.element:[]).find(e)},proxy:function(e,t){var i=this;t.split(" ").forEach(function(t){i[t]||(i[t]=function(){return e[t].apply(e,arguments)})})},mixin:function(e,t){var i=this;t.split(" ").forEach(function(t){i[t]||(i[t]=e[t].bind(i))})},option:function(){return 1==arguments.length?this.options[arguments[0]]||void 0:void(2==arguments.length&&(this.options[arguments[0]]=arguments[1]))}},s),this.components[i]=n,this[i]=function(){var s,r;if(arguments.length)switch(arguments.length){case 1:"string"==typeof arguments[0]||arguments[0].nodeType||arguments[0]instanceof jQuery?s=e(arguments[0]):r=arguments[0];break;case 2:s=e(arguments[0]),r=arguments[1]}return s&&s.data(i)?s.data(i):new t.components[i](s,r)},t.domready&&t.component.boot(i),n},t.plugin=function(e,t,i){this.components[e].plugins[t]=i},t.component.boot=function(e){t.components[e].prototype&&t.components[e].prototype.boot&&!t.components[e].booted&&(t.components[e].prototype.boot.apply(t,[]),t.components[e].booted=!0)},t.component.bootComponents=function(){for(var e in t.components)t.component.boot(e)},t.domObservers=[],t.domready=!1,t.ready=function(e){t.domObservers.push(e),t.domready&&e(document)},t.on=function(e,i,s){return e&&e.indexOf("ready.uk.dom")>-1&&t.domready&&i.apply(t.$doc),t.$doc.on(e,i,s)},t.one=function(e,i,s){return e&&e.indexOf("ready.uk.dom")>-1&&t.domready?(i.apply(t.$doc),t.$doc):t.$doc.one(e,i,s)},t.trigger=function(e,i){return t.$doc.trigger(e,i)},t.domObserve=function(e,i){t.support.mutationobserver&&(i=i||function(){},t.$(e).each(function(){var e=this,s=t.$(e);if(!s.data("observer"))try{var r=new t.support.mutationobserver(t.Utils.debounce(function(){i.apply(e,[s]),s.trigger("changed.uk.dom")},50),{childList:!0,subtree:!0});r.observe(e,{childList:!0,subtree:!0}),s.data("observer",r)}catch(e){}}))},t.init=function(e){e=e||document,t.domObservers.forEach(function(t){t(e)})},t.on("domready.uk.dom",function(){t.init(),t.domready&&t.Utils.checkDisplay()}),document.addEventListener("DOMContentLoaded",function(){var i=function(){t.$body=t.$("body"),t.trigger("beforeready.uk.dom"),t.component.bootComponents();var i=requestAnimationFrame(function(){var e={dir:{x:0,y:0},x:window.pageXOffset,y:window.pageYOffset},s=function(){var r=window.pageXOffset,n=window.pageYOffset;(e.x!=r||e.y!=n)&&(e.dir.x=r!=e.x?r>e.x?1:-1:0,e.dir.y=n!=e.y?n>e.y?1:-1:0,e.x=r,e.y=n,t.$doc.trigger("scrolling.uk.document",[{dir:{x:e.dir.x,y:e.dir.y},x:r,y:n}])),cancelAnimationFrame(i),i=requestAnimationFrame(s)}
;return t.support.touch&&t.$html.on("touchmove touchend MSPointerMove MSPointerUp pointermove pointerup",s),(e.x||e.y)&&s(),s}());if(t.trigger("domready.uk.dom"),t.support.touch&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&t.$win.on("load orientationchange resize",t.Utils.debounce(function(){var t=function(){return e(".uk-height-viewport").css("height",window.innerHeight),t};return t()}(),100)),t.trigger("afterready.uk.dom"),t.domready=!0,t.support.mutationobserver){var s=t.Utils.debounce(function(){requestAnimationFrame(function(){t.init(document.body)})},10);new t.support.mutationobserver(function(e){var t=!1;e.every(function(e){if("childList"!=e.type)return!0;for(var i,s=0;s<e.addedNodes.length;++s)if(i=e.addedNodes[s],i.outerHTML&&-1!==i.outerHTML.indexOf("data-uk-"))return(t=!0)&&!1;return!0}),t&&s()}).observe(document.body,{childList:!0,subtree:!0})}};return("complete"==document.readyState||"interactive"==document.readyState)&&setTimeout(i),i}()),t.$html.addClass(t.support.touch?"uk-touch":"uk-notouch"),t.support.touch){var s,r=!1,n="uk-hover",a=".uk-overlay, .uk-overlay-hover, .uk-overlay-toggle, .uk-animation-hover, .uk-has-hover";t.$html.on("mouseenter touchstart MSPointerDown pointerdown",a,function(){r&&e("."+n).removeClass(n),r=e(this).addClass(n)}).on("mouseleave touchend MSPointerUp pointerup",function(t){s=e(t.target).parents(a),r&&r.not(s).removeClass(n)})}return t}(window.jQuery),"function"==typeof define&&define.amd&&define("uikit",function(){return t.load=function(e,i,s,r){var n,a=e.split(","),o=[],l=(r.config&&r.config.uikit&&r.config.uikit.base?r.config.uikit.base:"").replace(/\/+$/g,"");if(!l)throw new Error("Please define base path to UIkit in the requirejs config.");for(n=0;n<a.length;n+=1){var h=a[n].replace(/\./g,"/");o.push(l+"/components/"+h)}i(o,function(){s(t)})},t})}(),function(e){function t(e,t,i,s){return Math.abs(e-t)>=Math.abs(i-s)?e-t>0?"Left":"Right":i-s>0?"Up":"Down"}function i(){h=null,c.last&&(void 0!==c.el&&c.el.trigger("longTap"),c={})}function s(){h&&clearTimeout(h),h=null}function r(){a&&clearTimeout(a),o&&clearTimeout(o),l&&clearTimeout(l),h&&clearTimeout(h),a=o=l=h=null,c={}}function n(e){return e.pointerType==e.MSPOINTER_TYPE_TOUCH&&e.isPrimary}if(!e.fn.swipeLeft){var a,o,l,h,d,c={},u="ontouchstart"in window,f=window.PointerEvent,p=u||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msPointerEnabled&&navigator.msMaxTouchPoints>0||navigator.pointerEnabled&&navigator.maxTouchPoints>0;e(function(){var m,g,v,x=0,y=0;"MSGesture"in window&&(d=new MSGesture,d.target=document.body),e(document).on("MSGestureEnd gestureend",function(e){var t=e.originalEvent.velocityX>1?"Right":e.originalEvent.velocityX<-1?"Left":e.originalEvent.velocityY>1?"Down":e.originalEvent.velocityY<-1?"Up":null;t&&void 0!==c.el&&(c.el.trigger("swipe"),c.el.trigger("swipe"+t))}).on("touchstart MSPointerDown pointerdown",function(t){("MSPointerDown"!=t.type||n(t.originalEvent))&&(v="MSPointerDown"==t.type||"pointerdown"==t.type?t:t.originalEvent.touches[0],m=Date.now(),g=m-(c.last||m),c.el=e("tagName"in v.target?v.target:v.target.parentNode),a&&clearTimeout(a),c.x1=v.pageX,c.y1=v.pageY,g>0&&250>=g&&(c.isDoubleTap=!0),c.last=m,h=setTimeout(i,750),t.originalEvent&&t.originalEvent.pointerId&&d&&("MSPointerDown"==t.type||"pointerdown"==t.type||"touchstart"==t.type)&&d.addPointer(t.originalEvent.pointerId))}).on("touchmove MSPointerMove pointermove",function(e){("MSPointerMove"!=e.type||n(e.originalEvent))&&(v="MSPointerMove"==e.type||"pointermove"==e.type?e:e.originalEvent.touches[0],s(),c.x2=v.pageX,c.y2=v.pageY,x+=Math.abs(c.x1-c.x2),y+=Math.abs(c.y1-c.y2))}).on("touchend MSPointerUp pointerup",function(i){("MSPointerUp"!=i.type||n(i.originalEvent))&&(s(),c.x2&&Math.abs(c.x1-c.x2)>30||c.y2&&Math.abs(c.y1-c.y2)>30?l=setTimeout(function(){void 0!==c.el&&(c.el.trigger("swipe"),c.el.trigger("swipe"+t(c.x1,c.x2,c.y1,c.y2))),c={}},0):"last"in c&&(isNaN(x)||30>x&&30>y?o=setTimeout(function(){var t=e.Event("tap");t.cancelTouch=r,void 0!==c.el&&c.el.trigger(t),c.isDoubleTap?(void 0!==c.el&&c.el.trigger("doubleTap"),c={}):a=setTimeout(function(){a=null,void 0!==c.el&&c.el.trigger("singleTap"),c={}},250)},0):c={},x=y=0))}).on("touchcancel MSPointerCancel pointercancel",function(e){("touchcancel"==e.type&&u&&p||!u&&"pointercancel"==e.type&&f)&&r()}),e(window).on("scroll",r)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(i){return e(this).on(t,i)}})}}(jQuery),function(e){"use strict";var t=[];e.component("stackMargin",{defaults:{cls:"uk-margin-small-top",rowfirst:!1,observe:!1},boot:function(){e.ready(function(t){e.$("[data-uk-margin]",t).each(function(){var t=e.$(this);t.data("stackMargin")||e.stackMargin(t,e.Utils.options(t.attr("data-uk-margin")))})})},init:function(){var i=this;e.$win.on("resize orientationchange",function(){var t=function(){i.process()};return e.$(function(){t(),e.$win.on("load",t)}),e.Utils.debounce(t,20)}()),this.on("display.uk.check",function(){this.element.is(":visible")&&this.process()}.bind(this)),this.options.observe&&e.domObserve(this.element,function(){i.element.is(":visible")&&i.process()}),t.push(this)},process:function(){var t=this.element.children();if(e.Utils.stackMargin(t,this.options),!this.options.rowfirst||!t.length)return this;var i={},s=!1;return t.removeClass(this.options.rowfirst).each(function(t,r){r=e.$(this),"none"!=this.style.display&&(t=r.offset().left,((i[t]=i[t]||[])&&i[t]).push(this),s=!1===s?t:Math.min(s,t))}),e.$(i[s]).addClass(this.options.rowfirst),this}}),function(){var t=[],i=function(e){if(e.is(":visible")){var t=e.parent().width(),i=e.data("width"),s=t/i,r=Math.floor(s*e.data("height"));e.css({height:i>t?r:e.data("height")})}};e.component("responsiveElement",{defaults:{},boot:function(){e.ready(function(t){e.$("iframe.uk-responsive-width, [data-uk-responsive]",t).each(function(){var t=e.$(this);t.data("responsiveElement")||e.responsiveElement(t,{})})})},init:function(){var e=this.element;e.attr("width")&&e.attr("height")&&(e.data({width:e.attr("width"),height:e.attr("height")}).on("display.uk.check",function(){i(e)}),i(e),t.push(e))}}),e.$win.on("resize load",e.Utils.debounce(function(){t.forEach(function(e){i(e)})},15))}(),e.Utils.stackMargin=function(t,i){i=e.$.extend({cls:"uk-margin-small-top"},i),t=e.$(t).removeClass(i.cls);var s=!1;t.each(function(t,i,r,n){n=e.$(this),"none"!=n.css("display")&&(t=n.offset(),i=n.outerHeight(),r=t.top+i,n.data({ukMarginPos:r,ukMarginTop:t.top}),(!1===s||t.top<s.top)&&(s={top:t.top,left:t.left,pos:r}))}).each(function(t){t=e.$(this),"none"!=t.css("display")&&t.data("ukMarginTop")>s.top&&t.data("ukMarginPos")>s.pos&&t.addClass(i.cls)})},e.Utils.matchHeights=function(t,i){t=e.$(t).css("min-height",""),i=e.$.extend({row:!0},i);var s=function(t){if(!(t.length<2)){var i=0;t.each(function(){i=Math.max(i,e.$(this).outerHeight())}).each(function(){var t=e.$(this),s=i-("border-box"==t.css("box-sizing")?0:t.outerHeight()-t.height());t.css("min-height",s+"px")})}};i.row?(t.first().width(),setTimeout(function(){var i=!1,r=[];t.each(function(){var t=e.$(this),n=t.offset().top;n!=i&&r.length&&(s(e.$(r)),r=[],n=t.offset().top),r.push(t),i=n}),r.length&&s(e.$(r))},0)):s(t)},function(t){e.Utils.inlineSvg=function(i,s){e.$(i||'img[src$=".svg"]',s||document).each(function(){var i=e.$(this),s=i.attr("src");if(!t[s]){var r=e.$.Deferred();e.$.get(s,{nc:Math.random()},function(t){r.resolve(e.$(t).find("svg"))}),t[s]=r.promise()}t[s].then(function(t){var s=e.$(t).clone();i.attr("id")&&s.attr("id",i.attr("id")),i.attr("class")&&s.attr("class",i.attr("class")),i.attr("style")&&s.attr("style",i.attr("style")),i.attr("width")&&(s.attr("width",i.attr("width")),i.attr("height")||s.removeAttr("height")),i.attr("height")&&(s.attr("height",i.attr("height")),i.attr("width")||s.removeAttr("width")),i.replaceWith(s)})})},e.ready(function(t){e.Utils.inlineSvg("[data-uk-svg]",t)})}({}),e.Utils.getCssVar=function(e){var t,i=document.documentElement,s=i.appendChild(document.createElement("div"));s.classList.add("var-"+e);try{t=JSON.parse(t=getComputedStyle(s,":before").content.replace(/^["'](.*)["']$/,"$1"))}catch(e){t=void 0}return i.removeChild(s),t}}(UIkit2),function(e){"use strict";function t(t,i){i=e.$.extend({duration:1e3,transition:"easeOutExpo",offset:0,complete:function(){}},i);var s=t.offset().top-i.offset,r=e.$doc.height(),n=window.innerHeight;s+n>r&&(s=r-n),e.$("html,body").stop().animate({scrollTop:s},i.duration,i.transition).promise().done(i.complete)}e.component("smoothScroll",{boot:function(){e.$html.on("click.smooth-scroll.uikit","[data-uk-smooth-scroll]",function(){var t=e.$(this);return t.data("smoothScroll")||(e.smoothScroll(t,e.Utils.options(t.attr("data-uk-smooth-scroll"))),t.trigger("click")),!1})},init:function(){var i=this;this.on("click",function(s){s.preventDefault(),t(e.$(this.hash).length?e.$(this.hash):e.$("body"),i.options)})}}),e.Utils.scrollToElement=t,e.$.easing.easeOutExpo||(e.$.easing.easeOutExpo=function(e,t,i,s,r){return t==r?i+s:s*(1-Math.pow(2,-10*t/r))+i})}(UIkit2),function(e){"use strict";var t=e.$win,i=e.$doc,s=[],r=function(){for(var e=0;e<s.length;e++)window.requestAnimationFrame.apply(window,[s[e].check])};e.component("scrollspy",{defaults:{target:!1,cls:"uk-scrollspy-inview",initcls:"uk-scrollspy-init-inview",topoffset:0,leftoffset:0,repeat:!1,delay:0},boot:function(){i.on("scrolling.uk.document",r),t.on("load resize orientationchange",e.Utils.debounce(r,50)),e.ready(function(t){e.$("[data-uk-scrollspy]",t).each(function(){var t=e.$(this);t.data("scrollspy")||e.scrollspy(t,e.Utils.options(t.attr("data-uk-scrollspy")))})})},init:function(){var t,i=this,r=this.options.cls.split(/,/),n=function(){var s=i.options.target?i.element.find(i.options.target):i.element,n=1===s.length?1:0,a=0;s.each(function(){var s=e.$(this),o=s.data("inviewstate"),l=e.Utils.isInView(s,i.options),h=s.attr("data-uk-scrollspy-cls")||r[a].trim();!l||o||s.data("scrollspy-idle")||(t||(s.addClass(i.options.initcls),i.offset=s.offset(),t=!0,s.trigger("init.uk.scrollspy")),s.data("scrollspy-idle",setTimeout(function(){s.addClass("uk-scrollspy-inview").toggleClass(h).width(),s.trigger("inview.uk.scrollspy"),s.data("scrollspy-idle",!1),s.data("inviewstate",!0)},i.options.delay*n)),n++),!l&&o&&i.options.repeat&&(s.data("scrollspy-idle")&&(clearTimeout(s.data("scrollspy-idle")),s.data("scrollspy-idle",!1)),s.removeClass("uk-scrollspy-inview").toggleClass(h),s.data("inviewstate",!1),s.trigger("outview.uk.scrollspy")),a=r[a+1]?a+1:0})};n(),this.check=n,s.push(this)}});var n=[],a=function(){for(var e=0;e<n.length;e++)window.requestAnimationFrame.apply(window,[n[e].check])};e.component("scrollspynav",{defaults:{cls:"uk-active",closest:!1,topoffset:0,leftoffset:0,smoothscroll:!1},boot:function(){i.on("scrolling.uk.document",a),t.on("resize orientationchange",e.Utils.debounce(a,50)),e.ready(function(t){e.$("[data-uk-scrollspy-nav]",t).each(function(){var t=e.$(this);t.data("scrollspynav")||e.scrollspynav(t,e.Utils.options(t.attr("data-uk-scrollspy-nav")))})})},init:function(){var i,s=[],r=this.find("a[href^='#']").each(function(){"#"!==this.getAttribute("href").trim()&&s.push(this.getAttribute("href"))}),a=e.$(s.join(",")),o=this.options.cls,l=this.options.closest||this.options.closest,h=this,d=function(){i=[];for(var s=0;s<a.length;s++)e.Utils.isInView(a.eq(s),h.options)&&i.push(a.eq(s));if(i.length){var n,d=t.scrollTop(),c=function(){for(var e=0;e<i.length;e++)if(i[e].offset().top-h.options.topoffset>=d)return i[e]}();if(!c)return;h.options.closest?(r.blur().closest(l).removeClass(o),n=r.filter("a[href='#"+c.attr("id")+"']").closest(l).addClass(o)):n=r.removeClass(o).filter("a[href='#"+c.attr("id")+"']").addClass(o),h.element.trigger("inview.uk.scrollspynav",[c,n])}};this.options.smoothscroll&&e.smoothScroll&&r.each(function(){e.smoothScroll(this,h.options.smoothscroll)}),d(),this.element.data("scrollspynav",this),this.check=d,n.push(this)}})}(UIkit2),function(e){"use strict";var t=[];e.component("toggle",{defaults:{target:!1,cls:"uk-hidden",animation:!1,duration:200},boot:function(){e.ready(function(i){e.$("[data-uk-toggle]",i).each(function(){var t=e.$(this);t.data("toggle")||e.toggle(t,e.Utils.options(t.attr("data-uk-toggle")))}),setTimeout(function(){t.forEach(function(e){e.getToggles()})},0)})},init:function(){var e=this;this.aria=-1!==this.options.cls.indexOf("uk-hidden"),this.on("click",function(t){e.element.is('a[href="#"]')&&t.preventDefault(),e.toggle()}),t.push(this)},toggle:function(){if(this.getToggles(),this.totoggle.length){if(this.options.animation&&e.support.animation){var t=this,i=this.options.animation.split(",");1==i.length&&(i[1]=i[0]),i[0]=i[0].trim(),i[1]=i[1].trim(),this.totoggle.css("animation-duration",this.options.duration+"ms"),this.totoggle.each(function(){var s=e.$(this);s.hasClass(t.options.cls)?(s.toggleClass(t.options.cls),e.Utils.animate(s,i[0]).then(function(){s.css("animation-duration",""),e.Utils.checkDisplay(s)})):e.Utils.animate(this,i[1]+" uk-animation-reverse").then(function(){s.toggleClass(t.options.cls).css("animation-duration",""),e.Utils.checkDisplay(s)})})}else this.totoggle.toggleClass(this.options.cls),e.Utils.checkDisplay(this.totoggle);this.updateAria()}},getToggles:function(){this.totoggle=this.options.target?e.$(this.options.target):[],this.updateAria()},updateAria:function(){this.aria&&this.totoggle.length&&this.totoggle.not("[aria-hidden]").each(function(){e.$(this).attr("aria-hidden",e.$(this).hasClass("uk-hidden"))})}})}(UIkit2),function(e){"use strict";e.component("alert",{defaults:{fade:!0,duration:200,trigger:".uk-alert-close"},boot:function(){e.$html.on("click.alert.uikit","[data-uk-alert]",function(t){var i=e.$(this);if(!i.data("alert")){var s=e.alert(i,e.Utils.options(i.attr("data-uk-alert")));e.$(t.target).is(s.options.trigger)&&(t.preventDefault(),s.close())}})},init:function(){var e=this;this.on("click",this.options.trigger,function(t){t.preventDefault(),e.close()})},close:function(){var e=this.trigger("close.uk.alert"),t=function(){this.trigger("closed.uk.alert").remove()}.bind(this);this.options.fade?e.css("overflow","hidden").css("max-height",e.height()).animate({height:0,opacity:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0},this.options.duration,t):t()}})}(UIkit2),function(e){"use strict";e.component("buttonRadio",{defaults:{activeClass:"uk-active",target:".uk-button"},boot:function(){e.$html.on("click.buttonradio.uikit","[data-uk-button-radio]",function(t){var i=e.$(this);if(!i.data("buttonRadio")){var s=e.buttonRadio(i,e.Utils.options(i.attr("data-uk-button-radio"))),r=e.$(t.target);r.is(s.options.target)&&r.trigger("click")}})},init:function(){var t=this;this.find(t.options.target).attr("aria-checked","false").filter("."+t.options.activeClass).attr("aria-checked","true"),this.on("click",this.options.target,function(i){var s=e.$(this);s.is('a[href="#"]')&&i.preventDefault(),t.find(t.options.target).not(s).removeClass(t.options.activeClass).blur(),s.addClass(t.options.activeClass),t.find(t.options.target).not(s).attr("aria-checked","false"),s.attr("aria-checked","true"),t.trigger("change.uk.button",[s])})},getSelected:function(){return this.find("."+this.options.activeClass)}}),e.component("buttonCheckbox",{defaults:{activeClass:"uk-active",target:".uk-button"},boot:function(){e.$html.on("click.buttoncheckbox.uikit","[data-uk-button-checkbox]",function(t){var i=e.$(this);if(!i.data("buttonCheckbox")){var s=e.buttonCheckbox(i,e.Utils.options(i.attr("data-uk-button-checkbox"))),r=e.$(t.target);r.is(s.options.target)&&r.trigger("click")}})},init:function(){var t=this;this.find(t.options.target).attr("aria-checked","false").filter("."+t.options.activeClass).attr("aria-checked","true"),this.on("click",this.options.target,function(i){var s=e.$(this);s.is('a[href="#"]')&&i.preventDefault(),s.toggleClass(t.options.activeClass).blur(),s.attr("aria-checked",s.hasClass(t.options.activeClass)),t.trigger("change.uk.button",[s])})},getSelected:function(){return this.find("."+this.options.activeClass)}}),e.component("button",{defaults:{},boot:function(){e.$html.on("click.button.uikit","[data-uk-button]",function(){var t=e.$(this);t.data("button")||(e.button(t,e.Utils.options(t.attr("data-uk-button"))),t.trigger("click"))})},init:function(){var e=this;this.element.attr("aria-pressed",this.element.hasClass("uk-active")),this.on("click",function(t){e.element.is('a[href="#"]')&&t.preventDefault(),e.toggle(),e.trigger("change.uk.button",[e.element.blur().hasClass("uk-active")])})},toggle:function(){this.element.toggleClass("uk-active"),this.element.attr("aria-pressed",this.element.hasClass("uk-active"))}})}(UIkit2),function(e){"use strict";function t(t,i,s,r){if(t=e.$(t),i=e.$(i),s=s||window.innerWidth,r=r||t.offset(),i.length){var n=i.outerWidth();if(t.css("min-width",n),"right"==e.langdirection){var a=s-(i.offset().left+n),o=s-(t.offset().left+t.outerWidth());t.css("margin-right",a-o)}else t.css("margin-left",i.offset().left-r.left)}}var i,s=!1,r={x:{"bottom-left":"bottom-right","bottom-right":"bottom-left","bottom-center":"bottom-center","top-left":"top-right","top-right":"top-left","top-center":"top-center","left-top":"right-top","left-bottom":"right-bottom","left-center":"right-center","right-top":"left-top","right-bottom":"left-bottom","right-center":"left-center"},y:{"bottom-left":"top-left","bottom-right":"top-right","bottom-center":"top-center","top-left":"bottom-left","top-right":"bottom-right","top-center":"bottom-center","left-top":"left-bottom","left-bottom":"left-top","left-center":"left-center","right-top":"right-bottom","right-bottom":"right-top","right-center":"right-center"},xy:{"bottom-left":"top-right","bottom-right":"top-left","bottom-center":"top-center","top-left":"bottom-right","top-right":"bottom-left","top-center":"bottom-center","left-top":"right-bottom","left-bottom":"right-top","left-center":"right-center","right-top":"left-bottom","right-bottom":"left-top","right-center":"left-center"}};e.component("dropdown",{defaults:{mode:"hover",pos:"bottom-left",offset:0,remaintime:800,justify:!1,boundary:e.$win,delay:0,dropdownSelector:".uk-dropdown,.uk-dropdown-blank",hoverDelayIdle:250,preventflip:!1},remainIdle:!1,boot:function(){var t=e.support.touch?"click":"mouseenter";e.$html.on(t+".dropdown.uikit focus pointerdown","[data-uk-dropdown]",function(i){var s=e.$(this);if(!s.data("dropdown")){var r=e.dropdown(s,e.Utils.options(s.attr("data-uk-dropdown")));("click"==i.type||"mouseenter"==i.type&&"hover"==r.options.mode)&&r.element.trigger(t),r.dropdown.length&&i.preventDefault()}})},init:function(){var t=this;this.dropdown=this.find(this.options.dropdownSelector),this.offsetParent=this.dropdown.parents().filter(function(){return-1!==e.$.inArray(e.$(this).css("position"),["relative","fixed","absolute"])}).slice(0,1),this.offsetParent.length||(this.offsetParent=this.element),this.centered=this.dropdown.hasClass("uk-dropdown-center"),this.justified=!!this.options.justify&&e.$(this.options.justify),this.boundary=e.$(this.options.boundary),this.boundary.length||(this.boundary=e.$win),this.dropdown.hasClass("uk-dropdown-up")&&(this.options.pos="top-left"),this.dropdown.hasClass("uk-dropdown-flip")&&(this.options.pos=this.options.pos.replace("left","right")),this.dropdown.hasClass("uk-dropdown-center")&&(this.options.pos=this.options.pos.replace(/(left|right)/,"center")),this.element.attr("aria-haspopup","true"),this.element.attr("aria-expanded",this.element.hasClass("uk-open")),this.dropdown.attr("aria-hidden","true"),"click"==this.options.mode||e.support.touch?this.on("click.uk.dropdown",function(i){var s=e.$(i.target);s.parents(t.options.dropdownSelector).length||((s.is("a[href='#']")||s.parent().is("a[href='#']")||t.dropdown.length&&!t.dropdown.is(":visible"))&&i.preventDefault(),s.blur()),t.element.hasClass("uk-open")?(!t.dropdown.find(i.target).length||s.is(".uk-dropdown-close")||s.parents(".uk-dropdown-close").length)&&t.hide():t.show()}):this.on("mouseenter",function(){t.trigger("pointerenter.uk.dropdown",[t]),t.remainIdle&&clearTimeout(t.remainIdle),i&&clearTimeout(i),s&&s==t||(i=s&&s!=t?setTimeout(function(){i=setTimeout(t.show.bind(t),t.options.delay)},t.options.hoverDelayIdle):setTimeout(t.show.bind(t),t.options.delay))}).on("mouseleave",function(){i&&clearTimeout(i),t.remainIdle=setTimeout(function(){s&&s==t&&t.hide()},t.options.remaintime),t.trigger("pointerleave.uk.dropdown",[t])}).on("click",function(i){var r=e.$(i.target);return t.remainIdle&&clearTimeout(t.remainIdle),s&&s==t?void((!t.dropdown.find(i.target).length||r.is(".uk-dropdown-close")||r.parents(".uk-dropdown-close").length)&&t.hide()):((r.is("a[href='#']")||r.parent().is("a[href='#']"))&&i.preventDefault(),void t.show())})},show:function(){e.$html.off("click.outer.dropdown"),s&&s!=this&&s.hide(!0),i&&clearTimeout(i),this.trigger("beforeshow.uk.dropdown",[this]),this.checkDimensions(),this.element.addClass("uk-open"),this.element.attr("aria-expanded","true"),this.dropdown.attr("aria-hidden","false"),this.trigger("show.uk.dropdown",[this]),e.Utils.checkDisplay(this.dropdown,!0),e.Utils.focus(this.dropdown),s=this,this.registerOuterClick()},hide:function(e){this.trigger("beforehide.uk.dropdown",[this,e]),this.element.removeClass("uk-open"),this.remainIdle&&clearTimeout(this.remainIdle),this.remainIdle=!1,this.element.attr("aria-expanded","false"),this.dropdown.attr("aria-hidden","true"),this.trigger("hide.uk.dropdown",[this,e]),s==this&&(s=!1)},registerOuterClick:function(){var t=this;e.$html.off("click.outer.dropdown"),setTimeout(function(){e.$html.on("click.outer.dropdown",function(r){i&&clearTimeout(i),e.$(r.target),s!=t||t.element.find(r.target).length||(t.hide(!0),e.$html.off("click.outer.dropdown"))})},10)},checkDimensions:function(){if(this.dropdown.length){this.dropdown.removeClass("uk-dropdown-top uk-dropdown-bottom uk-dropdown-left uk-dropdown-right uk-dropdown-stack uk-dropdown-autoflip").css({topLeft:"",left:"",marginLeft:"",marginRight:""}),this.justified&&this.justified.length&&this.dropdown.css("min-width","");var i,s=e.$.extend({},this.offsetParent.offset(),{width:this.offsetParent[0].offsetWidth,height:this.offsetParent[0].offsetHeight}),n=this.options.offset,a=this.dropdown,o=(a.show().offset(),a.outerWidth()),l=a.outerHeight(),h=this.boundary.width(),d=(this.boundary[0]!==window&&this.boundary.offset()&&this.boundary.offset(),this.options.pos),c={"bottom-left":{top:0+s.height+n,left:0},"bottom-right":{top:0+s.height+n,left:0+s.width-o},"bottom-center":{top:0+s.height+n,left:0+s.width/2-o/2},"top-left":{top:0-l-n,left:0},"top-right":{top:0-l-n,left:0+s.width-o},"top-center":{top:0-l-n,left:0+s.width/2-o/2},"left-top":{top:0,left:0-o-n},"left-bottom":{top:0+s.height-l,left:0-o-n},"left-center":{top:0+s.height/2-l/2,left:0-o-n},"right-top":{top:0,left:0+s.width+n},"right-bottom":{top:0+s.height-l,left:0+s.width+n},"right-center":{top:0+s.height/2-l/2,left:0+s.width+n}},u={};if(i=d.split("-"),u=c[d]?c[d]:c["bottom-left"],this.justified&&this.justified.length)t(a.css({left:0}),this.justified,h);else if(!0!==this.options.preventflip){var f;switch(this.checkBoundary(s.left+u.left,s.top+u.top,o,l,h)){case"x":"x"!==this.options.preventflip&&(f=r.x[d]||"right-top");break;case"y":"y"!==this.options.preventflip&&(f=r.y[d]||"top-left");break;case"xy":this.options.preventflip||(f=r.xy[d]||"right-bottom")}f&&(i=f.split("-"),u=c[f]?c[f]:c["bottom-left"],a.addClass("uk-dropdown-autoflip"),this.checkBoundary(s.left+u.left,s.top+u.top,o,l,h)&&(i=d.split("-"),u=c[d]?c[d]:c["bottom-left"]))}o>h&&(a.addClass("uk-dropdown-stack"),this.trigger("stack.uk.dropdown",[this])),a.css(u).css("display","").addClass("uk-dropdown-"+i[0])}},checkBoundary:function(t,i,s,r,n){var a="";return(0>t||t-e.$win.scrollLeft()+s>n)&&(a+="x"),(i-e.$win.scrollTop()<0||i-e.$win.scrollTop()+r>window.innerHeight)&&(a+="y"),a}}),e.component("dropdownOverlay",{defaults:{justify:!1,cls:"",duration:200},boot:function(){e.ready(function(t){e.$("[data-uk-dropdown-overlay]",t).each(function(){var t=e.$(this);t.data("dropdownOverlay")||e.dropdownOverlay(t,e.Utils.options(t.attr("data-uk-dropdown-overlay")))})})},init:function(){var i=this;this.justified=!!this.options.justify&&e.$(this.options.justify),this.overlay=this.element.find("uk-dropdown-overlay"),this.overlay.length||(this.overlay=e.$('<div class="uk-dropdown-overlay"></div>').appendTo(this.element)),this.overlay.addClass(this.options.cls),this.on({"beforeshow.uk.dropdown":function(e,s){i.dropdown=s,i.justified&&i.justified.length&&t(i.overlay.css({display:"block",marginLeft:"",marginRight:""}),i.justified,i.justified.outerWidth())},"show.uk.dropdown":function(){var t=i.dropdown.dropdown.outerHeight(!0);i.dropdown.element.removeClass("uk-open"),i.overlay.stop().css("display","block").animate({height:t},i.options.duration,function(){i.dropdown.dropdown.css("visibility",""),i.dropdown.element.addClass("uk-open"),e.Utils.checkDisplay(i.dropdown.dropdown,!0)}),i.pointerleave=!1},"hide.uk.dropdown":function(){i.overlay.stop().animate({height:0},i.options.duration)},"pointerenter.uk.dropdown":function(){clearTimeout(i.remainIdle)},"pointerleave.uk.dropdown":function(){i.pointerleave=!0}}),this.overlay.on({mouseenter:function(){i.remainIdle&&(clearTimeout(i.dropdown.remainIdle),clearTimeout(i.remainIdle))},mouseleave:function(){i.pointerleave&&s&&(i.remainIdle=setTimeout(function(){s&&s.hide()},s.options.remaintime))}})}})}(UIkit2),function(e){"use strict";var t=[];e.component("gridMatchHeight",{defaults:{target:!1,row:!0,ignorestacked:!1,observe:!1},boot:function(){e.ready(function(t){e.$("[data-uk-grid-match]",t).each(function(){var t=e.$(this);t.data("gridMatchHeight")||e.gridMatchHeight(t,e.Utils.options(t.attr("data-uk-grid-match")))})})},init:function(){var i=this;this.columns=this.element.children(),this.elements=this.options.target?this.find(this.options.target):this.columns,this.columns.length&&(e.$win.on("load resize orientationchange",function(){var t=function(){i.element.is(":visible")&&i.match()};return e.$(function(){t()}),e.Utils.debounce(t,50)}()),this.options.observe&&e.domObserve(this.element,function(){i.element.is(":visible")&&i.match()}),this.on("display.uk.check",function(){this.element.is(":visible")&&this.match()}.bind(this)),t.push(this))},match:function(){var t=this.columns.filter(":visible:first");if(t.length){return Math.ceil(100*parseFloat(t.css("width"))/parseFloat(t.parent().css("width")))>=100&&!this.options.ignorestacked?this.revert():e.Utils.matchHeights(this.elements,this.options),this}},revert:function(){return this.elements.css("min-height",""),this}}),e.component("gridMargin",{defaults:{cls:"uk-grid-margin",rowfirst:"uk-row-first"},boot:function(){e.ready(function(t){e.$("[data-uk-grid-margin]",t).each(function(){var t=e.$(this);t.data("gridMargin")||e.gridMargin(t,e.Utils.options(t.attr("data-uk-grid-margin")))})})},init:function(){e.stackMargin(this.element,this.options)}})}(UIkit2),function(e){"use strict";function t(t,i){return i?("object"==typeof t?(t=t instanceof jQuery?t:e.$(t),t.parent().length&&(i.persist=t,i.persist.data("modalPersistParent",t.parent()))):t="string"==typeof t||"number"==typeof t?e.$("<div></div>").html(t):e.$("<div></div>").html("UIkit2.modal Error: Unsupported data type: "+typeof t),t.appendTo(i.element.find(".uk-modal-dialog")),i):void 0}var i,s=!1,r=0,n=e.$html;e.$win.on("resize orientationchange",e.Utils.debounce(function(){e.$(".uk-modal.uk-open").each(function(){return e.$(this).data("modal")&&e.$(this).data("modal").resize()})},150)),e.component("modal",{defaults:{keyboard:!0,bgclose:!0,minScrollHeight:150,center:!1,modal:!0},scrollable:!1,transition:!1,hasTransitioned:!0,init:function(){if(i||(i=e.$("body")),this.element.length){var t=this;this.paddingdir="padding-"+("left"==e.langdirection?"right":"left"),this.dialog=this.find(".uk-modal-dialog"),this.active=!1,this.element.attr("aria-hidden",this.element.hasClass("uk-open")),this.on("click",".uk-modal-close",function(e){e.preventDefault(),t.hide()}).on("click",function(i){e.$(i.target)[0]==t.element[0]&&t.options.bgclose&&t.hide()}),e.domObserve(this.element,function(){t.resize()})}},toggle:function(){return this[this.isActive()?"hide":"show"]()},show:function(){if(this.element.length){var t=this;if(!this.isActive())return this.options.modal&&s&&s.hide(!0),this.element.removeClass("uk-open").show(),this.resize(!0),this.options.modal&&(s=this),this.active=!0,r++,e.support.transition?(this.hasTransitioned=!1,this.element.one(e.support.transition.end,function(){t.hasTransitioned=!0,e.Utils.focus(t.dialog,"a[href]")}).addClass("uk-open")):(this.element.addClass("uk-open"),e.Utils.focus(this.dialog,"a[href]")),n.addClass("uk-modal-page").height(),this.element.attr("aria-hidden","false"),this.element.trigger("show.uk.modal"),e.Utils.checkDisplay(this.dialog,!0),this}},hide:function(t){if(!t&&e.support.transition&&this.hasTransitioned){var i=this;this.one(e.support.transition.end,function(){i._hide()}).removeClass("uk-open")}else this._hide();return this},resize:function(e){if(this.isActive()||e){var t=i.width();if(this.scrollbarwidth=window.innerWidth-t,i.css(this.paddingdir,this.scrollbarwidth),this.element.css("overflow-y",this.scrollbarwidth?"scroll":"auto"),!this.updateScrollable()&&this.options.center){var s=this.dialog.outerHeight(),r=parseInt(this.dialog.css("margin-top"),10)+parseInt(this.dialog.css("margin-bottom"),10);s+r<window.innerHeight?this.dialog.css({top:window.innerHeight/2-s/2-r}):this.dialog.css({top:""})}}},updateScrollable:function(){var e=this.dialog.find(".uk-overflow-container:visible:first");if(e.length){e.css("height",0);var t=Math.abs(parseInt(this.dialog.css("margin-top"),10)),i=this.dialog.outerHeight(),s=window.innerHeight,r=s-2*(20>t?20:t)-i;return e.css({maxHeight:r<this.options.minScrollHeight?"":r,height:""}),!0}return!1},_hide:function(){this.active=!1,r>0?r--:r=0,this.element.hide().removeClass("uk-open"),this.element.attr("aria-hidden","true"),r||(n.removeClass("uk-modal-page"),i.css(this.paddingdir,"")),s===this&&(s=!1),this.trigger("hide.uk.modal")},isActive:function(){return this.element.hasClass("uk-open")}}),e.component("modalTrigger",{boot:function(){e.$html.on("click.modal.uikit","[data-uk-modal]",function(t){var i=e.$(this);if(i.is("a")&&t.preventDefault(),!i.data("modalTrigger")){e.modalTrigger(i,e.Utils.options(i.attr("data-uk-modal"))).show()}}),e.$html.on("keydown.modal.uikit",function(e){s&&27===e.keyCode&&s.options.keyboard&&(e.preventDefault(),s.hide())})},init:function(){var t=this;this.options=e.$.extend({target:!!t.element.is("a")&&t.element.attr("href")},this.options),this.modal=e.modal(this.options.target,this.options),this.on("click",function(e){e.preventDefault(),t.show()}),this.proxy(this.modal,"show hide isActive")}}),e.modal.dialog=function(i,s){var r=e.modal(e.$(e.modal.dialog.template).appendTo("body"),s);return r.on("hide.uk.modal",function(){r.persist&&(r.persist.appendTo(r.persist.data("modalPersistParent")),r.persist=!1),r.element.remove()}),t(i,r),r},e.modal.dialog.template='<div class="uk-modal"><div class="uk-modal-dialog" style="min-height:0;"></div></div>',e.modal.alert=function(t,i){i=e.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:e.modal.labels},i);var s=e.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(t)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-button-primary uk-modal-close">'+i.labels.Ok+"</button></div>"].join(""),i);return s.on("show.uk.modal",function(){setTimeout(function(){s.element.find("button:first").focus()},50)}),s.show()},e.modal.confirm=function(t,i,s){var r=arguments.length>1&&arguments[arguments.length-1]?arguments[arguments.length-1]:{};i=e.$.isFunction(i)?i:function(){},s=e.$.isFunction(s)?s:function(){},r=e.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:e.modal.labels
},e.$.isFunction(r)?{}:r);var n=e.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(t)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button js-modal-confirm-cancel">'+r.labels.Cancel+'</button> <button class="uk-button uk-button-primary js-modal-confirm">'+r.labels.Ok+"</button></div>"].join(""),r);return n.element.find(".js-modal-confirm, .js-modal-confirm-cancel").on("click",function(){e.$(this).is(".js-modal-confirm")?i():s(),n.hide()}),n.on("show.uk.modal",function(){setTimeout(function(){n.element.find(".js-modal-confirm").focus()},50)}),n.show()},e.modal.prompt=function(t,i,s,r){s=e.$.isFunction(s)?s:function(){},r=e.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:e.modal.labels},r);var n=e.modal.dialog([t?'<div class="uk-modal-content uk-form">'+String(t)+"</div>":"",'<div class="uk-margin-small-top uk-modal-content uk-form"><p><input type="text" class="uk-width-1-1"></p></div>','<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-modal-close">'+r.labels.Cancel+'</button> <button class="uk-button uk-button-primary js-modal-ok">'+r.labels.Ok+"</button></div>"].join(""),r),a=n.element.find("input[type='text']").val(i||"").on("keyup",function(e){13==e.keyCode&&n.element.find(".js-modal-ok").trigger("click")});return n.element.find(".js-modal-ok").on("click",function(){!1!==s(a.val())&&n.hide()}),n.show()},e.modal.blockUI=function(t,i){var s=e.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(t||'<div class="uk-text-center">...</div>')+"</div>"].join(""),e.$.extend({bgclose:!1,keyboard:!1,modal:!1},i));return s.content=s.element.find(".uk-modal-content:first"),s.show()},e.modal.labels={Ok:"Ok",Cancel:"Cancel"}}(UIkit2),function(e){"use strict";function t(t){var i=e.$(t),s="auto";if(i.is(":visible"))s=i.outerHeight();else{var r={position:i.css("position"),visibility:i.css("visibility"),display:i.css("display")};s=i.css({position:"absolute",visibility:"hidden",display:"block"}).outerHeight(),i.css(r)}return s}e.component("nav",{defaults:{toggle:'>li.uk-parent > a[href="#"]',lists:">li.uk-parent > ul",multiple:!1},boot:function(){e.ready(function(t){e.$("[data-uk-nav]",t).each(function(){var t=e.$(this);t.data("nav")||e.nav(t,e.Utils.options(t.attr("data-uk-nav")))})})},init:function(){var t=this;this.on("click.uk.nav",this.options.toggle,function(i){i.preventDefault();var s=e.$(this);t.open(s.parent()[0]==t.element[0]?s:s.parent("li"))}),this.update(),e.domObserve(this.element,function(){t.element.find(t.options.lists).not("[role]").length&&t.update()})},update:function(){var t=this;this.find(this.options.lists).each(function(){var i=e.$(this).attr("role","menu"),s=i.closest("li"),r=s.hasClass("uk-active");s.data("list-container")||(i.wrap('<div style="overflow:hidden;height:0;position:relative;"></div>'),s.data("list-container",i.parent()[r?"removeClass":"addClass"]("uk-hidden"))),s.attr("aria-expanded",s.hasClass("uk-open")),r&&t.open(s,!0)})},open:function(i,s){var r=this,n=this.element,a=e.$(i),o=a.data("list-container");this.options.multiple||n.children(".uk-open").not(i).each(function(){var t=e.$(this);t.data("list-container")&&t.data("list-container").stop().animate({height:0},function(){e.$(this).parent().removeClass("uk-open").end().addClass("uk-hidden")})}),a.toggleClass("uk-open"),a.attr("aria-expanded",a.hasClass("uk-open")),o&&(a.hasClass("uk-open")&&o.removeClass("uk-hidden"),s?(o.stop().height(a.hasClass("uk-open")?"auto":0),a.hasClass("uk-open")||o.addClass("uk-hidden"),this.trigger("display.uk.check")):o.stop().animate({height:a.hasClass("uk-open")?t(o.find("ul:first")):0},function(){a.hasClass("uk-open")?o.css("height",""):o.addClass("uk-hidden"),r.trigger("display.uk.check")}))}})}(UIkit2),function(e){"use strict";var t={x:window.scrollX,y:window.scrollY},i=(e.$win,e.$doc,e.$html),s={show:function(s,r){if(s=e.$(s),s.length){r=e.$.extend({mode:"push"},r);var n=e.$("body"),a=s.find(".uk-offcanvas-bar:first"),o="right"==e.langdirection,l=a.hasClass("uk-offcanvas-bar-flip")?-1:1,h=l*(o?-1:1),d=window.innerWidth-n.width();t={x:window.pageXOffset,y:window.pageYOffset},a.attr("mode",r.mode),s.addClass("uk-active"),n.css({width:window.innerWidth-d,height:window.innerHeight}).addClass("uk-offcanvas-page"),("push"==r.mode||"reveal"==r.mode)&&n.css(o?"margin-right":"margin-left",(o?-1:1)*a.outerWidth()*h),"reveal"==r.mode&&a.css("clip","rect(0, "+a.outerWidth()+"px, 100vh, 0)"),i.css("margin-top",-1*t.y).width(),a.addClass("uk-offcanvas-bar-show"),this._initElement(s),a.trigger("show.uk.offcanvas",[s,a]),s.attr("aria-hidden","false")}},hide:function(s){var r=e.$("body"),n=e.$(".uk-offcanvas.uk-active"),a="right"==e.langdirection,o=n.find(".uk-offcanvas-bar:first"),l=function(){r.removeClass("uk-offcanvas-page").css({width:"",height:"",marginLeft:"",marginRight:""}),n.removeClass("uk-active"),o.removeClass("uk-offcanvas-bar-show"),i.css("margin-top",""),window.scrollTo(t.x,t.y),o.trigger("hide.uk.offcanvas",[n,o]),n.attr("aria-hidden","true")};n.length&&("none"==o.attr("mode")&&(s=!0),e.support.transition&&!s?(r.one(e.support.transition.end,function(){l()}).css(a?"margin-right":"margin-left",""),"reveal"==o.attr("mode")&&o.css("clip",""),setTimeout(function(){o.removeClass("uk-offcanvas-bar-show")},0)):l())},_initElement:function(t){t.data("OffcanvasInit")||(t.on("click.uk.offcanvas swipeRight.uk.offcanvas swipeLeft.uk.offcanvas",function(t){var i=e.$(t.target);if(!t.type.match(/swipe/)&&!i.hasClass("uk-offcanvas-close")){if(i.hasClass("uk-offcanvas-bar"))return;if(i.parents(".uk-offcanvas-bar:first").length)return}t.stopImmediatePropagation(),s.hide()}),t.on("click",'a[href*="#"]',function(){var t=e.$(this),i=t.attr("href");"#"!=i&&(e.$doc.one("hide.uk.offcanvas",function(){var s;try{s=e.$(t[0].hash)}catch(e){s=""}s.length||(s=e.$('[name="'+t[0].hash.replace("#","")+'"]')),s.length&&e.Utils.scrollToElement?e.Utils.scrollToElement(s,e.Utils.options(t.attr("data-uk-smooth-scroll")||"{}")):window.location.href=i}),s.hide())}),t.data("OffcanvasInit",!0))}};e.component("offcanvasTrigger",{boot:function(){i.on("click.offcanvas.uikit","[data-uk-offcanvas]",function(t){t.preventDefault();var i=e.$(this);i.data("offcanvasTrigger")||(e.offcanvasTrigger(i,e.Utils.options(i.attr("data-uk-offcanvas"))),i.trigger("click"))}),i.on("keydown.uk.offcanvas",function(e){27===e.keyCode&&s.hide()})},init:function(){var t=this;this.options=e.$.extend({target:!!t.element.is("a")&&t.element.attr("href"),mode:"push"},this.options),this.on("click",function(e){e.preventDefault(),s.show(t.options.target,t.options)})}}),e.offcanvas=s}(UIkit2),function(e){"use strict";function t(t,i,s){var r,n=e.$.Deferred(),a=t,o=t;return s[0]===i[0]?(n.resolve(),n.promise()):("object"==typeof t&&(a=t[0],o=t[1]||t[0]),e.$body.css("overflow-x","hidden"),r=function(){i&&i.hide().removeClass("uk-active "+o+" uk-animation-reverse"),s.addClass(a).one(e.support.animation.end,function(){setTimeout(function(){s.removeClass(""+a).css({opacity:"",display:""})},0),n.resolve(),e.$body.css("overflow-x",""),i&&i.css({opacity:"",display:""})}.bind(this)).show()},s.css("animation-duration",this.options.duration+"ms"),i&&i.length?(i.css("animation-duration",this.options.duration+"ms"),i.css("display","none").addClass(o+" uk-animation-reverse").one(e.support.animation.end,function(){r()}.bind(this)).css("display","")):(s.addClass("uk-active"),r()),n.promise())}var i;e.component("switcher",{defaults:{connect:!1,toggle:">*",active:0,animation:!1,duration:200,swiping:!0},animating:!1,boot:function(){e.ready(function(t){e.$("[data-uk-switcher]",t).each(function(){var t=e.$(this);t.data("switcher")||e.switcher(t,e.Utils.options(t.attr("data-uk-switcher")))})})},init:function(){var t=this;this.on("click.uk.switcher",this.options.toggle,function(e){e.preventDefault(),t.show(this)}),this.options.connect&&(this.connect=e.$(this.options.connect),this.connect.length&&(this.connect.on("click.uk.switcher","[data-uk-switcher-item]",function(i){i.preventDefault();var s=e.$(this).attr("data-uk-switcher-item");if(t.index!=s)switch(s){case"next":case"previous":t.show(t.index+("next"==s?1:-1));break;default:t.show(parseInt(s,10))}}),this.options.swiping&&this.connect.on("swipeRight swipeLeft",function(e){e.preventDefault(),window.getSelection().toString()||t.show(t.index+("swipeLeft"==e.type?1:-1))}),this.update()))},update:function(){this.connect.children().removeClass("uk-active").attr("aria-hidden","true");var e=this.find(this.options.toggle),t=e.filter(".uk-active");if(t.length)this.show(t,!1);else{if(!1===this.options.active)return;t=e.eq(this.options.active),this.show(t.length?t:e.eq(0),!1)}e.not(t).attr("aria-expanded","false"),t.attr("aria-expanded","true")},show:function(s,r){if(!this.animating){var n=this.find(this.options.toggle);isNaN(s)?s=e.$(s):(s=0>s?n.length-1:s,s=n.eq(n[s]?s:0));var a=this,o=e.$(s),l=i[this.options.animation]||function(e,s){if(!a.options.animation)return i.none.apply(a);var r=a.options.animation.split(",");return 1==r.length&&(r[1]=r[0]),r[0]=r[0].trim(),r[1]=r[1].trim(),t.apply(a,[r,e,s])};!1!==r&&e.support.animation||(l=i.none),o.hasClass("uk-disabled")||(n.attr("aria-expanded","false"),o.attr("aria-expanded","true"),n.filter(".uk-active").removeClass("uk-active"),o.addClass("uk-active"),this.options.connect&&this.connect.length&&(this.index=this.find(this.options.toggle).index(o),-1==this.index&&(this.index=0),this.connect.each(function(){var t=e.$(this),i=e.$(t.children()),s=e.$(i.filter(".uk-active")),r=e.$(i.eq(a.index));a.animating=!0,l.apply(a,[s,r]).then(function(){s.removeClass("uk-active"),r.addClass("uk-active"),s.attr("aria-hidden","true"),r.attr("aria-hidden","false"),e.Utils.checkDisplay(r,!0),a.animating=!1})})),this.trigger("show.uk.switcher",[o]))}}}),i={none:function(){var t=e.$.Deferred();return t.resolve(),t.promise()},fade:function(e,i){return t.apply(this,["uk-animation-fade",e,i])},"slide-bottom":function(e,i){return t.apply(this,["uk-animation-slide-bottom",e,i])},"slide-top":function(e,i){return t.apply(this,["uk-animation-slide-top",e,i])},"slide-vertical":function(e,i){var s=["uk-animation-slide-top","uk-animation-slide-bottom"];return e&&e.index()>i.index()&&s.reverse(),t.apply(this,[s,e,i])},"slide-left":function(e,i){return t.apply(this,["uk-animation-slide-left",e,i])},"slide-right":function(e,i){return t.apply(this,["uk-animation-slide-right",e,i])},"slide-horizontal":function(e,i){var s=["uk-animation-slide-right","uk-animation-slide-left"];return e&&e.index()>i.index()&&s.reverse(),t.apply(this,[s,e,i])},scale:function(e,i){return t.apply(this,["uk-animation-scale-up",e,i])}},e.switcher.animations=i}(UIkit2),function(e){"use strict";e.component("tab",{defaults:{target:">li:not(.uk-tab-responsive, .uk-disabled)",connect:!1,active:0,animation:!1,duration:200,swiping:!0},boot:function(){e.ready(function(t){e.$("[data-uk-tab]",t).each(function(){var t=e.$(this);t.data("tab")||e.tab(t,e.Utils.options(t.attr("data-uk-tab")))})})},init:function(){var t=this;this.current=!1,this.on("click.uk.tab",this.options.target,function(i){if(i.preventDefault(),!t.switcher||!t.switcher.animating){var s=t.find(t.options.target).not(this);s.removeClass("uk-active").blur(),t.trigger("change.uk.tab",[e.$(this).addClass("uk-active"),t.current]),t.current=e.$(this),t.options.connect||(s.attr("aria-expanded","false"),e.$(this).attr("aria-expanded","true"))}}),this.options.connect&&(this.connect=e.$(this.options.connect)),this.responsivetab=e.$('<li class="uk-tab-responsive uk-active"><a></a></li>').append('<div class="uk-dropdown uk-dropdown-small"><ul class="uk-nav uk-nav-dropdown"></ul><div>'),this.responsivetab.dropdown=this.responsivetab.find(".uk-dropdown"),this.responsivetab.lst=this.responsivetab.dropdown.find("ul"),this.responsivetab.caption=this.responsivetab.find("a:first"),this.element.hasClass("uk-tab-bottom")&&this.responsivetab.dropdown.addClass("uk-dropdown-up"),this.responsivetab.lst.on("click.uk.tab","a",function(i){i.preventDefault(),i.stopPropagation();var s=e.$(this);t.element.children("li:not(.uk-tab-responsive)").eq(s.data("index")).trigger("click")}),this.on("show.uk.switcher change.uk.tab",function(e,i){t.responsivetab.caption.html(i.text())}),this.element.append(this.responsivetab),this.options.connect&&(this.switcher=e.switcher(this.element,{toggle:">li:not(.uk-tab-responsive)",connect:this.options.connect,active:this.options.active,animation:this.options.animation,duration:this.options.duration,swiping:this.options.swiping})),e.dropdown(this.responsivetab,{mode:"click",preventflip:"y"}),t.trigger("change.uk.tab",[this.element.find(this.options.target).not(".uk-tab-responsive").filter(".uk-active")]),this.check(),e.$win.on("resize orientationchange",e.Utils.debounce(function(){t.element.is(":visible")&&t.check()},100)),this.on("display.uk.check",function(){t.element.is(":visible")&&t.check()})},check:function(){var t=this.element.children("li:not(.uk-tab-responsive)").removeClass("uk-hidden");if(!t.length)return void this.responsivetab.addClass("uk-hidden");var i,s,r=t.eq(0).offset().top+Math.ceil(t.eq(0).height()/2),n=!1;if(this.responsivetab.lst.empty(),t.each(function(){e.$(this).offset().top>r&&(n=!0)}),n)for(var a=0;a<t.length;a++)i=e.$(t.eq(a)),i.find("a"),"none"==i.css("float")||i.attr("uk-dropdown")||(i.hasClass("uk-disabled")||(s=e.$(i[0].outerHTML),s.find("a").data("index",a),this.responsivetab.lst.append(s)),i.addClass("uk-hidden"));this.responsivetab[this.responsivetab.lst.children("li").length?"removeClass":"addClass"]("uk-hidden")}})}(UIkit2),function(e){"use strict";e.component("cover",{defaults:{automute:!0},boot:function(){e.ready(function(t){e.$("[data-uk-cover]",t).each(function(){var t=e.$(this);t.data("cover")||e.cover(t,e.Utils.options(t.attr("data-uk-cover")))})})},init:function(){if(this.parent=this.element.parent(),e.$win.on("load resize orientationchange",e.Utils.debounce(function(){this.check()}.bind(this),100)),this.on("display.uk.check",function(){this.element.is(":visible")&&this.check()}.bind(this)),this.check(),this.element.is("iframe")&&this.options.automute){var t=this.element.attr("src");this.element.attr("src","").on("load",function(){this.contentWindow.postMessage('{ "event": "command", "func": "mute", "method":"setVolume", "value":0}',"*")}).attr("src",[t,t.indexOf("?")>-1?"&":"?","enablejsapi=1&api=1"].join(""))}},check:function(){this.element.css({width:"",height:""}),this.dimension={w:this.element.width(),h:this.element.height()},this.element.attr("width")&&!isNaN(this.element.attr("width"))&&(this.dimension.w=this.element.attr("width")),this.element.attr("height")&&!isNaN(this.element.attr("height"))&&(this.dimension.h=this.element.attr("height")),this.ratio=this.dimension.w/this.dimension.h;var e,t,i=this.parent.width(),s=this.parent.height();i/this.ratio<s?(e=Math.ceil(s*this.ratio),t=s):(e=i,t=Math.ceil(i/this.ratio)),this.element.css({width:e,height:t})}})}(UIkit2),function(e){var t;window.UIkit2&&(t=e(UIkit2)),"function"==typeof define&&define.amd&&define("uikit-notify",["uikit"],function(){return t||e(UIkit2)})}(function(e){"use strict";var t={},i={},s=function(t){return"string"==e.$.type(t)&&(t={message:t}),arguments[1]&&(t=e.$.extend(t,"string"==e.$.type(arguments[1])?{status:arguments[1]}:arguments[1])),new n(t).show()},r=function(e,t){var s;if(e)for(s in i)e===i[s].group&&i[s].close(t);else for(s in i)i[s].close(t)},n=function(s){this.options=e.$.extend({},n.defaults,s),this.uuid=e.Utils.uid("notifymsg"),this.element=e.$(['<div class="uk-notify-message">','<a class="uk-close"></a>',"<div></div>","</div>"].join("")).data("notifyMessage",this),this.content(this.options.message),this.options.status&&(this.element.addClass("uk-notify-message-"+this.options.status),this.currentstatus=this.options.status),this.group=this.options.group,i[this.uuid]=this,t[this.options.pos]||(t[this.options.pos]=e.$('<div class="uk-notify uk-notify-'+this.options.pos+'"></div>').appendTo("body").on("click",".uk-notify-message",function(){var t=e.$(this).data("notifyMessage");t.element.trigger("manualclose.uk.notify",[t]),t.close()}))};return e.$.extend(n.prototype,{uuid:!1,element:!1,timout:!1,currentstatus:"",group:!1,show:function(){if(!this.element.is(":visible")){var e=this;t[this.options.pos].show().prepend(this.element);var i=parseInt(this.element.css("margin-bottom"),10);return this.element.css({opacity:0,marginTop:-1*this.element.outerHeight(),marginBottom:0}).animate({opacity:1,marginTop:0,marginBottom:i},function(){if(e.options.timeout){var t=function(){e.close()};e.timeout=setTimeout(t,e.options.timeout),e.element.hover(function(){clearTimeout(e.timeout)},function(){e.timeout=setTimeout(t,e.options.timeout)})}}),this}},close:function(e){var s=this,r=function(){s.element.remove(),t[s.options.pos].children().length||t[s.options.pos].hide(),s.options.onClose.apply(s,[]),s.element.trigger("close.uk.notify",[s]),delete i[s.uuid]};this.timeout&&clearTimeout(this.timeout),e?r():this.element.animate({opacity:0,marginTop:-1*this.element.outerHeight(),marginBottom:0},function(){r()})},content:function(e){var t=this.element.find(">div");return e?(t.html(e),this):t.html()},status:function(e){return e?(this.element.removeClass("uk-notify-message-"+this.currentstatus).addClass("uk-notify-message-"+e),this.currentstatus=e,this):this.currentstatus}}),n.defaults={message:"",status:"",timeout:5e3,group:null,pos:"top-center",onClose:function(){}},e.notify=s,e.notify.message=n,e.notify.closeAll=r,s}),function(e){var t;window.UIkit2&&(t=e(UIkit2)),"function"==typeof define&&define.amd&&define("uikit-tooltip",["uikit"],function(){return t||e(UIkit2)})}(function(e){"use strict";var t,i,s;return e.component("tooltip",{defaults:{offset:5,pos:"top",animation:!1,delay:0,cls:"",activeClass:"uk-active",src:function(e){var t=e.attr("title");return void 0!==t&&e.data("cached-title",t).removeAttr("title"),e.data("cached-title")}},tip:"",boot:function(){e.$html.on("mouseenter.tooltip.uikit focus.tooltip.uikit","[data-uk-tooltip]",function(){var t=e.$(this);t.data("tooltip")||(e.tooltip(t,e.Utils.options(t.attr("data-uk-tooltip"))),t.trigger("mouseenter"))})},init:function(){var i=this;t||(t=e.$('<div class="uk-tooltip"></div>').appendTo("body")),this.on({focus:function(){i.show()},blur:function(){i.hide()},mouseenter:function(){i.show()},mouseleave:function(){i.hide()}})},show:function(){if(this.tip="function"==typeof this.options.src?this.options.src(this.element):this.options.src,i&&clearTimeout(i),s&&clearInterval(s),"string"==typeof this.tip?this.tip.length:0){t.stop().css({top:-2e3,visibility:"hidden"}).removeClass(this.options.activeClass).show(),t.html('<div class="uk-tooltip-inner">'+this.tip+"</div>");var r=this,n=e.$.extend({},this.element.offset(),{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}),a=t[0].offsetWidth,o=t[0].offsetHeight,l="function"==typeof this.options.offset?this.options.offset.call(this.element):this.options.offset,h="function"==typeof this.options.pos?this.options.pos.call(this.element):this.options.pos,d=h.split("-"),c={display:"none",visibility:"visible",top:n.top+n.height+o,left:n.left};if("fixed"==e.$html.css("position")||"fixed"==e.$body.css("position")){var u=e.$("body").offset(),f=e.$("html").offset(),p={top:f.top+u.top,left:f.left+u.left};n.left-=p.left,n.top-=p.top}"left"!=d[0]&&"right"!=d[0]||"right"!=e.langdirection||(d[0]="left"==d[0]?"right":"left");var m={bottom:{top:n.top+n.height+l,left:n.left+n.width/2-a/2},top:{top:n.top-o-l,left:n.left+n.width/2-a/2},left:{top:n.top+n.height/2-o/2,left:n.left-a-l},right:{top:n.top+n.height/2-o/2,left:n.left+n.width+l}};e.$.extend(c,m[d[0]]),2==d.length&&(c.left="left"==d[1]?n.left:n.left+n.width-a);var g=this.checkBoundary(c.left,c.top,a,o);if(g){switch(g){case"x":h=2==d.length?d[0]+"-"+(c.left<0?"left":"right"):c.left<0?"right":"left";break;case"y":h=2==d.length?(c.top<0?"bottom":"top")+"-"+d[1]:c.top<0?"bottom":"top";break;case"xy":h=2==d.length?(c.top<0?"bottom":"top")+"-"+(c.left<0?"left":"right"):c.left<0?"right":"left"}d=h.split("-"),e.$.extend(c,m[d[0]]),2==d.length&&(c.left="left"==d[1]?n.left:n.left+n.width-a)}c.left-=e.$body.position().left,i=setTimeout(function(){t.css(c).attr("class",["uk-tooltip","uk-tooltip-"+h,r.options.cls].join(" ")),r.options.animation?t.css({opacity:0,display:"block"}).addClass(r.options.activeClass).animate({opacity:1},parseInt(r.options.animation,10)||400):t.show().addClass(r.options.activeClass),i=!1,s=setInterval(function(){r.element.is(":visible")||r.hide()},150)},parseInt(this.options.delay,10)||0)}},hide:function(){if(!this.element.is("input")||this.element[0]!==document.activeElement)if(i&&clearTimeout(i),s&&clearInterval(s),t.stop(),this.options.animation){var e=this;t.fadeOut(parseInt(this.options.animation,10)||400,function(){t.removeClass(e.options.activeClass)})}else t.hide().removeClass(this.options.activeClass)},content:function(){return this.tip},checkBoundary:function(t,i,s,r){var n="";return(0>t||t-e.$win.scrollLeft()+s>window.innerWidth)&&(n+="x"),(0>i||i-e.$win.scrollTop()+r>window.innerHeight)&&(n+="y"),n}}),e.tooltip});var jqxBaseFramework=window.minQuery||window.jQuery;!function(e){e.jqx=e.jqx||{},e.jqx.define=function(e,t,i){e[t]=function(){this.baseType&&(this.base=new e[this.baseType],this.base.defineInstance()),this.defineInstance()},e[t].prototype.defineInstance=function(){},e[t].prototype.base=null,e[t].prototype.baseType=void 0,i&&e[i]&&(e[t].prototype.baseType=i)},e.jqx.invoke=function(t,i){if(0!=i.length){for(var s=typeof i==Array||i.length>0?i[0]:i,r=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):e({}).toArray();void 0==t[s]&&null!=t.base;){if(void 0!=t[s]&&e.isFunction(t[s]))return t[s].apply(t,r);if("string"==typeof s){var n=s.toLowerCase();if(void 0!=t[n]&&e.isFunction(t[n]))return t[n].apply(t,r)}t=t.base}if(void 0!=t[s]&&e.isFunction(t[s]))return t[s].apply(t,r);if("string"==typeof s){var n=s.toLowerCase();if(void 0!=t[n]&&e.isFunction(t[n]))return t[n].apply(t,r)}}},e.jqx.hasProperty=function(e,t){if("object"==typeof t)for(var i in t){for(var s=e;s;){if(s.hasOwnProperty(i))return!0;if(s.hasOwnProperty(i.toLowerCase()))return!0;s=s.base}return!1}else for(;e;){if(e.hasOwnProperty(t))return!0;if(e.hasOwnProperty(t.toLowerCase()))return!0;e=e.base}return!1},e.jqx.hasFunction=function(t,i){if(0==i.length)return!1;if(void 0==t)return!1;var s=typeof i==Array||i.length>0?i[0]:i;for((typeof i==Array||i.length>1)&&Array.prototype.slice.call(i,1);void 0==t[s]&&null!=t.base;){if(t[s]&&e.isFunction(t[s]))return!0;if("string"==typeof s){var r=s.toLowerCase();if(t[r]&&e.isFunction(t[r]))return!0}t=t.base}if(t[s]&&e.isFunction(t[s]))return!0;if("string"==typeof s){var r=s.toLowerCase();if(t[r]&&e.isFunction(t[r]))return!0}return!1},e.jqx.isPropertySetter=function(t,i){return 1==i.length&&"object"==typeof i[0]||2==i.length&&"string"==typeof i[0]&&!e.jqx.hasFunction(t,i)},e.jqx.validatePropertySetter=function(t,i,s){if(!e.jqx.propertySetterValidation)return!0;if(1==i.length&&"object"==typeof i[0]){for(var r in i[0]){for(var n=t;!n.hasOwnProperty(r)&&n.base;)n=n.base;if(!n||!n.hasOwnProperty(r)){if(!s){if(n.hasOwnProperty(r.toString().toLowerCase()))return!0;throw"Invalid property: "+r}return!1}}return!0}if(2!=i.length){if(!s)throw"Invalid property: "+i.length>=0?i[0]:"";return!1}for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(!t||!t.hasOwnProperty(i[0])){if(!s)throw"Invalid property: "+i[0];return!1}return!0},Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=i.length;return function(r){if("object"!=typeof r&&("function"!=typeof r||null===r))throw new TypeError("Object.keys called on non-object");var n,a,o=[];for(n in r)e.call(r,n)&&o.push(n);if(t)for(a=0;a<s;a++)e.call(r,i[a])&&o.push(i[a]);return o}}()),e.jqx.set=function(t,i){var s=0;if(1==i.length&&"object"==typeof i[0]){if(t.isInitialized&&Object.keys&&Object.keys(i[0]).length>1){var r=t.base?t.base.element:t.element,n=e.data(r,t.widgetName).initArgs;if(n&&JSON&&JSON.stringify&&i[0]&&n[0])try{if(JSON.stringify(i[0])==JSON.stringify(n[0])){var a=!0;if(e.each(i[0],function(e,i){if(t[e]!=i)return a=!1,!1}),a)return}}catch(e){}t.batchUpdate=i[0];var o={},l={};e.each(i[0],function(e,i){for(var r=t;!r.hasOwnProperty(e)&&null!=r.base;)r=r.base;r.hasOwnProperty(e)?t[e]!=i&&(o[e]=t[e],l[e]=i,s++):r.hasOwnProperty(e.toLowerCase())&&t[e.toLowerCase()]!=i&&(o[e.toLowerCase()]=t[e.toLowerCase()],l[e.toLowerCase()]=i,s++)}),s<2&&(t.batchUpdate=null)}e.each(i[0],function(i,s){for(var r=t;!r.hasOwnProperty(i)&&null!=r.base;)r=r.base;if(r.hasOwnProperty(i))e.jqx.setvalueraiseevent(r,i,s);else if(r.hasOwnProperty(i.toLowerCase()))e.jqx.setvalueraiseevent(r,i.toLowerCase(),s);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i+"'"}),null!=t.batchUpdate&&(t.batchUpdate=null,t.propertiesChangedHandler&&s>1&&t.propertiesChangedHandler(t,o,l))}else if(2==i.length){for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(t.hasOwnProperty(i[0]))e.jqx.setvalueraiseevent(t,i[0],i[1]);else if(t.hasOwnProperty(i[0].toLowerCase()))e.jqx.setvalueraiseevent(t,i[0].toLowerCase(),i[1]);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i[0]+"'"}},e.jqx.setvalueraiseevent=function(e,t,i){var s=e[t];e[t]=i,e.isInitialized&&(void 0!=e.propertyChangedHandler&&e.propertyChangedHandler(e,t,s,i),void 0!=e.propertyChangeMap&&void 0!=e.propertyChangeMap[t]&&e.propertyChangeMap[t](e,t,s,i))},e.jqx.get=function(e,t){if(void 0!=t&&null!=t){if(e.propertyMap){var i=e.propertyMap(t);if(null!=i)return i}if(e.hasOwnProperty(t))return e[t];if(e.hasOwnProperty(t.toLowerCase()))return e[t.toLowerCase()];var s=void 0;if(typeof t==Array){if(1!=t.length)return;s=t[0]}else"string"==typeof t&&(s=t);for(;!e.hasOwnProperty(s)&&e.base;)e=e.base;return e?e[s]:void 0}},e.jqx.serialize=function(t){var i="";if(e.isArray(t)){i="[";for(var s=0;s<t.length;s++)s>0&&(i+=", "),i+=e.jqx.serialize(t[s]);i+="]"}else if("object"==typeof t){i="{";var r=0;for(var s in t)r++>0&&(i+=", "),i+=s+": "+e.jqx.serialize(t[s]);i+="}"}else i=t.toString();return i},e.jqx.propertySetterValidation=!0,e.jqx.jqxWidgetProxy=function(t,i,s){var r=(e(i),e.data(i,t));if(void 0!=r){var n=r.instance;if(e.jqx.hasFunction(n,s))return e.jqx.invoke(n,s);if(e.jqx.isPropertySetter(n,s)){if(e.jqx.validatePropertySetter(n,s))return void e.jqx.set(n,s)}else{if("object"==typeof s&&0==s.length)return;if("object"==typeof s&&1==s.length&&e.jqx.hasProperty(n,s[0]))return e.jqx.get(n,s[0]);if("string"==typeof s&&e.jqx.hasProperty(n,s[0]))return e.jqx.get(n,s)}throw"jqxCore: Invalid parameter '"+e.jqx.serialize(s)+"' does not exist."}},e.jqx.applyWidget=function(t,i,s,r){var n=!1;try{n=void 0!=window.MSApp}catch(e){}var a=e(t);r?(r.host=a,r.element=t):r=new e.jqx["_"+i],""==t.id&&(t.id=e.jqx.utilities.createId());var o={host:a,element:t,instance:r,initArgs:s};r.widgetName=i,e.data(t,i,o),e.data(t,"jqxWidget",o.instance);for(var l=new Array,r=o.instance;r;)r.isInitialized=!1,l.push(r),r=r.base;l.reverse(),l[0].theme=e.jqx.theme||"",e.jqx.jqxWidgetProxy(i,t,s);for(var h in l)r=l[h],0==h&&(r.host=a,r.element=t,r.WinJS=n),void 0!=r&&(r.definedInstance&&r.definedInstance(),null!=r.createInstance&&(n?MSApp.execUnsafeLocalFunction(function(){r.createInstance(s)}):r.createInstance(s)));for(var h in l)void 0!=l[h]&&(l[h].isInitialized=!0);n?MSApp.execUnsafeLocalFunction(function(){o.instance.refresh(!0)}):o.instance.refresh(!0)},e.jqx.jqxWidget=function(t,i,s){try{jqxArgs=Array.prototype.slice.call(s,0)}catch(e){jqxArgs=""}try{void 0!=window.MSApp}catch(e){}var r=t,n="";i&&(n="_"+i),e.jqx.define(e.jqx,"_"+r,n);var a=new Array;if(!window[r]){var o=function(t){if(null==t)return"";switch(e.type(t)){case"string":case"number":case"date":case"boolean":case"bool":return null===t?"":t.toString()}var i="";return e.each(t,function(t){var s=this;t>0&&(i+=", "),i+="[";var r=0;if("object"==e.type(s))for(var n in s)r>0&&(i+=", "),i+="{"+n+":"+s[n]+"}",r++;else r>0&&(i+=", "),i+="{"+t+":"+s+"}",r++;i+="]"}),i};window[r]=function(t,i){var s=[];i||(i={}),s.push(i);var n=t;if("object"===e.type(n)&&t[0]&&""===(n=t[0].id)&&(n=t[0].id=e.jqx.utilities.createId()),window.jqxWidgets&&window.jqxWidgets[n]){if(i&&e.each(window.jqxWidgets[n],function(t){var s=e(this.element).data();s&&s.jqxWidget&&e(this.element)[r](i)}),1==window.jqxWidgets[n].length){var l=e(window.jqxWidgets[n][0].widgetInstance.element).data();if(l&&l.jqxWidget)return window.jqxWidgets[n][0]}var l=e(window.jqxWidgets[n][0].widgetInstance.element).data();if(l&&l.jqxWidget)return window.jqxWidgets[n]}var h=e(t);if(0===h.length)throw new Error("Invalid Selector - "+t+"! Please, check whether the used ID or CSS Class name is correct.");var d=[];return e.each(h,function(t){var i=h[t],l=null;if(!a[r]){var c=i.id;i.id="",l=e(i).clone(),i.id=c}if(e.jqx.applyWidget(i,r,s,void 0),!a[r]){var u=e.data(i,"jqxWidget"),f=l[r]().data().jqxWidget.defineInstance(),p=function(t){var i=e.data(t,"jqxWidget");this.widgetInstance=i;var s=e.extend(this,i);return s.on=function(e,t){s.addHandler(s.host,e,t)},s.off=function(e){s.removeHandler(s.host,e)},s};a[r]=p,e.each(f,function(e,t){Object.defineProperty(p.prototype,e,{get:function(){return this.widgetInstance?this.widgetInstance[e]:t},set:function(t){if(this.widgetInstance&&this.widgetInstance[e]!=t&&this.widgetInstance[e]!=t&&o(this.widgetInstance[e])!=o(t)){var i={};i[e]=t,this.widgetInstance.host[r](i),this.widgetInstance[e]=t}}})})}var u=new a[r](i);d.push(u),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[n]||(window.jqxWidgets[n]=new Array),window.jqxWidgets[n].push(u)}),1===d.length?d[0]:d}}e.fn[r]=function(){var t=Array.prototype.slice.call(arguments,0);if(0==t.length||1==t.length&&"object"==typeof t[0]){if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){var i=(e(this),this);null==e.data(i,r)?e.jqx.applyWidget(i,r,t,void 0):e.jqx.jqxWidgetProxy(r,this,t)})}if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var i=null,s=0;return this.each(function(){var n=e.jqx.jqxWidgetProxy(r,this,t);if(0==s)i=n,s++;else{if(1==s){var a=[];a.push(i),i=a}i.push(n)}}),i};try{e.extend(e.jqx["_"+r].prototype,Array.prototype.slice.call(s,0)[0])}catch(e){}e.extend(e.jqx["_"+r].prototype,{toThemeProperty:function(t,i){return e.jqx.toThemeProperty(this,t,i)}}),e.jqx["_"+r].prototype.refresh=function(){this.base&&this.base.refresh(!0)},e.jqx["_"+r].prototype.createInstance=function(){},e.jqx["_"+r].prototype.applyTo=function(t,i){if(!(i instanceof Array)){var s=[];s.push(i),i=s}e.jqx.applyWidget(t,r,i,this)},e.jqx["_"+r].prototype.getInstance=function(){return this},e.jqx["_"+r].prototype.propertyChangeMap={},e.jqx["_"+r].prototype.addHandler=function(t,i,s,r){e.jqx.addHandler(t,i,s,r)},e.jqx["_"+r].prototype.removeHandler=function(t,i,s){e.jqx.removeHandler(t,i,s)}},e.jqx.toThemeProperty=function(e,t,i){if(""==e.theme)return t;for(var s=t.split(" "),r="",n=0;n<s.length;n++){n>0&&(r+=" ");var a=s[n];r+=null!=i&&i?a+"-"+e.theme:a+" "+a+"-"+e.theme}return r},e.jqx.addHandler=function(t,i,s,r){for(var n=i.split(" "),a=0;a<n.length;a++){var o=n[a];if(window.addEventListener)switch(o){case"mousewheel":e.jqx.browser.mozilla?t[0].addEventListener("DOMMouseScroll",s,!1):t[0].addEventListener("mousewheel",s,!1);continue;case"mousemove":if(!r){t[0].addEventListener("mousemove",s,!1);continue}}
void 0==r||null==r?t.on?t.on(o,s):t.bind(o,s):t.on?t.on(o,r,s):t.bind(o,r,s)}},e.jqx.removeHandler=function(t,i,s){if(!i)return void(t.off?t.off():t.unbind());for(var r=i.split(" "),n=0;n<r.length;n++){var a=r[n];if(window.removeEventListener)switch(a){case"mousewheel":e.jqx.browser.mozilla?t[0].removeEventListener("DOMMouseScroll",s,!1):t[0].removeEventListener("mousewheel",s,!1);continue;case"mousemove":if(s){t[0].removeEventListener("mousemove",s,!1);continue}}void 0!=a?void 0==s?t.off?t.off(a):t.unbind(a):t.off?t.off(a,s):t.unbind(a,s):t.off?t.off():t.unbind()}},e.jqx.theme=e.jqx.theme||"",e.jqx.scrollAnimation=e.jqx.scrollAnimation||!1,e.jqx.resizeDelay=e.jqx.resizeDelay||10,e.jqx.ready=function(){e(window).trigger("jqxReady")},e.jqx.init=function(){e.each(arguments[0],function(t,i){"theme"==t&&(e.jqx.theme=i),"scrollBarSize"==t&&(e.jqx.utilities.scrollBarSize=i),"touchScrollBarSize"==t&&(e.jqx.utilities.touchScrollBarSize=i),"scrollBarButtonsVisibility"==t&&(e.jqx.utilities.scrollBarButtonsVisibility=i)})},e.jqx.utilities=e.jqx.utilities||{},e.extend(e.jqx.utilities,{scrollBarSize:15,touchScrollBarSize:0,scrollBarButtonsVisibility:"visible",createId:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+e()+e()},setTheme:function(t,i,s){if(void 0!==s){for(var r=s[0].className.split(" "),n=[],a=[],o=s.children(),l=0;l<r.length;l+=1)r[l].indexOf(t)>=0&&(t.length>0?(n.push(r[l]),a.push(r[l].replace(t,i))):a.push(r[l].replace("-"+i,"")+"-"+i));this._removeOldClasses(n,s),this._addNewClasses(a,s);for(var l=0;l<o.length;l+=1)this.setTheme(t,i,e(o[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},getOffset:function(t){var i=e.jqx.mobile.getLeftPos(t[0]);return{top:e.jqx.mobile.getTopPos(t[0]),left:i}},resize:function(t,i,s,r){void 0===r&&(r=!0);var n=-1,a=this,o=function(e){if(!a.hiddenWidgets)return-1;for(var t=-1,i=0;i<a.hiddenWidgets.length;i++)if(e.id){if(a.hiddenWidgets[i].id==e.id){t=i;break}}else if(a.hiddenWidgets[i].id==e[0].id){t=i;break}return t};if(this.resizeHandlers){for(var l=0;l<this.resizeHandlers.length;l++)if(t.id){if(this.resizeHandlers[l].id==t.id){n=l;break}}else if(this.resizeHandlers[l].id==t[0].id){n=l;break}if(!0===s){if(-1!=n&&this.resizeHandlers.splice(n,1),0==this.resizeHandlers.length){var h=e(window);h.off?(h.off("resize.jqx"),h.off("orientationchange.jqx"),h.off("orientationchanged.jqx")):(h.unbind("resize.jqx"),h.unbind("orientationchange.jqx"),h.unbind("orientationchanged.jqx")),this.resizeHandlers=null}var d=o(t);return void(-1!=d&&this.hiddenWidgets&&this.hiddenWidgets.splice(d,1))}}else if(!0===s){var d=o(t);return void(-1!=d&&this.hiddenWidgets&&this.hiddenWidgets.splice(d,1))}var a=this,c=function(t,i){if(a.resizeHandlers){var s=function(e){for(var t=-1,i=e.parentNode;i;)t++,i=i.parentNode;return t},r=function(e,t){if(!e.widget||!t.widget)return 0;var i=s(e.widget[0]),r=s(t.widget[0]);try{if(i<r)return-1;if(i>r)return 1}catch(e){}return 0},n=function(t){if(a.hiddenWidgets.length>0){a.hiddenWidgets.sort(r);var s=function(){for(var t=!1,s=new Array,r=0;r<a.hiddenWidgets.length;r++){var n=a.hiddenWidgets[r];e.jqx.isHidden(n.widget)?(t=!0,s.push(n)):n.callback&&n.callback(i)}a.hiddenWidgets=s,t||clearInterval(a.__resizeInterval)};if(0==t)return s(),void(a.__resizeInterval&&clearInterval(a.__resizeInterval));a.__resizeInterval&&clearInterval(a.__resizeInterval),a.__resizeInterval=setInterval(function(){s()},100)}};a.hiddenWidgets&&a.hiddenWidgets.length>0&&n(!1),a.hiddenWidgets=new Array,a.resizeHandlers.sort(r);for(var l=0;l<a.resizeHandlers.length;l++){var h=a.resizeHandlers[l],d=h.widget,c=h.data;if(c&&c.jqxWidget){var u=c.jqxWidget.width,f=c.jqxWidget.height;c.jqxWidget.base&&(void 0==u&&(u=c.jqxWidget.base.width),void 0==f&&(f=c.jqxWidget.base.height)),void 0===u&&void 0===f&&(u=c.jqxWidget.element.style.width,f=c.jqxWidget.element.style.height);var p=!1;if(null!=u&&-1!=u.toString().indexOf("%")&&(p=!0),null!=f&&-1!=f.toString().indexOf("%")&&(p=!0),e.jqx.isHidden(d))-1===o(d)&&(p||!0===t)&&!0!==h.data.nestedWidget&&a.hiddenWidgets.push(h);else if((void 0===t||!0!==t)&&(p&&(h.callback(i),a.hiddenWidgets.indexOf(h)>=0&&a.hiddenWidgets.splice(a.hiddenWidgets.indexOf(h),1)),c.jqxWidget.element)){var m=c.jqxWidget.element.className;if((m.indexOf("dropdownlist")>=0||m.indexOf("datetimeinput")>=0||m.indexOf("combobox")>=0||m.indexOf("menu")>=0)&&c.jqxWidget.isOpened){var g=c.jqxWidget.isOpened();if(g){if(i&&"resize"==i&&e.jqx.mobile.isTouchDevice())continue;c.jqxWidget.close()}}}}}n()}};if(!this.resizeHandlers){this.resizeHandlers=new Array;var h=e(window);h.on?(this._resizeTimer=null,this._initResize=null,h.on("resize.jqx",function(t){void 0!=a._resizeTimer&&clearTimeout(a._resizeTimer),a._initResize?a._resizeTimer=setTimeout(function(){c(null,"resize")},e.jqx.resizeDelay):(a._initResize=!0,c(null,"resize"))}),h.on("orientationchange.jqx",function(e){c(null,"orientationchange")}),h.on("orientationchanged.jqx",function(e){c(null,"orientationchange")})):(h.bind("resize.jqx",function(e){c(null,"orientationchange")}),h.bind("orientationchange.jqx",function(e){c(null,"orientationchange")}),h.bind("orientationchanged.jqx",function(e){c(null,"orientationchange")}))}var u=t.data();r&&-1===n&&this.resizeHandlers.push({id:t[0].id,widget:t,callback:i,data:u});try{var f=u.jqxWidget.width,p=u.jqxWidget.height;u.jqxWidget.base&&(void 0==f&&(f=u.jqxWidget.base.width),void 0==p&&(p=u.jqxWidget.base.height)),void 0===f&&void 0===p&&(f=u.jqxWidget.element.style.width,p=u.jqxWidget.element.style.height);var m=!1;if(null!=f&&-1!=f.toString().indexOf("%")&&(m=!0),null!=p&&-1!=p.toString().indexOf("%")&&(m=!0),m){this.watchedElementData||(this.watchedElementData=[]);var a=this,g=function(t){a.watchedElementData.forEach&&a.watchedElementData.forEach(function(t){t.element.offsetWidth===t.offsetWidth&&t.element.offsetHeight===t.offsetHeight||(t.offsetWidth=t.element.offsetWidth,t.offsetHeight=t.element.offsetHeight,t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){e.jqx.isHidden(e(t.element))||t.callback()}))})};a.watchedElementData.push({element:t[0],offsetWidth:t[0].offsetWidth,offsetHeight:t[0].offsetHeight,callback:i}),a.observer||(a.observer=new MutationObserver(g),a.observer.observe(document.body,{attributes:!0,childList:!0,characterData:!0}))}}catch(e){}e.jqx.isHidden(t)&&!0===r&&c(!0),e.jqx.resize=function(){c(null,"resize")}},html:function(t,i){if(!e(t).on)return e(t).html(i);try{return e.access(t,function(i){var s=t[0]||{},r=0,n=t.length;if(void 0===i)return 1===s.nodeType?s.innerHTML.replace(rinlinejQuery,""):void 0;var a=/<(?:script|style|link)/i,o=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,l=/<([\w:]+)/,h=new RegExp("<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)[\\s/>]","i"),d=/^\s+/,c={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if("string"==typeof i&&!a.test(i)&&(e.support.htmlSerialize||!h.test(i))&&(e.support.leadingWhitespace||!d.test(i))&&!c[(l.exec(i)||["",""])[1].toLowerCase()]){i=i.replace(o,"<$1></$2>");try{for(;r<n;r++)s=this[r]||{},1===s.nodeType&&(e.cleanData(s.getElementsByTagName("*")),s.innerHTML=i);s=0}catch(e){}}s&&t.empty().append(i)},null,i,arguments.length)}catch(s){return e(t).html(i)}},hasTransform:function(t){var i="";if(""==(i=t.css("transform"))||"none"==i){if(""!=(i=t.parents().css("transform"))&&"none"!=i)return""!=i&&"none"!=i;var s=e.jqx.utilities.getBrowser();"msie"==s.browser?""!=(i=t.css("-ms-transform"))&&"none"!=i||(i=t.parents().css("-ms-transform")):"chrome"==s.browser?""!=(i=t.css("-webkit-transform"))&&"none"!=i||(i=t.parents().css("-webkit-transform")):"opera"==s.browser?""!=(i=t.css("-o-transform"))&&"none"!=i||(i=t.parents().css("-o-transform")):"mozilla"==s.browser&&(""!=(i=t.css("-moz-transform"))&&"none"!=i||(i=t.parents().css("-moz-transform")))}return""!=i&&"none"!=i||(i=e(document.body).css("transform")),""!=i&&"none"!=i&&null!=i},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i={browser:t[1]||"",version:t[2]||"0"};return e.indexOf("rv:11.0")>=0&&e.indexOf(".net4.0c")>=0&&(i.browser="msie",i.version="11",t[1]="msie"),e.indexOf("edge")>=0&&(i.browser="msie",i.version="12",t[1]="msie"),i[t[1]]=t[1],i}}),e.jqx.browser=e.jqx.utilities.getBrowser(),e.jqx.isHidden=function(e){if(!e||!e[0])return!1;var t=e[0].offsetWidth,i=e[0].offsetHeight;return 0===t||0===i},e.jqx.ariaEnabled=!0,e.jqx.aria=function(t,i,s){if(e.jqx.ariaEnabled)if(void 0==i)e.each(t.aria,function(i,s){var r=t.base?t.base.host.attr(i):t.host.attr(i);if(void 0==r||e.isFunction(r)){var r=t[s.name];e.isFunction(r)&&(r=t[s.name]()),void 0==r&&(r="");try{t.base?t.base.host.attr(i,r.toString()):t.host.attr(i,r.toString())}catch(e){}}else{var n=r;switch(s.type){case"number":n=new Number(r),isNaN(n)&&(n=r);break;case"boolean":n="true"==r;break;case"date":n=new Date(r),("Invalid Date"==n||isNaN(n))&&(n=r)}t[s.name]=n}});else try{t.host?t.base?t.base.host?t.base.host.attr(i,s.toString()):t.attr(i,s.toString()):t.host?t.element.setAttribute?t.element.setAttribute(i,s.toString()):t.host.attr(i,s.toString()):t.attr(i,s.toString()):t.setAttribute&&t.setAttribute(i,s.toString())}catch(e){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=Number(arguments[1])||0;for(i=i<0?Math.ceil(i):Math.floor(i),i<0&&(i+=t);i<t;i++)if(i in this&&this[i]===e)return i;return-1}),e.jqx.mobile=e.jqx.mobile||{},e.jqx.position=function(t){var i=parseInt(t.pageX),s=parseInt(t.pageY);if(e.jqx.mobile.isTouchDevice()){var r=e.jqx.mobile.getTouches(t),n=r[0];i=parseInt(n.pageX),s=parseInt(n.pageY)}return{left:i,top:s}},e.extend(e.jqx.mobile,{_touchListener:function(e,t){var i={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},s=function(e,t){var i=document.createEvent("MouseEvents");return i.initMouseEvent(e,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),i._pageX=t.pageX,i._pageY=t.pageY,i}(i[e.type],e);e.target.dispatchEvent(s);var r=e.target["on"+i[e.type]];"function"==typeof r&&r(e)},setMobileSimulator:function(t,i){if(!this.isTouchDevice()){this.simulatetouches=!0,0==i&&(this.simulatetouches=!1);var s={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},r=this;if(window.addEventListener){var n=function(){for(var e in s)t.addEventListener&&(t.removeEventListener(e,r._touchListener),t.addEventListener(e,r._touchListener,!1))};e.jqx.browser.msie,n()}}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var e="Browser CodeName: "+navigator.appCodeName;if(e+="Browser Name: "+navigator.appName,e+="Browser Version: "+navigator.appVersion,e+="Platform: "+navigator.platform,e+="User-agent header: "+navigator.userAgent,-1!=e.indexOf("Android"))return!0;if(-1!=e.indexOf("IEMobile"))return!0;if(-1!=e.indexOf("Windows Phone"))return!0;if(-1!=e.indexOf("WPDesktop"))return!0;if(-1!=e.indexOf("ZuneWP7"))return!0;if(-1!=e.indexOf("BlackBerry")&&-1!=e.indexOf("Mobile Safari"))return!0;if(-1!=e.indexOf("ipod"))return!0;if(-1!=e.indexOf("nokia")||-1!=e.indexOf("Nokia"))return!0;if(-1!=e.indexOf("Chrome/17"))return!1;if(-1!=e.indexOf("CrOS"))return!1;if(-1!=e.indexOf("Opera")&&-1==e.indexOf("Mobi")&&-1==e.indexOf("Mini")&&-1!=e.indexOf("Platform: Win"))return!1;if(-1!=e.indexOf("Opera")&&-1!=e.indexOf("Mobi")&&-1!=e.indexOf("Opera Mobi"))return!0;var t={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(void 0!=this.touchDevice)return this.touchDevice;this.touchDevice=!1;for(i in t)if(t.hasOwnProperty(i)&&(prefix=t[i],match=e.match(new RegExp("(?:"+prefix+")([^\\s;]+)")),match))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0);var s=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(s.indexOf("Windows Phone")>=0||s.indexOf("WPDesktop")>=0||s.indexOf("IEMobile")>=0||s.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(s.indexOf("Touch")>=0){return"MSPointerDown"in window||"pointerdown"in window?(this.touchDevice=!0,!0):s.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(e){return this.touchDevice=!1,!1}},getLeftPos:function(e){for(var t=e.offsetLeft;null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetLeft,document.all&&(t+=e.clientLeft));return t},getTopPos:function(t){for(var i=t.offsetTop,s=e(t).coord();null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(i+=t.offsetTop-t.scrollTop,document.all&&(i+=t.clientTop));var r=navigator.userAgent.toLowerCase();return-1==r.indexOf("windows phone")&&-1==r.indexOf("WPDesktop")&&-1==r.indexOf("ZuneWP7")&&-1==r.indexOf("msie 9")&&-1==r.indexOf("msie 11")&&-1==r.indexOf("msie 10")||-1==r.indexOf("touch")?this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?i:-1!=r.indexOf("version/7")?s.top:(-1==r.indexOf("version/6")&&-1==r.indexOf("version/5")||(i+=e(window).scrollTop()),/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)?i+e(window).scrollTop():/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)?i+e(window).scrollTop():s.top):i:s.top},isChromeMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("android")},isOperaMiniMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("opera mini")||-1!=e.indexOf("opera mobi")},isOperaMiniBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("opera mini")},isNewSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/5")},isSafari4MobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/4")},isWindowsPhone:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10")&&-1!=e.indexOf("touch")},isSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return!!/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)||(!!/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)||(-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod")||-1!=e.indexOf("mobile safari")))},isIPadSafariMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("ipad")},isMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("android")},getTouches:function(e){if(e.originalEvent){if(e.originalEvent.touches&&e.originalEvent.touches.length)return e.originalEvent.touches;if(e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length)return e.originalEvent.changedTouches}return e.touches||(e.touches=new Array,e.touches[0]=void 0!=e.originalEvent?e.originalEvent:e,void 0!=e.originalEvent&&e.pageX&&(e.touches[0]=e),"mousemove"==e.type&&(e.touches[0]=e)),e.touches},getTouchEventName:function(e){if(!this.isWindowsPhone())return e;if(-1!=navigator.userAgent.toLowerCase().indexOf("windows phone 7")){if(-1!=e.toLowerCase().indexOf("start"))return"MSPointerDown";if(-1!=e.toLowerCase().indexOf("move"))return"MSPointerMove";if(-1!=e.toLowerCase().indexOf("end"))return"MSPointerUp"}return-1!=e.toLowerCase().indexOf("start")?"pointerdown":-1!=e.toLowerCase().indexOf("move")?"pointermove":-1!=e.toLowerCase().indexOf("end")?"pointerup":void 0},dispatchMouseEvent:function(e,t,i){if(!this.simulatetouches){var s=document.createEvent("MouseEvent");s.initMouseEvent(e,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),null!=i&&i.dispatchEvent(s)}},getRootNode:function(e){for(;1!==e.nodeType;)e=e.parentNode;return e},setTouchScroll:function(e,t){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[t]=e},touchScroll:function(t,i,s,r,n,a){function o(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.originalEvent&&void 0!==e.originalEvent.clientY?e.originalEvent.clientY:c.getTouches(e)[0].clientY}function l(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.originalEvent&&void 0!==e.originalEvent.clientX?e.originalEvent.clientX:c.getTouches(e)[0].clientX}function h(){var e,t;H&&(e=Date.now()-M,t=-H*Math.exp(-e/O),t>.5||t<-.5?(W(A+t,event),requestAnimationFrame(h)):(W(A),a.fadeOut("fast")))}function d(){var e,t;H&&(e=Date.now()-M,t=-H*Math.exp(-e/O),t>.5||t<-.5?(V(B+t),requestAnimationFrame(d)):(V(B),n.fadeOut("fast")))}if(null!=t){var c=this,u=0,f=0,p=0,m=0,g=0,v=0;this.scrolling||(this.scrolling=[]),this.scrolling[r]=!1;var x=!1,y=e(t),w=["select","input","textarea"],b=0,_=0;this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[r]=!0;var T,j,C,S,q,k,D,I,M,P,H,A,B,N,O,r=r,E=this.getTouchEventName("touchstart")+".touchScroll",z=this.getTouchEventName("touchend")+".touchScroll",L=this.getTouchEventName("touchmove")+".touchScroll";C=i,j=0,S=0,xoffset=0,initialOffset=0,initialXOffset=0,T=n.jqxScrollBar("max"),O=325;var F=function(){var e,t,i,s;e=Date.now(),t=e-M,M=e,i=S-I,xdelta=xoffset-xframe,I=S,xframe=xoffset,k=!0,s=1e3*i/(1+t),xv=1e3*xdelta/(1+t),D=.8*s+.2*D,xjqxAnimations=.8*xv+.2*xjqxAnimations},R=!1,b=function(t){if(!c.enableScrolling[r])return!0;if(-1===e.inArray(t.target.tagName.toLowerCase(),w)){S=a.jqxScrollBar("value"),xoffset=n.jqxScrollBar("value");var i=c.getTouches(t),s=i[0];return 1==i.length&&c.dispatchMouseEvent("mousedown",s,c.getRootNode(s.target)),T=n.jqxScrollBar("max"),C=a.jqxScrollBar("max"),function(e){R=!1,k=!0,q=o(e),N=l(e),D=H=xjqxAnimations=0,I=S,xframe=xoffset,M=Date.now(),clearInterval(P),P=setInterval(F,100),initialOffset=S,initialXOffset=xoffset,S>0&&S<C&&a[0].style.visibility}(t),x=!1,f=s.pageY,g=s.pageX,c.simulatetouches&&void 0!=s._pageY&&(f=s._pageY,g=s._pageX),c.scrolling[r]=!0,u=0,m=0,!0}};y.on?y.on(E,b):y.bind(E,b);var W=function(e,t){return S=e>C?C:e<j?j:e,s(null,e,0,0,t),e>C?"max":e<j?"min":"value"},V=function(e,t){return xoffset=e>T?T:e<j?j:e,s(e,null,0,0,t),e>T?"max":e<j?"min":"value"},U=function(e){if(!c.enableScrolling[r])return!0;if(!c.scrolling[r])return!0;R&&(e.preventDefault(),e.stopPropagation());var t=c.getTouches(e);if(t.length>1)return!0;var i=t[0].pageY,s=t[0].pageX;c.simulatetouches&&void 0!=t[0]._pageY&&(i=t[0]._pageY,s=t[0]._pageX);var h=i-f,d=s-g;_=i,touchHorizontalEnd=s,p=h-u,v=d-m,x=!0,u=h,m=d;var y=null==n||"hidden"!=n[0].style.visibility,w=null==a||"hidden"!=a[0].style.visibility;(y||w)&&(y||w)&&function(e){var t,i,s;if(k){t=o(e),s=l(e),i=q-t,xdelta=N-s;var r="value";if(i>2||i<-2)return q=t,r=W(S+i,e),F(),"min"==r&&0===initialOffset||"max"==r&&initialOffset===C||!w||(e.preventDefault(),e.stopPropagation(),R=!0,!1);if(xdelta>2||xdelta<-2)return N=s,r=V(xoffset+xdelta,e),F(),"min"==r&&0===initialXOffset||"max"==r&&initialXOffset===T||!y||(R=!0,e.preventDefault(),e.stopPropagation(),!1);e.preventDefault()}}(e)};y.on?y.on(L,U):y.bind(L,U);var Y=function(e){if(!c.enableScrolling[r])return!0;var t=c.getTouches(e)[0];if(!c.scrolling[r])return!0;if(k=!1,clearInterval(P),D>10||D<-10?(H=.8*D,A=Math.round(S+H),M=Date.now(),requestAnimationFrame(h),a.fadeIn(100)):xjqxAnimations>10||xjqxAnimations<-10?(H=.8*xjqxAnimations,B=Math.round(xoffset+H),M=Date.now(),requestAnimationFrame(d),n.fadeIn(100)):(n.fadeOut(100),a.fadeOut(100)),c.scrolling[r]=!1,!x){var t=c.getTouches(e)[0],i=c.getRootNode(t.target);return c.dispatchMouseEvent("mouseup",t,i),c.dispatchMouseEvent("click",t,i),!0}c.dispatchMouseEvent("mouseup",t,e.target)};if(this.simulatetouches){var G=(void 0!=e(window).on||e(window).bind,function(e){try{Y(e)}catch(e){}c.scrolling[r]=!1});if(void 0!=e(window).on?e(document).on("mouseup.touchScroll",G):e(document).bind("mouseup.touchScroll",G),window.frameElement&&null!=window.top){var $=function(e){try{Y(e)}catch(e){}c.scrolling[r]=!1};window.top.document&&(e(window.top.document).on?e(window.top.document).on("mouseup",$):e(window.top.document).bind("mouseup",$))}var K=(void 0!=e(document).on||e(document).bind,function(e){if(!c.scrolling[r])return!0;c.scrolling[r]=!1;var t=c.getTouches(e)[0],i=c.getRootNode(t.target);c.dispatchMouseEvent("mouseup",t,i),c.dispatchMouseEvent("click",t,i)});void 0!=e(document).on?e(document).on("touchend",K):e(document).bind("touchend",K)}y.on&&(y.on("dragstart",function(e){e.preventDefault()}),y.on("selectstart",function(e){e.preventDefault()})),y.on?y.on(z+" touchcancel.touchScroll",Y):y.bind(z+" touchcancel.touchScroll",Y)}}}),e.jqx.cookie=e.jqx.cookie||{},e.extend(e.jqx.cookie,{cookie:function(t,i,s){if(arguments.length>1&&"[object Object]"!==String(i)){if(s=e.extend({},s),null!==i&&void 0!==i||(s.expires=-1),"number"==typeof s.expires){var r=s.expires,n=s.expires=new Date;n.setDate(n.getDate()+r)}return i=String(i),document.cookie=[encodeURIComponent(t),"=",s.raw?i:encodeURIComponent(i),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}s=i||{};var a,o=s.raw?function(e){return e}:decodeURIComponent;return(a=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?o(a[1]):null}}),e.jqx.string=e.jqx.string||{},e.extend(e.jqx.string,{replace:function(e,t,i){if(t===i)return this;for(var s=e,r=s.indexOf(t);-1!=r;)s=s.replace(t,i),r=s.indexOf(t);return s},contains:function(e,t){return null!=e&&null!=t&&-1!=e.indexOf(t)},containsIgnoreCase:function(e,t){return null!=e&&null!=t&&-1!=e.toString().toUpperCase().indexOf(t.toString().toUpperCase())},equals:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.slice(0,t.length)==t)},equalsIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.toUpperCase().slice(0,t.length)==t.toUpperCase())},startsWith:function(e,t){return null!=e&&null!=t&&e.slice(0,t.length)==t},startsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&e.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(e){return 65279==e.charCodeAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},endsWith:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),e.slice(-t.length)==t)},endsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),e.toUpperCase().slice(-t.length)==t.toUpperCase())}}),e.extend(e.easing,{easeOutBack:function(e,t,i,s,r,n){return void 0==n&&(n=1.70158),s*((t=t/r-1)*t*((n+1)*t+n)+1)+i},easeInQuad:function(e,t,i,s,r){return s*(t/=r)*t+i},easeInOutCirc:function(e,t,i,s,r){return(t/=r/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+i:s/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInOutSine:function(e,t,i,s,r){return-s/2*(Math.cos(Math.PI*t/r)-1)+i},easeInCubic:function(e,t,i,s,r){return s*(t/=r)*t*t+i},easeOutCubic:function(e,t,i,s,r){return s*((t=t/r-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,s,r){return(t/=r/2)<1?s/2*t*t*t+i:s/2*((t-=2)*t*t+2)+i},easeInSine:function(e,t,i,s,r){return-s*Math.cos(t/r*(Math.PI/2))+s+i},easeOutSine:function(e,t,i,s,r){return s*Math.sin(t/r*(Math.PI/2))+i},easeInOutSine:function(e,t,i,s,r){return-s/2*(Math.cos(Math.PI*t/r)-1)+i}})}(jqxBaseFramework),function(e){e.extend(e.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),e.fn.extend({ischildof:function(t){for(var i=e(this).parents().get(),s=0;s<i.length;s++)if("string"!=typeof t){var r=i[s];if(void 0!==t&&r==t[0])return!0}else if(void 0!==t&&e(i[s]).is(t))return!0;return!1}}),e.fn.jqxProxy=function(){var t=e(this).data().jqxWidget,i=Array.prototype.slice.call(arguments,0),s=t.element;return s||(s=t.base.element),e.jqx.jqxWidgetProxy(t.widgetName,s,i)};var t=this.originalVal=e.fn.val;e.fn.val=function(i){if(void 0===i){if(e(this).hasClass("jqx-widget")){var s=e(this).data().jqxWidget;if(s&&s.val)return s.val()}return t.call(this)}if(e(this).hasClass("jqx-widget")){var s=e(this).data().jqxWidget;if(s&&s.val)return 2!=arguments.length?s.val(i):s.val(i,arguments[1])}return t.call(this,i)},e.fn.modal&&e.fn.modal.Constructor&&(e.fn.modal.Constructor.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(t){if(this.$element[0]!==t.target&&!this.$element.has(t.target).length){if(e(t.target).parents().hasClass("jqx-popup"))return!0;this.$element.trigger("focus")}},this))}),e.fn.coord=function(t){var i,s,r={top:0,left:0},n=this[0],a=n&&n.ownerDocument;if(a){if(i=a.documentElement,!e.contains(i,n))return r;void 0!==typeof n.getBoundingClientRect&&(r=n.getBoundingClientRect());s=function(t){return e.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}(a);var o=0,l=0,h=navigator.userAgent.toLowerCase();if((-1!=h.indexOf("ipad")||-1!=h.indexOf("iphone"))&&(o=2),1==t&&"static"!=e(document.body).css("position")){var d=e(document.body).coord();o=-d.left,l=-d.top}return{top:l+r.top+(s.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o+r.left+(s.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}}}(jqxBaseFramework),function(e){e.jqx.cssroundedcorners=function(e){var t={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(prop in t)if(t.hasOwnProperty(prop)&&e==prop)return t[prop]},e.jqx.jqxWidget("jqxButton","",{}),e.extend(e.jqx._jqxButton.prototype,{defineInstance:function(){var t={cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,imgPosition:"center",imgSrc:"",imgWidth:16,imgHeight:16,value:null,textPosition:"",textImageRelation:"overlay",rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return e.extend(!0,this,t),t},_addImage:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()||"button"==i.element.nodeName.toLowerCase()||"div"==i.element.nodeName.toLowerCase()){if(i._img)i._img[0].setAttribute("src",i.imgSrc),i._img[0].setAttribute("width",i.imgWidth),i._img[0].setAttribute("height",i.imgHeight),i._text.html(i.value);else{i.field=i.element,i.field.className&&(i._className=i.field.className);var s={title:i.field.title},r=null;if(i.field.getAttribute("value"))var r=i.field.getAttribute("value");else if("input"!=i.element.nodeName.toLowerCase())var r=i.element.innerHTML;i.value&&(r=i.value),i.field.id.length?s.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:s.id=e.jqx.utilities.createId()+"_"+t;var n=e("<div></div>",s);n[0].style.cssText=i.field.style.cssText,n.css("box-sizing","border-box");var a=e("<img/>");a[0].setAttribute("src",i.imgSrc),a[0].setAttribute("width",i.imgWidth),a[0].setAttribute("height",i.imgHeight),n.append(a),i._img=a;var o=e("<span></span>");r&&(o.html(r),i.value=r),n.append(o),i._text=o,e(i.field).hide().after(n);var l=i.host.data();if(i.host=n,i.host.data(l),i.element=n[0],i.element.id=i.field.id,i.field.id=s.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var h=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=h}}i.imgSrc?i._img.show():i._img.hide(),i.value?i._text.show():i._text.hide(),i._positionTextAndImage()}},_positionTextAndImage:function(){var e=this,t=e.host.outerWidth(),i=e.host.outerHeight(),s=e.imgWidth,r=e.imgHeight;""==e.imgSrc&&(s=0,r=0);var n=e._text.width(),a=e._text.height(),o=0,l=0;switch(e.textImageRelation){case"imageBeforeText":case"textBeforeImage":o=s+n+8+4+8,l=Math.max(r,a)+8+4+8;break;case"imageAboveText":case"textAboveImage":o=Math.max(s,n)+8,l=r+a+4+8+8;break;case"overlay":o=Math.max(s,n)+8,l=Math.max(r,a)+8}e.width||(e.host.width(o),t=o),e.height||(e.host.height(l),i=l),e._img.css("position","absolute"),e._text.css("position","absolute"),e.host.css("position","relative"),e.host.css("overflow","hidden");var h={},d={},c=function(e,t,i,s,r){switch(t.width<s&&(t.width=s),t.height<r&&(t.height=r),i){case"left":e.style.left=t.left+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"topLeft":e.style.left=t.left+"px",e.style.top=t.top+"px";break;case"bottomLeft":e.style.left=t.left+"px",e.style.top=t.top+t.height-r+"px";break;default:case"center":e.style.left=t.left+t.width/2-s/2+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"top":e.style.left=t.left+t.width/2-s/2+"px",e.style.top=t.top+"px";break;case"bottom":e.style.left=t.left+t.width/2-s/2+"px",e.style.top=t.top+t.height-r+"px";break;case"right":e.style.left=t.left+t.width-s+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"topRight":e.style.left=t.left+t.width-s+"px",e.style.top=t.top+"px";break;case"bottomRight":e.style.left=t.left+t.width-s+"px",e.style.top=t.top+t.height-r+"px"}},u=0,f=0,p=t,m=i,g=(p-u)/2,v=(m-f)/2,x=e._img,y=e._text,w=m-f,b=p-u;switch(u+=4,f+=4,p=p-4-2,b=b-8-2,w=w-8-2,e.textImageRelation){case"imageBeforeText":switch(e.imgPosition){case"left":case"topLeft":case"bottomLeft":d={left:u,top:f,width:u+s,height:w},h={left:u+s+4,top:f,width:b-s-4,height:w};break;case"center":case"top":case"bottom":d={left:g-n/2-s/2-2,top:f,width:s,height:w},h={left:d.left+s+4,top:f,width:p-d.left-s-4,height:w};break;case"right":case"topRight":case"bottomRight":d={left:p-n-s-4,top:f,width:s,height:w},h={left:d.left+s+4,top:f,width:p-d.left-s-4,height:w}}c(x[0],d,e.imgPosition,s,r),c(y[0],h,e.textPosition,n,a);break;case"textBeforeImage":switch(e.textPosition){case"left":case"topLeft":case"bottomLeft":h={left:u,top:f,width:u+n,height:w},d={left:u+n+4,top:f,width:b-n-4,height:w};break;case"center":case"top":case"bottom":h={left:g-n/2-s/2-2,top:f,width:n,height:w},d={left:h.left+n+4,top:f,width:p-h.left-n-4,height:w};break;case"right":case"topRight":case"bottomRight":h={left:p-n-s-4,top:f,width:n,height:w},d={left:h.left+n+4,top:f,width:p-h.left-n-4,height:w}}c(x[0],d,e.imgPosition,s,r),c(y[0],h,e.textPosition,n,a);break;case"imageAboveText":switch(e.imgPosition){case"topRight":case"top":case"topLeft":d={left:u,top:f,width:b,height:r},h={left:u,top:f+r+4,width:b,height:w-r-4};break;case"left":case"center":case"right":d={left:u,top:v-r/2-a/2-2,width:b,height:r},h={left:u,top:d.top+4+r,width:b,height:w-d.top-4-r};break;case"bottomLeft":case"bottom":case"bottomRight":d={left:u,top:m-r-a-4,width:b,height:r},h={left:u,top:d.top+4+r,width:b,height:a}}c(x[0],d,e.imgPosition,s,r),c(y[0],h,e.textPosition,n,a);break;case"textAboveImage":switch(e.textPosition){case"topRight":case"top":case"topLeft":h={left:u,top:f,width:b,height:a},d={left:u,top:f+a+4,width:b,height:w-a-4};break;case"left":case"center":case"right":h={left:u,top:v-r/2-a/2-2,
width:b,height:a},d={left:u,top:h.top+4+a,width:b,height:w-h.top-4-a};break;case"bottomLeft":case"bottom":case"bottomRight":h={left:u,top:m-r-a-4,width:b,height:a},d={left:u,top:h.top+4+a,width:b,height:r}}c(x[0],d,e.imgPosition,s,r),c(y[0],h,e.textPosition,n,a);break;case"overlay":default:h={left:u,top:f,width:b,height:w},d={left:u,top:f,width:b,height:w},c(x[0],d,e.imgPosition,s,r),c(y[0],h,e.textPosition,n,a)}},createInstance:function(t){var i=this;i._setSize(),(""!=i.imgSrc||""!=i.textPosition||i.element.value&&i.element.value.indexOf("<")>=0||null!=i.value)&&(i.refresh(),i._addImage("jqxButton")),i._ariaDisabled||i.host.attr("role","button"),i.overrideTheme||(i.host.addClass(i.toThemeProperty(e.jqx.cssroundedcorners(i.roundedCorners))),i.enableDefault&&i.host.addClass(i.toThemeProperty("jqx-button")),i.host.addClass(i.toThemeProperty("jqx-widget"))),i.isTouchDevice=e.jqx.mobile.isTouchDevice(),i._ariaDisabled||e.jqx.aria(this),"arrow"!=i.cursor&&(i.disabled?i.host.css({cursor:"arrow"}):i.host.css({cursor:i.cursor}));var s="mouseenter mouseleave mousedown focus blur";if(i._scrollAreaButton)var s="mousedown";i.isTouchDevice&&(i.addHandler(i.host,e.jqx.mobile.getTouchEventName("touchstart"),function(e){i.isPressed=!0,i.refresh()}),i.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+i.element.id,function(e){i.isPressed=!1,i.refresh()})),i.addHandler(i.host,s,function(e){switch(e.type){case"mouseenter":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!0,i.refresh());break;case"mouseleave":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!1,i.refresh());break;case"mousedown":i.disabled||(i.isPressed=!0,i.refresh());break;case"focus":i.disabled||(i.isFocused=!0,i.refresh());break;case"blur":i.disabled||(i.isFocused=!1,i.refresh())}}),i.mouseupfunc=function(e){i.disabled||(i.isPressed||i.isMouseOver)&&(i.isPressed=!1,i.refresh())},i.addHandler(e(document),"mouseup.button"+i.element.id,i.mouseupfunc);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var r="";if(window.parent&&document.referrer&&(r=document.referrer),-1!=r.indexOf(document.location.host)){var n=function(e){i.isPressed=!1,i.refresh()};window.top.document&&i.addHandler(e(window.top.document),"mouseup",n)}}}catch(e){}i.propertyChangeMap.roundedCorners=function(t,i,s,r){t.host.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(s))),t.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(r)))},i.propertyChangeMap.disabled=function(t,i,s,r){s!=r&&(t.refresh(),t.host[0].disabled=r,t.host.attr("disabled",r),r?t.host.css({cursor:"default"}):t.host.css({cursor:t.cursor}),e.jqx.aria(t,"aria-disabled",t.disabled))},i.propertyChangeMap.rtl=function(e,t,i,s){i!=s&&e.refresh()},i.propertyChangeMap.template=function(e,t,i,s){i!=s&&(e.host.removeClass(e.toThemeProperty("jqx-"+i)),e.refresh())},i.propertyChangeMap.theme=function(t,i,s,r){t.host.removeClass(),t.enableDefault&&t.host.addClass(t.toThemeProperty("jqx-button")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.overrideTheme||t.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(t.roundedCorners))),t._oldCSSCurrent=null,t.refresh()},i.disabled&&(i.element.disabled=!0,i.host.attr("disabled",!0))},resize:function(e,t){this.width=e,this.height=t,this._setSize()},val:function(){var t=this,i=t.host.find("input");return i.length>0?0==arguments.length||"object"==typeof value?i.val():(i.val(value),t.refresh(),i.val()):0==arguments.length||"object"==typeof value?"button"==t.element.nodeName.toLowerCase()?e(t.element).text():t.element.value:(t.element.value=arguments[0],"button"==t.element.nodeName.toLowerCase()&&e(t.element).text(arguments[0]),void t.refresh())},_setSize:function(){var e=this;null==e.width||-1==e.width.toString().indexOf("px")&&-1==e.width.toString().indexOf("%")?void 0==e.width||isNaN(e.width)||e.host.css("width",e.width):e.host.css("width",e.width),null==e.height||-1==e.height.toString().indexOf("px")&&-1==e.height.toString().indexOf("%")?void 0==e.height||isNaN(e.height)||e.host.css("height",parseInt(e.height)):e.host.css("height",e.height)},_removeHandlers:function(){var t=this;t.removeHandler(t.host,"selectstart"),t.removeHandler(t.host,"click"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.removeHandler(t.host,"mousedown"),t.removeHandler(e(document),"mouseup.button"+t.element.id,t.mouseupfunc),t.isTouchDevice&&(t.removeHandler(t.host,e.jqx.mobile.getTouchEventName("touchstart")),t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+t.element.id)),t.mouseupfunc=null,delete t.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){var t=this;t._removeHandlers();var i=e.data(t.element,"jqxButton");i&&delete i.instance,t.host.removeClass(),t.host.removeData(),t.host.remove(),delete t.set,delete t.get,delete t.call,delete t.element,delete t.host},render:function(){this.refresh()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e.refresh())},propertyChangedHandler:function(e,t,i,s){void 0!=this.isInitialized&&0!=this.isInitialized&&s!=i&&(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("textImageRelation"!=t&&"textPosition"!=t&&"imgPosition"!=t||(e._img?e._positionTextAndImage():e._addImage("jqxButton")),"imgSrc"!=t&&"imgWidth"!=t&&"imgHeight"!=t&&"value"!=t||e._addImage("jqxButton"),"width"!=t&&"height"!=t||(e._setSize(),e.refresh())))},refresh:function(){var e=this;if(!e.overrideTheme){var t=e.toThemeProperty("jqx-fill-state-focus"),i=e.toThemeProperty("jqx-fill-state-disabled"),s=e.toThemeProperty("jqx-fill-state-normal");e.enableDefault||(s="");var r=e.toThemeProperty("jqx-fill-state-hover"),n=e.toThemeProperty("jqx-fill-state-pressed"),a=e.toThemeProperty("jqx-fill-state-pressed");e.enablePressed||(n="");var o="";if(e.host){if(e.host[0].disabled=e.disabled,e.disabled)return e._oldCSSCurrent&&e.host.removeClass(e._oldCSSCurrent),o=s+" "+i,"default"!==e.template&&""!==e.template&&(o+=" jqx-"+e.template,""!=e.theme&&(o+=" jqx-"+e.template+"-"+e.theme)),e.host.addClass(o),void(e._oldCSSCurrent=o);o=e.isMouseOver&&!e.isTouchDevice?e.isPressed?a:r:e.isPressed?n:s,e.isFocused&&(o+=" "+t),"default"!==e.template&&""!==e.template&&(o+=" jqx-"+e.template,""!=e.theme&&(o+=" jqx-"+e.template+"-"+e.theme)),o!=e._oldCSSCurrent&&(e._oldCSSCurrent&&e.host.removeClass(e._oldCSSCurrent),e.host.addClass(o),e._oldCSSCurrent=o),e.rtl&&(e.host.addClass(e.toThemeProperty("jqx-rtl")),e.host.css("direction","rtl"))}}}}),e.jqx.jqxWidget("jqxLinkButton","",{}),e.extend(e.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(e){var t=this;this.host.onselectstart=function(){return!1},this.host.attr("role","button");var i=this.height||this.host.height(),s=this.width||this.host.width();this.href=this.host.attr("href"),this.target=this.host.attr("target"),this.content=this.host.text(),this.element.innerHTML="",this.host.append("<input type='button' class='jqx-wrapper'/>");var r=this.host.find("input");r.addClass(this.toThemeProperty("jqx-reset")),r.width(s),r.height(i),r.val(this.content),this.host.find("tr").addClass(this.toThemeProperty("jqx-reset")),this.host.find("td").addClass(this.toThemeProperty("jqx-reset")),this.host.find("tbody").addClass(this.toThemeProperty("jqx-reset")),this.host.css("color","inherit"),this.host.addClass(this.toThemeProperty("jqx-link")),r.css({width:s}),r.css({height:i});var n=void 0==e?{}:e[0]||{};r.jqxButton(n),this.disabled&&(this.host[0].disabled=!0),this.propertyChangeMap.disabled=function(e,t,i,s){e.host[0].disabled=s,e.host.find("input").jqxButton({disabled:s})},this.addHandler(r,"click",function(e){return this.disabled||t.onclick(e),!1})},onclick:function(e){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),e.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),e.extend(e.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(t){var i=this,s=e.jqx.mobile.isTouchDevice(),r=s?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,n=s?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(e(document),r,function(e){null!=i.timeout&&(clearTimeout(i.timeout),i.timeout=null,i.refresh()),void 0!=i.timer&&(clearInterval(i.timer),i.timer=null,i.refresh())}),this.addHandler(this.base.host,n,function(e){null!=i.timer&&clearInterval(i.timer),i.timeout=setTimeout(function(){clearInterval(i.timer),i.timer=setInterval(function(e){i.ontimer(e)},i.delay)},150)}),this.mousemovefunc=function(e){s||0==e.which&&null!=i.timer&&(clearInterval(i.timer),i.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var t=e.jqx.mobile.isTouchDevice(),i=t?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,s=t?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,s),this.removeHandler(e(document),i),this.timer=null,delete this.mousemovefunc,delete this.timer;var r=e.data(this.base.element,"jqxRepeatButton");r&&delete r.instance,e(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(t){var t=new e.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(t)}}),e.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),e.extend(e.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(t){var i=this;i.base.overrideTheme=!0,i.isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),i.propertyChangeMap.roundedCorners=function(t,i,s,r){t.base.host.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(s))),t.base.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(r)))},i.propertyChangeMap.toggled=function(e,t,i,s){e.refresh()},i.propertyChangeMap.disabled=function(e,t,i,s){e.base.disabled=s,e.refresh()},i.addHandler(i.base.host,"click",function(e){!i.base.disabled&&i.uiToggle&&i.toggle()}),i.isTouchDevice||(i.addHandler(i.base.host,"mouseenter",function(e){i.base.disabled||i.refresh()}),i.addHandler(i.base.host,"mouseleave",function(e){i.base.disabled||i.refresh()})),i.addHandler(i.base.host,"mousedown",function(e){i.base.disabled||i.refresh()}),i.addHandler(e(document),"mouseup.togglebutton"+i.base.element.id,function(e){i.base.disabled||i.refresh()})},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(e(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),e.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var e=this,t=e.base.toThemeProperty("jqx-fill-state-disabled"),i=e.base.toThemeProperty("jqx-fill-state-normal");e.base.enableDefault||(i="");var s=e.base.toThemeProperty("jqx-fill-state-hover"),r=e.base.toThemeProperty("jqx-fill-state-pressed"),n=e.base.toThemeProperty("jqx-fill-state-pressed"),a="";if(e.base.host[0].disabled=e.base.disabled,e.base.disabled)return a=i+" "+t,void e.base.host.addClass(a);a=e.base.isMouseOver&&!e.isTouchDevice?e.base.isPressed||e.toggled?n:s:e.base.isPressed||e.toggled?r:i,"default"!==e.base.template&&""!==e.base.template&&(a+=" jqx-"+e.base.template,""!=e.base.theme&&(a+=" jqx-"+e.template+"-"+e.base.theme)),e.base.host.hasClass(t)&&t!=a&&e.base.host.removeClass(t),e.base.host.hasClass(i)&&i!=a&&e.base.host.removeClass(i),e.base.host.hasClass(s)&&s!=a&&e.base.host.removeClass(s),e.base.host.hasClass(r)&&r!=a&&e.base.host.removeClass(r),e.base.host.hasClass(n)&&n!=a&&e.base.host.removeClass(n),e.base.host.hasClass(a)||e.base.host.addClass(a)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxSwitchButton","",{}),e.extend(e.jqx._jqxSwitchButton.prototype,{defineInstance:function(){var t={disabled:!1,checked:!1,onLabel:"On",offLabel:"Off",toggleMode:"default",animationDuration:250,width:90,height:30,animationEnabled:!0,thumbSize:"40%",orientation:"horizontal",switchRatio:"50%",metroMode:!1,_isMouseDown:!1,rtl:!1,_dimensions:{horizontal:{size:"width",opSize:"height",oSize:"outerWidth",opOSize:"outerHeight",pos:"left",oPos:"top",opposite:"vertical"},vertical:{size:"height",opSize:"width",oSize:"outerHeight",opOSize:"outerWidth",pos:"top",oPos:"left",opposite:"horizontal"}},_touchEvents:{mousedown:"touchstart",click:"touchend",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"},_borders:{},_isTouchDevice:!1,_distanceRequired:3,_isDistanceTraveled:!1,_thumb:void 0,_onLabel:void 0,_offLabel:void 0,_wrapper:void 0,_animationActive:!1,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["checked","unchecked","change"]};return e.extend(!0,this,t),t},createInstance:function(t){if(this._createFromInput(),this.element.nodeName&&("INPUT"==this.element.nodeName||"BUTTON"==this.element.nodeName))throw"jqxSwitchButton can be rendered only from a DIV tag.";this.host.attr("role","checkbox"),e.jqx.aria(this),this.render();var i=this;i.element.tabIndex||i.host.attr("tabindex",0),e.jqx.utilities.resize(this.host,function(){i.element.innerHTML="",i.render()})},_createFromInput:function(){var t=this;if("input"==t.element.nodeName.toLowerCase()){t.field=t.element,t.field.className&&(t._className=t.field.className);var i={title:t.field.title};t.field.value&&(i.value=t.field.value),t.field.checked&&(i.checked=!0),t.field.id.length?i.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxSwitchButton":i.id=e.jqx.utilities.createId()+"_jqxSwitchButton";var s=e("<div></div>",i);s[0].style.cssText=t.field.style.cssText,t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),e(t.field).hide().after(s);var r=t.host.data();if(t.host=s,t.host.data(r),t.element=s[0],t.element.id=t.field.id,t.field.id=i.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var n=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=n}}},resize:function(e,t){this.width=e,this.height=t,this.render()},render:function(){this.innerHTML="",!this.theme||""==this.theme||-1==this.theme.indexOf("metro")&&-1==this.theme.indexOf("windowsphone")&&-1==this.theme.indexOf("office")||("40%"==this.thumbSize&&(this.thumbSize=12),this.metroMode=!0);var t=e.data(document.body,"jqx-switchbutton")||1;this._idHandler(t),e.data(document.body,"jqx-draggables",++t),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this.switchRatio=parseInt(this.switchRatio,10),this._render(),this._addClasses(),this._performLayout(),this._removeEventHandlers(),this._addEventHandles(),this._disableSelection();this.checked||this._switchButton(!1,0,!0),this.disabled&&(this.element.disabled=!0)},setOnLabel:function(e){this._onLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},setOffLabel:function(e){this._offLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},toggle:function(){this.checked?this.uncheck():this.check()},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate()),this.checked)},uncheck:function(){this._switchButton(!1),e.jqx.aria(this,"aria-checked",this.checked)},check:function(){this._switchButton(!0),e.jqx.aria(this,"aria-checked",this.checked)},_idHandler:function(e){if(!this.element.id){var t="jqx-switchbutton-"+e;this.element.id=t}},_dir:function(e){return this._dimensions[this.orientation][e]},_getEvent:function(t){if(this._isTouchDevice){var i=this._touchEvents[t];return e.jqx.mobile.getTouchEventName(i)}return t},_render:function(){this._thumb=e("<div/>"),this._onLabel=e("<div/>"),this._offLabel=e("<div/>"),this._wrapper=e("<div/>"),this._onLabel.appendTo(this.host),this._thumb.appendTo(this.host),this._offLabel.appendTo(this.host),this.host.wrapInner(this._wrapper),this._wrapper=this.host.children(),this.setOnLabel(this.onLabel),this.setOffLabel(this.offLabel)},_addClasses:function(){var e=this._thumb,t=this._onLabel,i=this._offLabel;this.host.addClass(this.toThemeProperty("jqx-switchbutton")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._wrapper.addClass(this.toThemeProperty("jqx-switchbutton-wrapper")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-switchbutton-thumb")),t.addClass(this.toThemeProperty("jqx-switchbutton-label-on")),t.addClass(this.toThemeProperty("jqx-switchbutton-label")),i.addClass(this.toThemeProperty("jqx-switchbutton-label-off")),i.addClass(this.toThemeProperty("jqx-switchbutton-label")),this.checked?this.host.addClass(this.toThemeProperty("jqx-switchbutton-on")):this.host.removeClass(this.toThemeProperty("jqx-switchbutton-on"))},_performLayout:function(){var e,t=this.host,i=this._dir("opSize"),s=this._dir("size"),r=this._wrapper;if(t.css({width:this.width,height:this.height}),r.css(i,t[i]()),this._thumbLayout(),this._labelsLayout(),e=this._borders[this._dir("opposite")],r.css(s,t[s]()+this._offLabel[this._dir("oSize")]()+e),r.css(i,t[i]()),this.metroMode||this.theme&&""!=this.theme&&(-1!=this.theme.indexOf("metro")||-1!=this.theme.indexOf("office"))){var n=(this._thumb,this._onLabel),a=this._offLabel;n.css("position","relative"),n.css("top","1px"),n.css("margin-left","1px"),a.css("position","relative"),a.css("top","1px"),a.css("left","-2px"),a.css("margin-right","1px"),a.height(n.height()-2),a.width(n.width()-3),n.height(n.height()-2),n.width(n.width()-3),this._thumb[this._dir("size")](this.thumbSize+3),this._thumb.css("top","-1px"),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()+2),this._thumb.css("position","relative"),this.host.css("overflow","hidden"),this.checked?(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","hidden"),this._thumb.css("left","0px")):(this._onLabel.css("visibility","hidden"),this._offLabel.css("visibility","visible"),this._thumb.css("left","-2px"))}},_thumbLayout:function(){var e=this.thumbSize,t=this.host;e.toString().indexOf("%")>=0&&(e=t[this._dir("size")]()*parseInt(e,10)/100),this._thumb[this._dir("size")](e),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()),this._handleThumbBorders()},_handleThumbBorders:function(){this._borders.horizontal=parseInt(this._thumb.css("border-left-width"),10)||0,this._borders.horizontal+=parseInt(this._thumb.css("border-right-width"),10)||0,this._borders.vertical=parseInt(this._thumb.css("border-top-width"),10)||0,this._borders.vertical+=parseInt(this._thumb.css("border-bottom-width"),10)||0;var e=this._borders[this._dir("opposite")];"horizontal"===this.orientation?(this._thumb.css("margin-top",-e/2),this._thumb.css("margin-left",0)):(this._thumb.css("margin-left",-e/2),this._thumb.css("margin-top",0))},_labelsLayout:function(){var e=this.host,t=this._thumb,i=this._dir("opSize"),s=this._dir("size"),r=this._dir("oSize"),n=e[s]()-t[r](),a=this._borders[this._dir("opposite")]/2;this._onLabel[s](n+a),this._offLabel[s](n+a),this.rtl&&this._onLabel[s](n+2*a),this._onLabel[i](e[i]()),this._offLabel[i](e[i]()),this._orderLabels(),this._centerLabels()},_orderLabels:function(){if("horizontal"===this.orientation){var e="left";this.rtl&&(e="right"),this._onLabel.css("float",e),this._thumb.css("float",e),this._offLabel.css("float",e)}else this._onLabel.css("display","block"),this._offLabel.css("display","block")},_centerLabels:function(){var e=this._onLabel.children("div"),t=this._offLabel.children("div"),i=e.parent(),s=i.height(),r=e.outerHeight(),n=this._borders[this.orientation]/2||0;0==r&&(r=14);var a=Math.floor((s-r)/2)+n;e.css("margin-top",a),t.css("margin-top",a)},_removeEventHandlers:function(){var t="."+this.element.id;this.removeHandler(this._wrapper,this._getEvent("click")+t,this._clickHandle),this.removeHandler(this._thumb,this._getEvent("mousedown")+t,this._mouseDown),this.removeHandler(e(document),this._getEvent("mouseup")+t,this._mouseUp),this.removeHandler(e(document),this._getEvent("mousemove")+t,this._mouseMove),this.removeHandler(this._thumb,"mouseenter"+t),this.removeHandler(this._thumb,"mouseleave"+t),this.removeHandler(this._wrapper,"focus"+t),this.removeHandler(this._wrapper,"blur"+t)},_addEventHandles:function(){var t="."+this.element.id,i=this;this.addHandler(this.host,"focus"+t,function(e){return i.host.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1}),this.addHandler(this.host,"blur"+t,function(){i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._thumb,"mouseenter"+t,function(){i._thumb.addClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._thumb,"mouseleave"+t,function(){i._thumb.removeClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._wrapper,this._getEvent("click")+t,this._clickHandle,{self:this}),this.addHandler(this._thumb,this._getEvent("mousedown")+t,this._mouseDown,{self:this}),this.addHandler(e(document),this._getEvent("mouseup")+t,this._mouseUp,{self:this}),this.addHandler(e(document),this._getEvent("mousemove")+t,this._mouseMove,{self:this})},enable:function(){this.disabled=!1,this.element.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},disable:function(){this.disabled=!0,this.element.disabled=!0,e.jqx.aria(this,"aria-disabled",this.disabled)},_clickHandle:function(e){var t=e.data.self;"click"!==t.toggleMode&&"default"!==t.toggleMode||t.disabled||t._isDistanceTraveled||t._dragged||(t._wrapper.stop(),t.toggle()),t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseDown:function(e){var t=e.data.self,i=t._wrapper;t.metroMode&&(t.host.css("overflow","hidden"),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible")),t._mouseStartPosition=t._getMouseCoordinates(e),t._buttonStartPosition={left:parseInt(i.css("margin-left"),10)||0,top:parseInt(i.css("margin-top"),10)||0},t.disabled||"slide"!==t.toggleMode&&"default"!==t.toggleMode||(t._wrapper.stop(),t._isMouseDown=!0,t._isDistanceTraveled=!1,t._dragged=!1),t._thumb.addClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseUp:function(e){var t=e.data.self;if(t.metroMode,t._isMouseDown=!1,t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._isDistanceTraveled){var i=t._wrapper,s=parseInt(i.css("margin-"+t._dir("pos")),10)||0;t._dropHandler(s)?t._switchButton(!t.checked):t._switchButton(t.checked,null,!0),t._isDistanceTraveled=!1}},_mouseMove:function(e){var t=e.data.self,i=t._getMouseCoordinates(e);if(t._isMouseDown&&t._distanceTraveled(i)){var s=t._dir("pos"),r=t._wrapper,n=t._buttonStartPosition[s],a=n+i[s]-t._mouseStartPosition[s],a=t._validatePosition(a);return t._dragged=!0,r.css("margin-"+t._dir("pos"),a),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible"),!1}},_distanceTraveled:function(e){if(this._isDistanceTraveled)return!0;if(this._isMouseDown){var t=this._mouseStartPosition,i=this._distanceRequired;return this._isDistanceTraveled=Math.abs(e.left-t.left)>=i||Math.abs(e.top-t.top)>=i,this._isDistanceTraveled}return!1},_validatePosition:function(e){var t=this._borders[this._dir("opposite")],i=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]())-t;return 0<e?0:i>e?i:e},_dropHandler:function(e){var t=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()),i=Math.abs(t-0);return Math.abs(e-this._buttonStartPosition[this._dir("pos")])>=i*(this.switchRatio/100)},_switchButton:function(e,t,i){this.metroMode?(this.host.css("overflow","hidden"),this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"),e?this._thumb.css("left","0px"):this._thumb.css("left","-2px")):(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"));var s=this._wrapper,r=this,n={},a=this._borders[this._dir("opposite")],o=0;void 0===t&&(t=this.animationEnabled?this.animationDuration:0),this.rtl?e?(o=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+a,this.metroMode&&(o+=5)):this.metroMode&&(o-=3):e||(o=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+a),n["margin-"+this._dir("pos")]=-o,e?r.host.addClass(r.toThemeProperty("jqx-switchbutton-on")):r.host.removeClass(r.toThemeProperty("jqx-switchbutton-on")),s.animate(n,t,function(){e?(r._onLabel.css("visibility","visible"),r._offLabel.css("visibility","hidden")):(r._onLabel.css("visibility","hidden"),r._offLabel.css("visibility","visible")),r.checked=e,i||r._handleEvent(!e)})},_handleEvent:function(e){e!==this.checked&&this._raiseEvent(2,{check:this.checked,checked:this.checked}),e?this._raiseEvent(0,{checked:this.checked}):this._raiseEvent(1,{checked:this.checked})},_disableSelection:function(){var t=this.host,i=t.find("*");e.each(i,function(t,i){i.onselectstart=function(){return!1},e(i).addClass("jqx-disableselect")})},_getMouseCoordinates:function(e){return this._isTouchDevice&&e.originalEvent.touches?{left:e.originalEvent.touches[0].pageX,top:e.originalEvent.touches[0].pageY}:{left:e.pageX,top:e.pageY}},destroy:function(){this._removeEventHandlers(),this.host.removeClass(this.toThemeProperty("jqx-switchbutton")),this._wrapper.remove()},_raiseEvent:function(t,i){var s=e.Event(this._events[t]);return s.args=i,this.host.trigger(s)},_themeChanger:function(t,i,s){if(t){void 0===s&&(s=this.host);for(var r=s[0].className.split(" "),n=[],a=[],o=s.children(),l=0;l<r.length;l+=1)r[l].indexOf(t)>=0&&(n.push(r[l]),a.push(r[l].replace(t,i)));this._removeOldClasses(n,s),this._addNewClasses(a,s);for(var l=0;l<o.length;l+=1)this._themeChanger(t,i,e(o[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._wrapper.css("margin-left","0px"),e._wrapper.css("margin-top","0px"),e._performLayout(),e._wrapper.css("left","0px"),e._wrapper.css("top","0px"),e._switchButton(this.checked,0,!0))},propertyChangedHandler:function(t,i,s,r){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length))switch(i){case"disabled":r?t.disable():t.enable();break;case"switchRatio":t.switchRatio=parseInt(t.switchRatio,10);break;case"checked":r?t.check():t.uncheck();break;case"onLabel":t.setOnLabel(r);break;case"offLabel":t.setOffLabel(r);break;case"theme":e.jqx.utilities.setTheme(s,r,t.host);break;case"width":case"height":case"thumbSize":case"orientation":t._wrapper.css("margin-left","0px"),t._wrapper.css("margin-top","0px"),t._performLayout(),t._wrapper.css("left","0px"),t._wrapper.css("top","0px"),t._switchButton(this.checked,0,!0)}}})}(jqxBaseFramework),function(e){function t(t){return function(i,s){"string"!=typeof i&&(s=i,i="*");var r,n,a,o=i.toLowerCase().split(x),l=0,h=o.length;if(e.isFunction(s))for(;l<h;l++)r=o[l],a=/^\+/.test(r),a&&(r=r.substr(1)||"*"),n=t[r]=t[r]||[],n[a?"unshift":"push"](s)}}function i(e,t,s,r,n,a){n=n||t.dataTypes[0],a=a||{},a[n]=!0;for(var o,l=e[n],h=0,d=l?l.length:0,c=e===y;h<d&&(c||!o);h++)"string"==typeof(o=l[h](t,s,r))&&(!c||a[o]?o=void 0:(t.dataTypes.unshift(o),o=i(e,t,s,r,o,a)));return!c&&o||a["*"]||(o=i(e,t,s,r,"*",a)),o}function s(t,i){var s,r,n=e.jqx.data.ajaxSettings.flatOptions||{};for(s in i)void 0!==i[s]&&((n[s]?t:r||(r={}))[s]=i[s]);r&&e.extend(!0,t,r)}function r(e,t,i){var s,r,n,a,o=e.contents,l=e.dataTypes,h=e.responseFields;for(r in h)r in i&&(t[h[r]]=i[r]);for(;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("content-type"));if(s)for(r in o)if(o[r]&&o[r].test(s)){l.unshift(r);break}if(l[0]in i)n=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){n=r;break}a||(a=r)}n=n||a}if(n)return n!==l[0]&&l.unshift(n),i[n]}function n(e,t){var i,s,r,n,a=e.dataTypes.slice(),o=a[0],l={},h=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(;r=a[++h];)if("*"!==r){if("*"!==o&&o!==r){if(!(i=l[o+" "+r]||l["* "+r]))for(s in l)if(n=s.split(" "),n[1]===r&&(i=l[o+" "+n[0]]||l["* "+n[0]])){!0===i?i=l[s]:!0!==l[s]&&(r=n[0],a.splice(h--,0,r));break}if(!0!==i)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from "+o+" to "+r}}}o=r}return{state:"success",data:t}}function a(){try{return new window.XMLHttpRequest}catch(e){}}function o(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}e.jqx.observableArray=function(t,i){if("string"==typeof t&&(t=e.parseJSON(t)),!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var s=Object.defineProperty;Object.defineProperty=function(e,t,i){if(s)try{return s(e,t,i)}catch(e){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in i&&Object.prototype.__defineGetter__.call(e,t,i.get),Object.prototype.__defineSetter__&&"set"in i&&Object.prototype.__defineSetter__.call(e,t,i.set),"value"in i?e[t]=i.value:e[t]||(e[t]=i),e}}Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();var s,r=arguments[1];for(s=0;s<i;s++)s in t&&e.call(r,t[s],s,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i});var r,n=this,a=[];n.notifier=null,n.name="observableArray",n.observing=!0,n.changes=new Array;var i=i;return n.observe=function(){n.observing=!0,1==arguments.length&&(i=arguments[0])},n.unobserve=function(){n.observing=!1},n.toArray=function(){return a.slice(0)},n.toJSON=function(e,t){function i(e){return'"'+e.replace(u,function(e){var t=f[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function s(e){return e<10?"0"+e:e}function r(e){return isFinite(e.valueOf())?e.getUTCFullYear()+"-"+s(e.getUTCMonth()+1)+"-"+s(e.getUTCDate())+"T"+s(e.getUTCHours())+":"+s(e.getUTCMinutes())+":"+s(e.getUTCSeconds())+'Z"':"null"}function n(e){var t,i=e.length,s=[];for(t=0;t<i;t++)s.push(d(t,e)||"null");return"["+s.join(",")+"]"}function o(t){var s,r,n=[];for(s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(""!=s&&e&&-1===e.indexOf(s))continue;r=d(s,t),r&&n.push(i(s)+":"+r)}return"{"+n.join(",")+"}"}function l(e){switch(Object.prototype.toString.call(e)){case"[object Date]":return r(e);case"[object Array]":return n(e)}return o(e)}function h(e,t){switch(t){case"string":return i(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}function d(e,t){var i=t[e],s=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(e),s=typeof i),/(number|float|int|integer|string|boolean)/.test(s)||!i&&"object"===s?h(i,s):l(i)}var c=a;t&&(c=t)
;var u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return!e&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(c):d("",{"":c})},n.defineIndexProperty=function(t){if(!(t in n)){var i=function(t,i,s,o){var l=t[i],h=l,d=function(){return h},c=function(t){if(l=t,h!==l){var s=h;if(h=l,"function"==typeof r){var d=a.indexOf(o),c="",u=function(t,s){Object.getOwnPropertyNames(t).forEach(function(r){var n=e.type(t[r]);"array"==n||"object"==n?u(t[r],s+"."+r):i===r&&(c=s+"."+r)})};u(o,d),r({object:n,type:"update",path:c,index:d,name:i,newValue:l,oldValue:s})}}return h=l,l};void 0!=t[i]&&"length"!=i&&(Object.defineProperty?Object.defineProperty(t,i,{get:d,set:c}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(t,i,d),Object.prototype.__defineSetter__.call(t,i,c)))},s=function(t,r,n){/(number|float|int|integer|string|boolean)/.test(e.type(t))||void 0!==t&&Object.getOwnPropertyNames(t).forEach(function(a){var o=e.type(t[a]);"array"==o||"object"==o?(i(t,a,0,n),s(t[a],r+"."+a,n)):i(t,a,0,n)})};Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){return a[t]},set:function(e){var i=a[t];n.toJSON(null,i)!=n.toJSON(null,e)&&(a[t]=e,"function"==typeof r&&r({object:n,type:"update",path:t.toString(),index:t,name:"index",newValue:e,oldValue:i}),s(e,t,e))}}),s(n[t],t,n[t])}},n.push=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=a.length,a.push(arguments[t]),n.defineIndexProperty(e),"function"==typeof r&&r({object:n,type:"add",name:"length",index:e,newValue:a.length,oldValue:e});return a.length},n.pop=function(){if(~a.length){var e=a.length-1,t=a.pop();return delete n[e],"function"==typeof r&&r({object:n,type:"delete",name:"length",index:e,newValue:a.length,oldValue:e}),t}},n.unshift=function(){for(var e=a.length,t=0,i=arguments.length;t<i;t++)a.splice(t,0,arguments[t]),n.defineIndexProperty(a.length-1);return"function"==typeof r&&r({object:n,type:"add",index:0,name:"length",newValue:a.length,oldValue:e}),a.length},n.shift=function(){var e=a.length;if(~a.length){var t=a.shift();return 0===a.length&&delete n[e],"function"==typeof r&&r({object:n,type:"delete",index:e,name:"length",newValue:a.length,oldValue:e}),t}},n.slice=function(t,i,s){var r=a.slice(t,i);return new e.jqx.observableArray(r,s)},n.splice=function(t,i,s){var o,l=[];for(t=~t?t:a.length-t,i=(null==i?a.length-t:i)||0;i--;)o=a.splice(t,1)[0],l.push(o),delete n[a.length],"function"==typeof r&&r({object:n,type:"delete",index:t,name:"length",newValue:-1,oldValue:t});for(var h=2,d=arguments.length;h<d;h++)a.splice(t,0,arguments[h]),defineIndexProperty(a.length-1),"function"==typeof r&&r({object:n,type:"add",index:t,name:"length",newValue:a.length-1,oldValue:t}),t++;return new e.jqx.observableArray(l,s)},Object.defineProperty(n,"length",{configurable:!1,enumerable:!0,get:function(){return a.length},set:function(e){var t=Number(e);if(!(t%1==0&&t>=0))throw new RangeError("Invalid array length");return t<a.length?n.splice(t):t>a.length&&n.push.apply(n,new Array(t-a.length)),e}}),e.jqx.observableArray.prototype.fromArray=function(t,i){return new e.jqx.observableArray(t,i)},e.jqx.observableArray.prototype.clone=function(){var t=new e.jqx.observableArray(a,i);return t.observing=n.observing,t.changes=n.changes,t.notifier=n.notifier,t},n.remove=function(e){if(e<0||e>=n.length)throw new Error("Invalid index : "+e);if(n.hasOwnProperty(e)){var t=n[e];return n[e]=void 0,a[e]=void 0,"function"==typeof r&&r({object:n,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0}return!1},n.concat=function(t,i){var s=a.concat(t);return new e.jqx.observableArray(s,i)},Object.getOwnPropertyNames(Array.prototype).forEach(function(e){if(!(e in n)){var t=function(){var t=n.observing;n.observing=!1;var i=a[e],s=i.apply(a,arguments);return n.observing=t,s};Object.defineProperty(n,e,{configurable:!1,enumerable:!0,writeable:!1,value:t})}}),n.set=function(t,i){if("string"==e.type(t)&&t.split(".").length>1){for(var s=t.split("."),r=n,a=0;a<s.length;a++){if(0===a&&s[a]>=n.length)throw new Error("Invalid Index: "+t);a<s.length-1?r=r[s[a]]:r[s[a]]=i}return!0}return t>=n.length?n.push(i):n[t]=i,!0},n.get=function(e){return n[e]},t instanceof Array&&n.push.apply(n,t),r=function(){n.observing&&(arguments&&arguments[0]&&n.changes.push(arguments[0]),i&&i.apply(n,arguments),n.notifier&&n.notifier.apply(n,arguments))},n},e.jqx.formatDate=function(t,i,s){return e.jqx.dataFormat.formatdate(t,i,s)},e.jqx.formatNumber=function(t,i,s){return e.jqx.dataFormat.formatnumber(t,i,s)},e.jqx.dataAdapter=function(t,i){if(void 0!=t&&(void 0!==t.dataFields&&(t.datafields=t.dataFields),void 0!==t.dataType&&(t.datatype=t.dataType),void 0!==t.localData&&(t.localdata=t.localData),void 0!==t.sortColumn&&(t.sortcolumn=t.sortColumn),void 0!==t.sortDirection&&(t.sortdirection=t.sortDirection),void 0!==t.sortOrder&&(t.sortdirection=t.sortOrder),void 0!==t.formatData&&(t.formatdata=t.formatData),void 0!==t.processData&&(t.processdata=t.processData),void 0!==t.pageSize&&(t.pagesize=t.pageSize),void 0!==t.pageNum&&(t.pagenum=t.pageNum),void 0!==t.updateRow&&(t.updaterow=t.updateRow),void 0!==t.addRow&&(t.addrow=t.addRow),void 0!==t.deleteRow&&(t.deleterow=t.deleteRow),void 0!==t.contentType&&(t.contenttype=t.contentType),void 0!=t.totalRecords&&(t.totalrecords=t.totalRecords),void 0!=t.loadError&&(t.loadError=t.loadError),void 0!=t.sortComparer&&(t.sortcomparer=t.sortComparer)),this._source=t,this._options=i||{},void 0!=t.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),void 0!=t.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),void 0!=t.loadComplete&&(this._options.loadComplete=this._source.loadComplete),void 0!=t.autoBind&&(this._options.downloadComplete=this._source.autoBind),void 0!=t.formatData&&(this._options.formatData=this._source.formatData),void 0!=t.loadError&&(this._options.loadError=this._source.loadError),void 0!=t.beforeSend&&(this._options.beforeSend=this._source.beforeSend),void 0!=t.contentType&&(this._options.contentType=this._source.contentType),void 0!=t.async&&(this._options.async=this._source.async),void 0!=t.loadServerData&&(this._options.loadServerData=this._source.loadServerData),void 0!=t.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,void 0!=t&&null!=t.localdata&&"function"==typeof t.localdata){var s=t.localdata();if(null!=s){t._localdata=t.localdata;var r=this;t._localdata.subscribe&&(r._oldlocaldata=[],t._localdata.subscribe(function(t){var i=function(t){return e.isArray(t)?e.makeArray(i(e(t))):e.extend(!0,{},t)};0!=r.suspendKO&&void 0!=r.suspendKO&&0!=r._oldlocaldata.length||(r._oldlocaldata=i(t))},t._localdata,"beforeChange"),t._localdata.subscribe(function(e){if(0==r.suspendKO||void 0==r.suspendKO){var i="";r._oldrecords=r.records,0==r._oldlocaldata.length&&(t.localdata=t._localdata()),0==r._oldlocaldata.length?i="change":e&&(r._oldlocaldata.length==e.length&&(i="update"),r._oldlocaldata.length>e.length&&(i="remove"),r._oldlocaldata.length<e.length&&(i="add")),r.dataBind(null,i)}},t._localdata,"change"),r._knockoutdatasource=!0),t.localdata=s}}1==this._options.autoBind&&this.dataBind()},e.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(t,i,s){return e.jqx.dataFormat.formatdate(t,i,s)},formatNumber:function(t,i,s){return e.jqx.dataFormat.formatnumber(t,i,s)},dataBind:function(t,i){if(1!=this.isUpdating){var s=this._source;if(s){s.generatedfields&&(s.datafields=null,s.generatedfields=null),e.jqx.dataFormat.datescache=new Array,null!=s.dataFields&&(s.datafields=s.dataFields),void 0==s.recordstartindex&&(s.recordstartindex=0),void 0==s.recordendindex&&(s.recordendindex=0),void 0==s.loadallrecords&&(s.loadallrecords=!0),void 0==s.root&&(s.root=""),void 0==s.record&&(s.record=""),void 0!=s.sort&&(this.sort=s.sort),void 0!=s.filter?this.filter=s.filter:this.filter=null,void 0!=s.sortcolumn&&(this.sortcolumn=s.sortcolumn),void 0!=s.sortdirection&&(this.sortdirection=s.sortdirection),void 0!=s.sortcomparer&&(this.sortcomparer=s.sortcomparer),this.records=new Array;var r=this._options||{};if(this.virtualmode=void 0!=r.virtualmode&&r.virtualmode,this.totalrecords=void 0!=r.totalrecords?r.totalrecords:0,this.pageable=void 0!=r.pageable&&r.pageable,this.pagesize=void 0!=r.pagesize?r.pagesize:0,this.pagenum=void 0!=r.pagenum?r.pagenum:0,this.cachedrecords=void 0!=r.cachedrecords?r.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=r.updaterow?r.updaterow:null,this.addrow=void 0!=r.addrow?r.addrow:null,this.deleterow=void 0!=r.deleterow?r.deleterow:null,this.cache=void 0!=r.cache&&r.cache,this.unboundmode=!1,void 0!=s.formatdata&&(r.formatData=s.formatdata),void 0!=s.data&&(void 0==r.data&&(r.data={}),e.extend(r.data,s.data)),void 0!=s.mapChar&&(s.mapchar=s.maxChar),void 0!=s.mapchar?this.mapChar=s.mapchar?s.mapchar:">":this.mapChar=r.mapChar?r.mapChar:">",(r.unboundmode||s.unboundmode)&&(this.unboundmode=r.unboundmode||s.unboundmode),void 0!=s.cache&&(this.cache=s.cache),this.koSubscriptions)for(var n=0;n<this.koSubscriptions.length;n++)this.koSubscriptions[n].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var a=this,o=s.datatype;"csv"!==s.datatype&&"tab"!==s.datatype&&"tsv"!==s.datatype&&"text"!=s.datatype||(o="text");var l=void 0==r.async||r.async;switch(void 0!=s.async&&(l=s.async),o){case"local":case"array":case"observablearray":case"observableArray":default:if(void 0==s.localdata&&s.length){s.localdata=new Array;for(var h=0;h<s.length;h++)s.localdata[s.localdata.length]=s[h],s[h].uid=h}s.beforeprocessing&&e.isFunction(s.beforeprocessing)&&s.beforeprocessing(s.localdata);var d=s.localdata.length;if(this.totalrecords=this.virtualmode?s.totalrecords||d:d,this.unboundmode){this.totalrecords=this.unboundmode?s.totalrecords||d:d;var c=s.datafields?s.datafields.length:0;if(c>0)for(var h=0;h<this.totalrecords;h++){for(var u={},f=0;f<c;f++)u[s.datafields[f].name]="";u.uid=h,s.localdata[s.localdata.length]=u}}void 0==this.totalrecords&&(this.totalrecords=0);var c=s.datafields?s.datafields.length:0,p=function(t,i){for(var r={},n=0;n<i;n++){var o=s.datafields?s.datafields[n]:{},l="";if(void 0!=o&&null!=o){if(o.map){if(e.isFunction(o.map))l=o.map(t);else{var h=o.map.split(a.mapChar);if(h.length>0){for(var d=t,c=0;c<h.length;c++)d&&(d=d[h[c]]);l=d}else l=t[o.map]}void 0!=l&&null!=l?l=l.toString():void 0==l&&null!=l&&(l="")}var u=!1;""==l&&(u=!0,void 0!=(l=t[o.name])&&null!=l&&(s._localdata&&l.subscribe?l=l():"array"!=o.type&&(l=l.toString()))),"[object Object]"==l&&o.map&&u&&(l=""),l=a.getvaluebytype(l,o),void 0!=o.displayname?r[o.displayname]=l:r[o.name]=l}}return r};if(s._localdata){this._changedrecords=[],this.records=new Array;var m=s._localdata();if(e.each(m,function(t,r){if("string"==typeof r)a.records.push(r);else{var n={},o=0,l=this;e.each(this,function(i,r){var h=null,d="string",u=i;if(c>0){for(var f=!1,p=!1,m=0;m<c;m++){var g=s.datafields[m];if(void 0!=g&&g.name==i){f=!0,h=g.map,d=g.type,u=g.name;break}if(void 0!=g&&g.map&&g.map.indexOf(i)>=0){f=!0,h=g.map,d=g.type,u=g.name,p=!0;var v=l[i];if(null!=h){var x=h.split(a.mapChar);if(x.length>0){for(var y=l,w=0;w<x.length;w++)y=y[x[w]];v=y}else v=l[h]}"string"!=d&&(v=a.getvaluebytype(v,{type:d})),n[u]=v,void 0!=n[u]&&(o+=n[u].toString().length+n[u].toString().substr(0,1))}}if(!f)return!0;if(p)return!0}if(e.isFunction(l[i])){var v=l[i]();if("string"!=d&&(v=a.getvaluebytype(v,{type:d})),n[i]=v,l[i].subscribe){var b=t;a.koSubscriptions[a.koSubscriptions.length]=l[i].subscribe(function(e){var t=b;n[i]=e;var s={index:t,oldrecord:n,record:n};if(a._changedrecords.push(s),!a.isUpdating)return a.callBindingUpdate("update"),a._changedrecords=[],!1})}}else{var v=l[i];if(null!=h){var x=h.split(a.mapChar);if(x.length>0){for(var y=l,w=0;w<x.length;w++)y=y[x[w]];v=y}else v=l[h]}"string"!=d&&(v=a.getvaluebytype(v,{type:d})),n[u]=v,void 0!=n[u]&&(o+=n[u].toString().length+n[u].toString().substr(0,1))}});var h=a.getid(s.id,l,t);if(n.uid=h,a.records.push(n),n._koindex=o,a._oldrecords){var d=a.records.length-1;if("update"==i&&a._oldrecords[d]._koindex!=o){var u={index:d,oldrecord:a._oldrecords[d],record:n};a._changedrecords.push(u)}}}}),"add"==i)for(var d=a.records.length,h=0;h<d;h++){for(var u=a.records[h],g=!1,v=0;v<a._oldrecords.length;v++)if(a._oldrecords[v]._koindex===u._koindex){g=!0;break}g||a._changedrecords.push({index:h,oldrecord:null,record:u,position:0!=h?"last":"first"})}else if("remove"==i)for(var d=a._oldrecords.length,h=0;h<d;h++){var x=a._oldrecords[h];a.records[h]?a.records[h]._koindex!=x._koindex&&a._changedrecords.push({index:h,oldrecord:x,record:null}):a._changedrecords.push({index:h,oldrecord:x,record:null})}}else if(e.isArray(s.localdata))if(0==c){var y=0,w=new Array;e.each(s.localdata,function(t,i){var r=new Object(this);if("string"==typeof i)return a.records=s.localdata,!1;var n=a.getid(s.id,r,t);if("object"==typeof n&&(n=t),r.uid=n,0==t){for(var o in this){y++;var l=e.type(this[o]);w.push({name:o,type:l})}c=y,s.datafields=w,s.generatedfields=w}if(c>0){var h=p(r,c);h.uid=n,a.records[a.records.length]=h}else a.records[a.records.length]=r})}else e.each(s.localdata,function(e){var t=this,i=p(t,c),r=a.getid(s.id,i,e);"object"==typeof r&&(r=e);var t=new Object(i);t.uid=r,a.records[a.records.length]=t});else{this.records=new Array;var y=0,w=new Array;e.each(s.localdata,function(t){var i=a.getid(s.id,this,t);if(0==c&&!("string"==typeof this||this instanceof String)){for(var r in this){y++;var n=e.type(this[r]);w.push({name:r,type:n})}c=y,s.datafields=w,s.generatedfields=w}if(c>0){var o=this,l=p(o,c);l.uid=i,a.records[a.records.length]=l}else this.uid=i,a.records[a.records.length]=this})}if(this.originaldata=s.localdata,this.cachedrecords=this.records,this.addForeignValues(s),r.uniqueDataFields){var b=this.getUniqueRecords(this.records,r.uniqueDataFields);this.records=b,this.cachedrecords=b}if(r.beforeLoadComplete){var _=r.beforeLoadComplete(a.records,this.originaldata);void 0!=_&&(a.records=_,a.cachedrecords=_)}if(r.autoSort&&r.autoSortField){var T=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[r.autoSortField]},a.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(t=t.toString(),i=i.toString(),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(e){}return 0}),Object.prototype.toString=T}a.loadedData=s.localdata,a.buildHierarchy(),e.isFunction(r.loadComplete)&&r.loadComplete(s.localdata,a.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=s.localdata&&!s.url){if(e.isFunction(s.beforeprocessing)&&s.beforeprocessing(s.localdata),"xml"===s.datatype?a.loadxml(s.localdata,s.localdata,s):"text"===o?a.loadtext(s.localdata,s):"ics"===o?a.loadics(s.localdata,s):a.loadjson(s.localdata,s.localdata,s),a.addForeignValues(s),r.uniqueDataFields){var b=a.getUniqueRecords(a.records,r.uniqueDataFields);a.records=b,a.cachedrecords=b}if(r.beforeLoadComplete){var _=r.beforeLoadComplete(a.records,this.originaldata);void 0!=_&&(a.records=_,a.cachedrecords=_)}return a.loadedData=s.localdata,a.buildHierarchy.call(a),e.isFunction(r.loadComplete)&&r.loadComplete(s.localdata,a.records),void a.callBindingUpdate(i)}var j=void 0!=r.data?r.data:{};if(s.processdata&&s.processdata(j),e.isFunction(r.processData)&&r.processData(j),e.isFunction(r.formatData)){var C=r.formatData(j);void 0!=C&&(j=C)}var S="application/x-www-form-urlencoded";r.contentType&&(S=r.contentType);var q="GET";s.type&&(q=s.type),r.type&&(q=r.type);var k=o;if("ics"==o&&(k="text"),s.url&&s.url.length>0)e.isFunction(r.loadServerData)?a._requestData(j,s,r):this.xhr=e.jqx.data.ajax({dataType:k,cache:this.cache,type:q,url:s.url,async:l,timeout:s.timeout,contentType:S,data:j,success:function(t,i,n){if(e.isFunction(s.beforeprocessing)){var l=s.beforeprocessing(t,i,n);void 0!=l&&(t=l)}if(e.isFunction(r.downloadComplete)){var l=r.downloadComplete(t,i,n);void 0!=l&&(t=l)}if(null==t)return a.records=new Array,a.cachedrecords=new Array,a.originaldata=new Array,a.callDownloadComplete(),void(e.isFunction(r.loadComplete)&&r.loadComplete(new Array));var h=t;if(t.records&&(h=t.records),void 0!=t.totalrecords?s.totalrecords=t.totalrecords:void 0!=t.totalRecords&&(s.totalrecords=t.totalRecords),"xml"===s.datatype?a.loadxml(null,h,s):"text"===o?a.loadtext(h,s):"ics"===o?a.loadics(h,s):a.loadjson(null,h,s),a.addForeignValues(s),r.uniqueDataFields){var d=a.getUniqueRecords(a.records,r.uniqueDataFields);a.records=d,a.cachedrecords=d}if(r.beforeLoadComplete){var c=r.beforeLoadComplete(a.records,t);void 0!=c&&(a.records=c,a.cachedrecords=c)}a.loadedData=t,a.buildHierarchy.call(a),a.callDownloadComplete(),e.isFunction(r.loadComplete)&&r.loadComplete(t,i,n,a.records)},error:function(t,i,n){e.isFunction(s.loaderror)&&s.loaderror(t,i,n),e.isFunction(r.loadError)&&r.loadError(t,i,n),t=null,a.callDownloadComplete()},beforeSend:function(t,i){e.isFunction(r.beforeSend)&&r.beforeSend(t,i),e.isFunction(s.beforesend)&&s.beforesend(t,i)}});else if(a.buildHierarchy(new Array),a.callDownloadComplete(),e.isFunction(r.loadComplete)){if(!D)var D={};r.loadComplete(D)}}this.callBindingUpdate(i)}}},buildHierarchy:function(e){var t=this._source,i=new Array;if(t.datafields){if(t.hierarchy&&!t.hierarchy.reservedNames)t.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(t.hierarchy){var s=t.hierarchy.reservedNames;s.leaf||(s.leaf="leaf"),s.parent||(s.parent="parent"),s.expanded||(s.expanded="expanded"),s.checked||(s.checked="checked"),s.selected||(s.selected="selected"),s.level||(s.level="level"),s.data||(s.data="data")}if(t.hierarchy){var r=this,s=t.hierarchy.reservedNames;if(t.hierarchy.root){if("xml"==t.dataType){var i=this.getRecordsHierarchy("uid","parentuid","records",null,e);return this.hierarchy=i,i}this.hierarchy=this.records;for(var n=t.hierarchy.root,a=0;a<this.records.length;a++){var o=this.records[a];if(o){var l=function(e){if(t.hierarchy.record)e.records=e[n][t.hierarchy.record];else{var i=n.split(r.mapChar),a=null;if(i.length>1){for(var o=e,l=0;l<i.length;l++)void 0!=o&&(o=o[i[l]]);a=o}else a=e[n];e.records=a}(null==e.records||e.records&&0==e.records.length)&&(e[s.leaf]=!0)};l(o),o[s.level]=0;var h=this.getid(t.id,o,a);o.uid=h,o[s.parent]=null,o[s.data]=o,void 0===o[s.expanded]&&(o[s.expanded]=!1);var d=function(e,i){if(!i)return void(e.records=new Array);for(var n=0;n<i.length;n++){var a=i[n];if(a){l(a),a[s.level]=e[s.level]+1,a[s.parent]=e,a[s.data]=a;var o=r.getid(t.id,a,n);o==n&&null==t.id?a.uid=e.uid+"_"+o:a.uid=o,void 0===a[s.expanded]&&(a[s.expanded]=!1),d(a,a.records)}}};d(o,o.records)}}return this.hierarchy}if(t.hierarchy.keyDataField&&t.hierarchy.parentDataField){var i=this.getRecordsHierarchy(t.hierarchy.keyDataField.name,t.hierarchy.parentDataField.name,"records",null,e);return this.hierarchy=i,i}if(t.hierarchy.groupingDataFields){for(var c=new Array,a=0;a<t.hierarchy.groupingDataFields.length;a++)c.push(t.hierarchy.groupingDataFields[a].name);var i=this.getGroupedRecords(c,"records","label",null,"data",null,"parent",e);return this.hierarchy=i,i}}}},addRecord:function(e,t,i,s){var r=this,n=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}};if(void 0!=e){if(void 0==i){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||s)){var a=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null;null==a&&(a=n()),e[a.level]=0,"last"==t?this.hierarchy.push(e):"number"==typeof t&&isFinite(t)?this.hierarchy.splice(t,0,e):this.hierarchy.splice(0,0,e)}else"last"==t?this.records.push(e):"number"==typeof t&&isFinite(t)?this.records.splice(t,0,e):this.records.splice(0,0,e);return!0}if(this.hierarchy.length>0){var o=function(s){if(s)for(var a=0;a<s.length;a++){var l=s[a];if(l.uid==i){var h=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null;return null==h&&(h=n()),e[h.parent]=l,e[h.level]=l[h.level]+1,l.records?l[h.leaf]=!1:(l.records=new Array,l[h.leaf]=!1),"last"==t?l.records.push(e):"number"==typeof t&&isFinite(t)?l.records.splice(t,0,e):l.records.splice(0,0,e),!0}l.records&&o(l.records)}};o(this.hierarchy)}}return!1},deleteRecord:function(e){var t=this;if(this.hierarchy.length>0){var i=function(s){if(s)for(var r=0;r<s.length;r++){var n=s[r];if(n.uid==e){s.splice(r,1),t.recordids[e]&&delete t.recordids[e];var a=function(e){for(var i=0;i<e.length;i++){for(var s=e[i].uid,r=0;r<t.records.length;r++){if(t.records[r].uid==s){t.records.splice(r,1);break}}e[i].records&&a(e[i].records)}};n.records&&a(n.records);for(var o=0;o<t.records.length;o++){var n=t.records[o];if(n.uid==e){t.records.splice(o,1);break}}return!0}n.records&&i(n.records)}};i(this.hierarchy)}else for(var s=0;s<this.records.length;s++){var r=this.records[s];if(r.uid==e)return this.records.splice(s,1),!0}return!1},addForeignValues:function(e){for(var t=this,i=e.datafields?e.datafields.length:0,s=0;s<i;s++){var r=e.datafields[s];if(void 0!=r)if(void 0!=r.values){void 0==r.value&&(r.value=r.name),void 0==r.values.value&&(r.values.value=r.value);var n,a,o=new Array;t.pageable&&t.virtualmode?(n=t.pagenum*t.pagesize,(a=n+t.pagesize)>t.totalrecords&&(a=t.totalrecords)):t.virtualmode?(n=e.recordstartindex,(a=e.recordendindex)>t.totalrecords&&(a=t.totalrecords)):(n=0,a=t.records.length);for(var l=n;l<a;l++){var h=t.records[l],d=r.name,c=h[r.value];if(void 0!=o[c])h[d]=o[c];else for(var u=0;u<r.values.source.length;u++){var f=r.values.source[u],p=f[r.values.value];if(void 0==p&&(p=f.uid),p==c){var m=f[r.values.name];h[d]=m,o[c]=m;break}}}}else if(void 0!=r.value)for(var l=0;l<t.records.length;l++){var h=t.records[l];h[r.name]=h[r.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(t,i,s){var r=this,n=function(t){if(t.totalrecords&&(i.totalrecords=t.totalrecords,r.totalrecords=t.totalrecords),t.records&&(r.records=t.records,r.cachedrecords=t.records),r.addForeignValues(i),s.uniqueDataFields){var n=r.getUniqueRecords(r.records,s.uniqueDataFields);r.records=n,r.cachedrecords=n}if(s.beforeLoadComplete){var a=s.beforeLoadComplete(r.records,data);void 0!=a&&(r.records=a,r.cachedrecords=a)}for(var o=0;o<r.records.length;o++){var l=r.records[o];void 0!=l&&(void 0==l.uid&&(l.uid=r.getid(i.id,l,o)))}r.buildHierarchy.call(r),e.isFunction(s.loadComplete)&&s.loadComplete(t),r.callDownloadComplete()};s.loadServerData(t,i,n)},getUniqueRecords:function(e,t){if(e&&t)for(var i=e.length,s=t.length,r=new Array,n=new Array,a=0;a<i;a++){var o=e[a],l="";if(void 0!=o){for(var h=0;h<s;h++){var d=t[h];l+=o[d]+"_"}n[l]||(r[r.length]=o),n[l]=!0}}return r},getAggregatedData:function(t,i,s,r){var n=s;n||(n=this.records);var a={},o=new Array,l=n.length;if(0!=l&&void 0!=l){for(var h=0;h<l;h++)for(var d=n[h],c=0;c<t.length;c++){var u=t[c],f=d[u.name];if(u.aggregates){a[u.name]=a[u.name]||{},o[u.name]=o[u.name]||0,o[u.name]++;var p=function(t){for(obj in t){var i=a[u.name][obj];null==i&&(a[u.name][obj]=0,i=0),e.isFunction(t[obj])&&(i=t[obj](i,f,u.name,d,r)),a[u.name][obj]=i}},m=parseFloat(f);m=!isNaN(m),m&&(f=parseFloat(f)),"number"==typeof f&&isFinite(f)?e.each(u.aggregates,function(){var e=a[u.name][this];if(null==e&&(e=0,"min"==this&&(e=9999999999999),"max"==this&&(e=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(f);else if("product"==this)0==h?e=parseFloat(f):e*=parseFloat(f);else if("min"==this)e=Math.min(e,parseFloat(f));else if("max"==this)e=Math.max(e,parseFloat(f));else if("count"==this)e++;else if("object"==typeof this)return void p(this);a[u.name][this]=e}):e.each(u.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===f)return!0;var e=a[u.name][this];return null==e&&(e=0),a[u.name][this]=e,!0}"object"==typeof this&&p(this)})}}for(var c=0;c<t.length;c++){var u=t[c];if(a[u.name]||(a[u.name]={},e.each(u.aggregates,function(e){a[u.name][this]=0})),void 0!=a[u.name].avg){var f=a[u.name].avg,g=o[u.name];a[u.name].avg=0===g||void 0==g?0:f/g}else void 0!=a[u.name].count&&(a[u.name].count=l);(a[u.name].stdev||a[u.name].stdevp||a[u.name].var||a[u.name].varp)&&e.each(u.aggregates,function(e){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var t=a[u.name][this],i=l,s=t/l,r=0,o=0;o<l;o++){var h=n[o],d=h[u.name];r+=(d-s)*(d-s)}var c="stdevp"==this||"varp"==this?i:i-1;0==c&&(c=1),"var"==this||"varp"==this?a[u.name][this]=r/c:"stdevp"!=this&&"stdev"!=this||(a[u.name][this]=Math.sqrt(r/c))}}),u.formatStrings&&e.each(u.aggregates,function(t){var s=u.formatStrings[t];if(s)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var r=a[u.name][this];a[u.name][this]=e.jqx.dataFormat.formatnumber(r,s,i)}else if("object"==typeof this)for(obj in this){var r=a[u.name][obj];a[u.name][obj]=e.jqx.dataFormat.formatnumber(r,s,i)}})}return a}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(t,i,s,r,n,a,o,l,h){var d=this;h||(h=0);for(var c=new Array,u=0;u<t.length;u++)c[u]=d.generatekey();i||(i="items"),s||(s="group"),n||(n="record"),o||(o="parentItem"),void 0===a&&(a="value");var f=new Array,p=0,m=new Array,g=t.length;new Array;if(!l)var l=this.records;for(var v=l.length,x=0;x<v;x++){var y=function(t){var i=t;return r&&e.each(r,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i}(l[x]);id=y[d.uniqueId];var w=new Array,b=0;for(u=0;u<g;u++){var _=t[u],T=y[_];null!=T&&(w[b++]={value:T,hash:c[u]})}if(w.length!=g)break;for(var j=null,C="",S=-1,q=0;q<w.length;q++){S++;var k=w[q].value;if(C=C+"_"+w[q].hash+"_"+k,void 0==m[C]||null==m[C]){if(null==j){j={level:0},j[o]=null,j[s]=k,j[n]=y,void 0!==y.expanded?j.expanded=y.expanded:j.expanded=!1,a&&(j[a]=y[a]),j[i]=new Array;var D=f.length+h;this._source.id&&"number"!=typeof y.uid&&!isFinite(y.uid)||(D="Row"+D),j.uid=D,f[p++]=j}else{var I={level:j.level+1};I[o]=j,I[s]=k,I[i]=new Array,I[n]=y,void 0!==y.expanded?I.expanded=y.expanded:I.expanded=!1,a&&(I[a]=y[a]),I.uid=j.uid+"_"+j[i].length,j[i][j[i].length]=I,j=I}m[C]=j}else j=m[C]}y&&(y.leaf=!0),null!=j?(null==this._source.id&&(void 0==y.uid?y.uid=j.uid+"_"+j[i].length:-1==y.uid.toString().indexOf(j.uid)&&(y.uid=j.uid+"_"+y.uid)),y[o]=j,y.level=j.level+1,j[i][j[i].length]=y):void 0==y.uid&&(y.uid=this.generatekey())}return f},getRecordsHierarchy:function(t,i,s,r,n){var a=new Array,o=this.records;if(n&&(o=n),0==this.records.length)return null;for(var l=null!=s?s:"items",h=[],d=o,c=d.length,u=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,f=function(t){var i=t;return r&&e.each(r,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},p=0;p<c;p++){var m=e.extend({},d[p]),g=m[i],v=m[t];h[v]={parentid:g,item:m}}for(var p=0;p<c;p++){var m=e.extend({},d[p]),g=m[i],v=m[t];if(void 0!=h[g]){var m={parentid:g,item:h[v].item},x=h[g].item;x[l]||(x[l]=[]);var y=x[l].length,w=m.item;u?void 0==w[u.parent]&&(w[u.parent]=x):void 0==w.parent&&(w.parent=x);var b=f(w);x[l][y]=b,h[g].item=x,h[v]=m}else{var w=h[v].item;u?void 0==w[u.parent]&&(w[u.parent]=null):void 0==w.parent&&(w.parent=null);var b=f(w);u?b[u.level]=0:b.level=0,a[a.length]=b}}if(0!=a.length){var _=function(e,t){for(var i=0;i<t.length;i++){u?t[i][u.level]=e:t[i].level=e;var s=t[i][l];s&&s.length>0?_(e+1,s):u?t[i][u.leaf]=!0:t[i].leaf=!0}};_(0,a)}return a},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var i=this._bindingUpdate[t];null!=i.func&&i.func(e)}},getid:function(t,i,s){if(null==t||void 0==t.name||!t.name){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){var r=e(i).attr(t);if(null!=r&&r.toString().length>0)return e.trim(r).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"");var n=t.split(this.mapChar);if(n.length>1){for(var a=i,o=0;o<n.length;o++)void 0!=a&&(a=a[n[o]]);if(void 0!=a)return a}else if(void 0!=i[t])return i[t]}return s}var r=e(i).attr(t.name);if(null!=r&&r.toString().length>0)return r;if(t.map)try{var r=e(i).attr(t.map);if(null!=r&&r.toString().length>0)return r;if(e(t.map,i).length>0)return e(t.map,i).text();if(e(t.name,i).length>0)return e(t.name,i).text()}catch(e){return s}},loadjson:function(t,i,s){"string"==typeof t&&(t=e.parseJSON(t)),void 0==s.root&&(s.root=""),void 0==s.record&&(s.record="");var t=t||i;t||(t=[]);var r=this;if(""!=s.root){var n=s.root.split(r.mapChar);if(n.length>1){for(var a=t,o=0;o<n.length;o++)void 0!=a&&(a=a[n[o]]);t=a}else if(void 0!==t[s.root]?t=t[s.root]:t[0]&&void 0!==t[0][s.root]?t=t[0][s.root]:e.each(t,function(e){if(this==s.root)return t=this,!1;void 0!=this[s.root]&&(t=this[s.root])}),!t){var n=s.root.split(r.mapChar);if(n.length>0){for(var a=t,o=0;o<n.length;o++)void 0!=a&&(a=a[n[o]]);t=a}}}else if(!t.length)for(obj in t)if(e.isArray(t[obj])){t=t[obj];break}if(null!=t&&void 0==t.length&&(t=e.makeArray(t)),null==t||void 0==t||"undefined"==t||void 0==t.length)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0==t.length)return void(this.totalrecords=0);var l=t.length;this.totalrecords=this.virtualmode?s.totalrecords||l:l,this.records=new Array,this.originaldata=new Array;var h=this.records,d=this.pageable?this.pagesize*this.pagenum:s.recordstartindex;this.recordids=new Array,s.loadallrecords&&(d=0,l=this.totalrecords);var c=0;this.virtualmode&&(d=this.pageable?this.pagesize*this.pagenum:s.recordstartindex,c=d,d=0,l=this.totalrecords);var u=s.datafields?s.datafields.length:0;if(0==u){var f=t[0],p=new Array;for(obj in f){var m=obj;p[p.length]={name:m}}s.datafields=p,s.generatedfields=s.datafields,u=p.length}for(var g=d,v=d;v<l;v++){var x=t[v];if(void 0==x)break;if(!s.record||""==s.record||void 0!=(x=x[s.record])){
var y=this.getid(s.id,x,v);if("object"==typeof y&&(y=v),!this.recordids[y]){this.recordids[y]=x;for(var w={},b=0;b<u;b++){var _=s.datafields[b],T="";if(void 0!=_&&null!=_){if(_.map){if(e.isFunction(_.map))T=_.map(x);else{var n=_.map.split(r.mapChar);if(n.length>0){for(var j=x,o=0;o<n.length;o++)void 0!=j&&(j=j[n[o]]);T=j}else T=x[_.map]}void 0!=T&&null!=T?T=this.getvaluebytype(T,_):void 0==T&&null!=T&&(T="")}if(""==T&&!_.map&&(T=x[_.name],void 0==T&&null!=T&&(T=""),void 0!=_.value&&void 0!=T)){var C=T[_.value];void 0!=C&&(T=C)}if(T=this.getvaluebytype(T,_),void 0!=_.displayname?w[_.displayname]=T:w[_.name]=T,"array"===_.type){var S=function(t){if(t)for(var i=0;i<t.length;i++){var n=t[i];if(n)for(var a=0;a<u;a++){var o=s.datafields[a],l="";if(void 0!=o&&null!=o){if(o.map){if(e.isFunction(o.map))l=o.map(n);else{var h=o.map.split(r.mapChar);if(h.length>0){for(var d=n,c=0;c<h.length;c++)void 0!=d&&(d=d[h[c]]);l=d}else l=n[o.map]}void 0!=l&&null!=l?l=this.getvaluebytype(l,o):void 0==l&&null!=l&&(l="")}if(""==l&&!o.map&&(l=n[o.name],void 0==l&&null!=l&&(l=""),void 0!=o.value&&void 0!=l)){var f=l[o.value];void 0!=f&&(l=f)}l=this.getvaluebytype(l,o),void 0!=o.displayname?n[o.displayname]=l:n[o.name]=l,"array"===o.type&&S.call(this,l)}}}};S.call(this,T)}}}(s.recordendindex<=0||d<s.recordendindex)&&(h[c+g]=new Object(w),h[c+g].uid=y,this.originaldata[c+g]=new Object(h[v]),g++)}}}this.records=h,this.cachedrecords=this.records},loadxml:function(t,i,s){"string"==typeof t&&(t=i=e(e.parseXML(t)),t=null),void 0==s.root&&(s.root=""),void 0==s.record&&(s.record="");var t;(t=e.jqx.browser.msie&&i&&void 0!=i.xml?e(s.root+" "+s.record,e.parseXML(i.xml)):t||e(s.root+" "+s.record,i))||(t=[]);var r=t.length;if(0!=t.length){this.totalrecords=this.virtualmode?s.totalrecords||r:r,this.records=new Array,this.originaldata=new Array;var n=this.records,a=this.pageable?this.pagesize*this.pagenum:s.recordstartindex;this.recordids=new Array,s.loadallrecords&&(a=0,r=this.totalrecords);var o=0;this.virtualmode&&(a=this.pageable?this.pagesize*this.pagenum:s.recordstartindex,o=a,a=0,r=this.totalrecords);var l=s.datafields?s.datafields.length:0;if(0==l){var h=t[0],d=new Array;for(obj in h){var c=obj;d[d.length]={name:c}}s.datafields=d,s.generatedfields=s.datafields,l=d.length}for(var u=a,f=a;f<r;f++){var p=t[f];if(void 0==p)break;var m=this.getid(s.id,p,f);if(!this.recordids[m]){this.recordids[m]=p;var g={},v=!1;s.hierarchy&&s.hierarchy.root&&(v=!0);for(var x=0;x<l;x++){var y=s.datafields[x],w="";if(void 0!=y&&null!=y){if(y.map)if(e.isFunction(y.map))w=y.map(p);else{var b=y.map.indexOf("[");if(b<0)if(w=e(y.map,p),1==w.length)w=w.text();else{!0;for(var _=new Array,T=0;T<w.length;T++)_.push(e(w[T]).text());w=_,v&&_.length>0&&(w=_[0])}else{var j=y.map.substring(0,b-1),C=y.map.indexOf("]"),S=y.map.substring(b+1,C);w=e(j,p).attr(S),void 0==w&&(w=e(p).attr(S)),void 0==w&&(w="")}""==w&&void 0==(w=e(p).attr(y.map))&&(w="")}if(""==w){if(w=e(y.name,p),1==w.length)w=w.text();else{for(var _=new Array,T=0;T<w.length;T++)_.push(e(w[T]).text());w=_,v&&_.length>0&&(w=_[0])}""==w&&void 0==(w=e(p).attr(y.name))&&(w=""),""==w&&p.nodeName&&p.nodeName==y.name&&p.firstChild&&(w=e(p.firstChild).text())}w=this.getvaluebytype(w,y),void 0!=y.displayname?g[y.displayname]=w:g[y.name]=w}}(s.recordendindex<=0||a<s.recordendindex)&&(n[o+u]=e.extend({},g),n[o+u].uid=m,this.originaldata[o+u]=e.extend({},n[f]),u++)}}if(s.hierarchy&&s.hierarchy.root)for(var f=a;f<r;f++){var p=t[f],q=n[f];if(e(p).parent().length>0){var m=this.getid(s.id,e(p).parents(s.hierarchy.record+":first"));q.parentuid=m}else q.parentuid=null}this.records=n,this.cachedrecords=this.records}},loadics:function(e,t){if(null!=e){var i=t.rowDelimiter||this.rowDelimiter||"\n",s=e.split(i),r=s.length,n=e.split("\r");1==r&&n.length>1&&(s=n,r=s.length),this.records=new Array,this.originaldata=new Array;var a=this.records;this.recordids=new Array;for(var o=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/,i=t.exec(e);if(!i)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(i[1],i[2]-1,i[3],i[5]||0,i[6]||0,i[7]||0))},l=0;l<r;l++){var h=s[l];if("BEGIN:VEVENT"!=h)if(h.indexOf("SUMMARY")>=0)c.SUMMARY=h.substring(h.indexOf("SUMMARY")+8);else if(h.indexOf("LOCATION")>=0)c.LOCATION=h.substring(h.indexOf("LOCATION")+9);else if(h.indexOf("DESCRIPTION")>=0)c.DESCRIPTION=h.substring(h.indexOf("DESCRIPTION")+12);else if(h.indexOf("RRULE")>=0)c.RRULE=h.substring(h.indexOf("RRULE")+6);else if(h.indexOf("EXDATE")>=0){var d=h.substring(h.indexOf("EXDATE")+7);c.EXDATE=d}else h.indexOf("DTEND")>=0?c.DTEND=o(h.substring(h.indexOf("DTEND")+6)):h.indexOf("DTSTART")>=0?c.DTSTART=o(h.substring(h.indexOf("DTSTART")+8)):h.indexOf("UID")>=0?c.uid=c.UID=h.substring(h.indexOf("UID")+4):h.indexOf("STATUS")>=0?c.STATUS=h.substring(h.indexOf("STATUS")+7):"END:VEVENT"!=h||a.push(c);else var c={}}this.records=a,this.cachedrecords=this.records}},loadtext:function(t,i){if(null!=t){var s=i.rowDelimiter||this.rowDelimiter||"\n",r=t.split(s),n=r.length,a=t.split("\r");1==n&&a.length>1&&(r=a,n=r.length),this.totalrecords=this.virtualmode?i.totalrecords||n:n,this.records=new Array,this.originaldata=new Array;var o=this.records,l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex;this.recordids=new Array,i.loadallrecords&&(l=0,n=this.totalrecords);var h=0;this.virtualmode&&(l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,h=l,l=0,n=this.totalrecords);var d=i.datafields.length,c=i.columnDelimiter||this.columnDelimiter;c||(c="tab"===i.datatype||"tsv"===i.datatype?"\t":",");for(var u=l;u<n;u++){var f=r[u],p=null;if(!this.recordids[p]){null==i.id&&(p=u,this.recordids[p]=f);for(var m={},g=r[u].split(c),v=0;v<d;v++)if(!(v>=g.length)){var x=i.datafields[v],y=g[v];x.map&&e.isFunction(x.map)&&(y=x.map(f)),x.type&&(y=this.getvaluebytype(y,x));var w=x.map||x.name||v.toString();m[w]=y,null!=i.id&&i.id===x.name&&(p=y,this.recordids[p]=f)}null==p&&(p=u),o[h+u]=e.extend({},m),o[h+u].uid=p,this.originaldata[h+u]=e.extend({},o[u])}}this.records=o,this.cachedrecords=this.records}},getvaluebytype:function(t,i){var s=t;if(null==t)return t;if(e.isArray(t)&&"array"!=i.type){for(var r=0;r<t.length;r++)t[r]=this.getvaluebytype(t[r],i);return t}if("date"==i.type)if("NaN"==t)t="";else{var n=new Date(t);if("string"==typeof t&&i.format){var a=e.jqx.dataFormat.parsedate(t,i.format);null!=a&&(n=a)}t=("NaN"==n.toString()||"Invalid Date"==n.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):n,null==t&&(t=s)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{var t=parseFloat(t);isNaN(t)&&(t=s)}else if("int"==i.type||"integer"==i.type){var t=parseInt(t);isNaN(t)&&(t=s)}else"bool"!=i.type&&"boolean"!=i.type||(null!=t&&void 0!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||(0!=t||""===t)&&"");return t}},e.jqx.dataFormat={},e.extend(e.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!(!this.isString(t)&&this.isValue(t))&&(!this.isValue(t)||""===(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){return{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","}},expandFormat:function(e,t){t=t||"F";var i,s=e.patterns,r=t.length;if(1===r){if(!(i=s[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,s=e.getTime(),r=0,n=t.length;r<n;r++)if(null===(i=t[r].start)||s>=i)return r;return 0},toUpper:function(e){return e.split(" ").join(" ").toUpperCase()},toUpperArray:function(e){for(var t=[],i=0,s=e.length;i<s;i++)t[i]=this.toUpper(e[i]);return t},getEraYear:function(e,t,i,s){var r=e.getFullYear();return!s&&t.eras&&(r-=t.eras[i].offset),r},toUpper:function(e){return e?e.toUpperCase():""},getDayIndex:function(e,t,i){var s,r=e.days,n=e._upperDays;return n||(e._upperDays=n=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr),this.toUpperArray(r.namesShort)]),t=t.toUpperCase(),i?-1===(s=this.arrayIndexOf(n[1],t))&&(s=this.arrayIndexOf(n[2],t)):s=this.arrayIndexOf(n[0],t),s},getMonthIndex:function(e,t,i){var s=e.months,r=e.monthsGenitive||e.months,n=e._upperMonths,a=e._upperMonthsGen;n||(e._upperMonths=n=[this.toUpperArray(s.names),this.toUpperArray(s.namesAbbr)],e._upperMonthsGen=a=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr)]),t=this.toUpper(t);var o=this.arrayIndexOf(i?n[1]:n[0],t);return o<0&&(o=this.arrayIndexOf(i?a[1]:a[0],t)),o},appendPreOrPostMatch:function(e,t){for(var i=0,s=!1,r=0,n=e.length;r<n;r++){var a=e.charAt(r);switch(a){case"'":s?t.push("'"):i++,s=!1;break;case"\\":s&&t.push("\\"),s=!s;break;default:t.push(a),s=!1}}return i},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var i="";return t&&t.target&&(i="target="+t.target),""!=i?"<a "+i+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,i){return this.formatnumber(e,t,i)},formatnumber:function(e,t,i){if(void 0!=i&&null!=i&&""!=i||(i=this.defaultcalendar()),""===t||null===t)return e;this.isNumber(e)||(e*=1);var s;t.length>1&&(s=parseInt(t.slice(1),10));var r={},n=t.charAt(0).toUpperCase();switch(r.thousandsSeparator=i.thousandsseparator,r.decimalSeparator=i.decimalseparator,n){case"D":case"d":case"F":case"f":r.decimalPlaces=s;break;case"N":case"n":r.decimalPlaces=0;break;case"C":case"c":r.decimalPlaces=s,"before"==i.currencysymbolposition?r.prefix=i.currencysymbol:r.suffix=i.currencysymbol;break;case"P":case"p":r.suffix=i.percentsymbol,r.decimalPlaces=s;break;default:throw"Bad number format specifier: "+n}if(this.isNumber(e)){var a,o=e<0,l=e+"",h=r.decimalSeparator?r.decimalSeparator:".";if(this.isNumber(r.decimalPlaces)){var d=r.decimalPlaces,c=Math.pow(10,d);if(l=(e*c).toFixed(0)/c+"",a=l.lastIndexOf("."),d>0)for(a<0?(l+=h,a=l.length-1):"."!==h&&(l=l.replace(".",h));l.length-1-a<d;)l+="0"}else{var l=e+"";a=l.lastIndexOf("."),a>0&&void 0==d&&"."!==h&&(l=l.replace(".",h))}if(r.thousandsSeparator){var u=r.thousandsSeparator;a=l.lastIndexOf(h),a=a>-1?a:l.length;for(var f=l.substring(a),p=-1,m=a;m>0;m--)p++,p%3==0&&m!==a&&(!o||m>1)&&(f=u+f),f=l.charAt(m-1)+f;l=f}return l=r.prefix?r.prefix+l:l,l=r.suffix?l+r.suffix:l}return e},tryparsedate:function(t,i){void 0!=i&&null!=i||(i=this.defaultcalendar());var s=this;if(""==t)return null;if(null==t||t.substring||(t=t.toString()),null!=t&&"/Date("==t.substring(0,6)){var r=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,n=new Date(+t.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==n){var a=t.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),n=null;a&&(n=new Date(1*a[1]+36e5*a[2]+6e4*a[3]))}if(null==n||"Invalid Date"==n||isNaN(n)){var o=r.exec(t);if(o){var l=new Date(parseInt(o[1]));if(o[2]){var h=parseInt(o[3]);"-"===o[2]&&(h=-h);var d=l.getUTCMinutes();l.setUTCMinutes(d-h)}if(!isNaN(l.valueOf()))return l}}return n}patterns=i.patterns;for(prop in patterns)if(n=s.parsedate(t,patterns[prop],i)){if("ISO"==prop){var c=s.parsedate(t,patterns.ISO2,i);if(c)return c}return n}if(null!=t){for(var c=null,u=[":","/","-"],f=!0,p=0;p<u.length;p++)-1!=t.indexOf(u[p])&&(f=!1);if(f){var m=new Number(t);if(!isNaN(m))return new Date(m)}}if("string"===e.type(t)){var g=s;t=g.trim(t);var v=[":","/","-"," ",","];t=function(e,t,i){return i.replace(new RegExp(e,"g"),t)}(", ",",",t);var x="",y=t;t.indexOf(":")>=0?(x=t.substring(t.indexOf(":")-2),x=g.trim(x),y=t.substring(0,t.indexOf(":")-2)):t.toUpperCase().indexOf("AM")>=0?(x=t.substring(t.toUpperCase().indexOf("AM")-2),x=g.trim(x),y=t.substring(0,t.toUpperCase().indexOf("AM")-2)):t.toUpperCase().indexOf("PM")>=0&&(x=t.substring(t.toUpperCase().indexOf("PM")-2),x=g.trim(x),y=t.substring(0,t.toUpperCase().indexOf("PM")-2));var w=new Date,b=!1;if(y){for(var _=0;_<v.length;_++)if(y.indexOf(v[_])>=0){u=y.split(v[_]);break}for(var T=new Array,j=new Array,C=new Array,S=null,q=null,_=0;_<u.length;_++){var p=u[_],k=g.parsedate(p,"d",i)||g.parsedate(p,"dd",i)||g.parsedate(p,"ddd",i)||g.parsedate(p,"dddd",i);if(k&&p.length<=2){S=_,T.push(k.getDate());break}}for(var _=0;_<u.length;_++){var p=u[_],D=g.parsedate(p,"M",i)||g.parsedate(p,"MM",i)||g.parsedate(p,"MMM",i)||g.parsedate(p,"MMMM",i);if(D){if(void 0!=S&&S==_)continue;if(j.push(D.getMonth()),p.length>2){q=_;break}}}for(var _=0;_<u.length;_++){var p=u[_],I=g.parsedate(p,"yyyy",i);if(I){if(void 0!=S&&S==_)continue;if(void 0!=q&&q==_)continue;C.push(I.getFullYear())}}for(var M=new Array,P=0;P<T.length;P++)for(var a=0;a<j.length;a++)for(var H=0;H<C.length;H++){var l=new Date(C[H],j[a],T[P]);C[H]<1970&&l.setFullYear(C[H]),NaN!=l.getTime()&&M.push(l)}M.length>0&&(w=M[0],b=!0)}if(x){var A=x.indexOf(":")>=0?x.split(":"):x,B=g.parsedate(x,"h:mm tt",i)||g.parsedate(x,"h:mm:ss tt",i)||g.parsedate(x,"HH:mm:ss.fff",i)||g.parsedate(x,"HH:mm:ss.ff",i)||g.parsedate(x,"HH:mm:ss.tttt",i)||g.parsedate(x,"HH:mm:ss",i)||g.parsedate(x,"HH:mm",i)||g.parsedate(x,"HH",i),N=0,O=0,E=0,z=0;B&&NaN!=B.getTime()?(N=B.getHours(),O=B.getMinutes(),E=B.getSeconds(),z=B.getMilliseconds()):(1==A.length&&(N=parseInt(A[0])),2==A.length&&(N=parseInt(A[0]),O=parseInt(A[1])),3==A.length&&(N=parseInt(A[0]),O=parseInt(A[1]),A[2].indexOf(".")>=0?(E=parseInt(A[2].toString().split(".")[0]),z=parseInt(A[2].toString().split(".")[1])):E=parseInt(A[2])),4==A.length&&(N=parseInt(A[0]),O=parseInt(A[1]),E=parseInt(A[2]),z=parseInt(A[3]))),!w||isNaN(N)||isNaN(O)||isNaN(E)||isNaN(z)||(w.setHours(N,O,E,z),b=!0)}if(b)return w}return null},getparseregexp:function(e,t){var i=e._parseRegExp;if(i){var s=i[t];if(s)return s}else e._parseRegExp=i={};for(var r,n=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),a=["^"],o=[],l=0,h=0,d=this.getTokenRegExp();null!==(r=d.exec(n));){var c=n.slice(l,r.index);if(l=d.lastIndex,(h+=this.appendPreOrPostMatch(c,a))%2)a.push(r[0]);else{var u,f=r[0],p=f.length;switch(f){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)";break;case"tt":case"t":u="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)";break;case"zzz":u="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":u="([+-]?\\d\\d?)";break;case"/":u="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+f+"'."}u&&a.push(u),o.push(r[0])}}this.appendPreOrPostMatch(n.slice(l),a),a.push("$");var m=a.join("").replace(/\s+/g,"\\s+"),g={regExp:m,groups:o};return i[t]=g},outOfRange:function(e,t,i){return e<t||e>i},expandYear:function(e,t){var i=new Date,s=this.getEra(i);if(t<100){var r=e.twoDigitYearMax;r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r;var n=this.getEraYear(i,e,s);t+=n-n%100,t>r&&(t-=100)}return t},parsedate:function(e,t,i){void 0!=i&&null!=i||(i=this.defaultcalendar()),e=this.trim(e);var s=i,r=this.getparseregexp(s,t),n=new RegExp(r.regExp).exec(e);if(null===n)return null;for(var a,o=r.groups,l=null,h=null,d=null,c=null,u=null,f=0,p=0,m=0,g=0,v=null,x=!1,y=0,w=o.length;y<w;y++){var b=n[y+1];if(b){var _=o[y],T=_.length,j=parseInt(b,10);switch(_){case"dd":case"d":if(c=j,this.outOfRange(c,1,31))return null;break;case"MMM":case"MMMM":if(d=this.getMonthIndex(s,b,3===T),this.outOfRange(d,0,11))return null;break;case"M":case"MM":if(d=j-1,this.outOfRange(d,0,11))return null;break;case"y":case"yy":case"yyyy":if(h=T<4?this.expandYear(s,j):j,this.outOfRange(h,0,9999))return null;break;case"h":case"hh":if(f=j,12===f&&(f=0),this.outOfRange(f,0,11))return null;break;case"H":case"HH":if(f=j,this.outOfRange(f,0,23))return null;break;case"m":case"mm":if(p=j,this.outOfRange(p,0,59))return null;break;case"s":case"ss":if(m=j,this.outOfRange(m,0,59))return null;break;case"tt":case"t":if(!(x=s.PM&&(b===s.PM[0]||b===s.PM[1]||b===s.PM[2]))&&(!s.AM||b!==s.AM[0]&&b!==s.AM[1]&&b!==s.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=j*Math.pow(10,3-T),this.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(u=this.getDayIndex(s,b,3===T),this.outOfRange(u,0,6))return null;break;case"zzz":var C=b.split(/:/);if(2!==C.length)return null;if(a=parseInt(C[0],10),this.outOfRange(a,-12,13))return null;var S=parseInt(C[1],10);if(this.outOfRange(S,0,59))return null;v=60*a+(this.startsWith(b,"-")?-S:S);break;case"z":case"zz":if(a=j,this.outOfRange(a,-12,13))return null;v=60*a;break;case"g":case"gg":var q=b;if(!q||!s.eras)return null;q=trim(q.toLowerCase());for(var k=0,D=s.eras.length;k<D;k++)if(q===s.eras[k].name.toLowerCase()){l=k;break}if(null===l)return null}}}var I,M=new Date,P=s.convert;if(I=M.getFullYear(),null===h?h=I:s.eras&&(h+=s.eras[l||0].offset),null===d&&(d=0),null===c&&(c=1),P){if(null===(M=P.toGregorian(h,d,c)))return null}else{if(M.setFullYear(h,d,c),M.getDate()!==c)return null;if(null!==u&&M.getDay()!==u)return null}if(x&&f<12&&(f+=12),M.setHours(f,p,m,g),null!==v){var H=M.getMinutes()-(v+M.getTimezoneOffset());M.setHours(M.getHours()+parseInt(H/60,10),H%60)}return M},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,i){return this.formatdate(e,t,i)},formatdate:function(e,t,i){function s(e,t){var i,s=e+"";return t>1&&s.length<t?(i=c[t-2]+s,i.substr(i.length-t,t)):i=s}function r(e,t){if(d)return d[t];if(void 0!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}if(void 0!=i&&null!=i||(i=this.defaultcalendar()),"string"==typeof e)return e;var n=e.toString()+"_"+t;if(this.datescache&&this.datescache[n])return this.datescache[n];if(!t||!t.length||"i"===t){var a;return a=this.formatDate(e,i.patterns.F,i)}var o=i.eras,l="s"===t;t=this.expandFormat(i,t),a=[];for(var h,d,c=["0","00","000"],u=0,f=this.getTokenRegExp();;){var p=f.lastIndex,m=f.exec(t),g=t.slice(p,m?m.index:t.length);if(u+=this.appendPreOrPostMatch(g,a),!m)break;if(u%2)a.push(m[0]);else{var v=m[0],x=v.length;switch(v){case"ddd":case"dddd":var y=3===x?i.days.namesAbbr:i.days.names;a.push(y[e.getDay()]);break;case"d":case"dd":!0,a.push(s(r(e,2),x));break;case"MMM":case"MMMM":var w=r(e,1);a.push(i.months[3===x?"namesAbbr":"names"][w]);break;case"M":case"MM":a.push(s(r(e,1)+1,x));break;case"y":case"yy":case"yyyy":w=this.getEraYear(e,i,this.getEra(e,o),l),x<4&&(w%=100),a.push(s(w,x));break;case"h":case"hh":h=e.getHours()%12,0===h&&(h=12),a.push(s(h,x));break;case"H":case"HH":a.push(s(e.getHours(),x));break;case"m":case"mm":a.push(s(e.getMinutes(),x));break;case"s":case"ss":a.push(s(e.getSeconds(),x));break;case"t":case"tt":w=e.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",a.push(1===x?w.charAt(0):w);break;case"f":case"ff":case"fff":a.push(s(e.getMilliseconds(),3).substr(0,x));break;case"z":case"zz":h=e.getTimezoneOffset()/60,a.push((h<=0?"+":"-")+s(Math.floor(Math.abs(h)),x));break;case"zzz":h=e.getTimezoneOffset()/60,a.push((h<=0?"+":"-")+s(Math.floor(Math.abs(h)),2)+":"+s(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&a.push(i.eras[this.getEra(e,o)].name);break;case"/":a.push(i["/"]);break;default:throw"Invalid date format pattern '"+v+"'."}}}var b=a.join("");return this.datescache||(this.datescache=new Array),this.datescache[n]=b,b}}),e.jqx.data={};var l,h,d=/#.*$/,c=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,u=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,f=/^(?:GET|HEAD)$/,p=/^\/\//,m=/\?/,g=/([?&])_=[^&]*/,v=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,x=/\s+/,y=(e.fn.load,{}),w={},b=["*/"]+["*"];try{h=location.href}catch(e){h=document.createElement("a"),h.href="",h=h.href}l=v.exec(h.toLowerCase())||[],e.extend(e.jqx.data,{ajaxSetup:function(t,i){return i?s(t,e.jqx.data.ajaxSettings):(i=t,t=e.jqx.data.ajaxSettings),s(t,i),t},ajaxSettings:{url:h,isLocal:u.test(l[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":b},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:t(y),ajaxTransport:t(w),ajax:function(t,s){function a(t,i,s,a){var l,d,c,u,f,p=i;2!==B&&(B=2,T&&clearTimeout(T),_=void 0,h=a||"",O.readyState=t>0?4:0,s&&(u=r(q,O,s)),t>=200&&t<300||304===t?(q.ifModified&&(f=O.getResponseHeader("Last-Modified"),f&&(e.lastModified[o]=f),(f=O.getResponseHeader("Etag"))&&(e.etag[o]=f)),304===t?(p="notmodified",l=!0):(l=n(q,u),p=l.state,d=l.data,c=l.error,l=!c)):(c=p,p&&!t||(p="error",t<0&&(t=0))),O.status=t,O.statusText=(i||p)+"",l?I.resolveWith(k,[d,p,O]):I.rejectWith(k,[O,p,c]),O.statusCode(P),P=void 0,C&&D.trigger("ajax"+(l?"Success":"Error"),[O,q,l?d:c]),M.fireWith(k,[O,p]),C&&(D.trigger("ajaxComplete",[O,q]),--e.active||e.event.trigger("ajaxStop")))}"object"==typeof t&&(s=t,t=void 0),s=s||{};var o,h,u,_,T,j,C,S,q=e.jqx.data.ajaxSetup({},s),k=q.context||q,D=k!==q&&(k.nodeType||k instanceof e)?e(k):e.event,I=e.Deferred(),M=e.Callbacks("once memory"),P=q.statusCode||{},H={},A={},B=0,N="canceled",O={readyState:0,setRequestHeader:function(e,t){if(!B){var i=e.toLowerCase();e=A[i]=A[i]||e,H[e]=t}return this},getAllResponseHeaders:function(){return 2===B?h:null},getResponseHeader:function(e){var t;if(2===B){if(!u)for(u={};t=c.exec(h);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return B||(q.mimeType=e),this},abort:function(e){return e=e||N,_&&_.abort(e),a(0,e),this}};if(I.promise(O),O.success=O.done,O.error=O.fail,O.complete=M.add,O.statusCode=function(e){if(e){var t;if(B<2)for(t in e)P[t]=[P[t],e[t]];else t=e[O.status],O.always(t)}return this},q.url=((t||q.url)+"").replace(d,"").replace(p,l[1]+"//"),q.dataTypes=e.trim(q.dataType||"*").toLowerCase().split(x),null==q.crossDomain&&(j=v.exec(q.url.toLowerCase()),q.crossDomain=!(!j||j[1]===l[1]&&j[2]===l[2]&&(j[3]||("http:"===j[1]?80:443))==(l[3]||("http:"===l[1]?80:443)))),q.data&&q.processData&&"string"!=typeof q.data&&(q.data=e.param(q.data,q.traditional)),i(y,q,s,O),2===B)return O;if(C=q.global,q.type=q.type.toUpperCase(),q.hasContent=!f.test(q.type),C&&0==e.active++&&e.event.trigger("ajaxStart"),!q.hasContent&&(q.data&&(q.url+=(m.test(q.url)?"&":"?")+q.data,delete q.data),o=q.url,!1===q.cache)){var E=e.now(),z=q.url.replace(g,"$1_="+E);q.url=z+(z===q.url?(m.test(q.url)?"&":"?")+"_="+E:"")}(q.data&&q.hasContent&&!1!==q.contentType||s.contentType)&&O.setRequestHeader("Content-Type",q.contentType),q.ifModified&&(o=o||q.url,e.lastModified[o]&&O.setRequestHeader("If-Modified-Since",e.lastModified[o]),e.etag[o]&&O.setRequestHeader("If-None-Match",e.etag[o])),O.setRequestHeader("Accept",q.dataTypes[0]&&q.accepts[q.dataTypes[0]]?q.accepts[q.dataTypes[0]]+("*"!==q.dataTypes[0]?", "+b+"; q=0.01":""):q.accepts["*"]);for(S in q.headers)O.setRequestHeader(S,q.headers[S]);if(q.beforeSend&&(!1===q.beforeSend.call(k,O,q)||2===B))return O.abort();N="abort";for(S in{success:1,error:1,complete:1})O[S](q[S]);if(_=i(w,q,s,O)){O.readyState=1,C&&D.trigger("ajaxSend",[O,q]),q.async&&q.timeout>0&&(T=setTimeout(function(){O.abort("timeout")},q.timeout));try{B=1,_.send(H,a)}catch(e){if(!(B<2))throw e;a(-1,e)}}else a(-1,"No Transport");return O},active:0,lastModified:{},etag:{}});var _=[],T=/\?/,j=/(=)\?(?=&|$)|\?\?/,C=e.now();e.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=_.pop()||e.expando+"_"+C++;return this[t]=!0,t}}),e.jqx.data.ajaxPrefilter("json jsonp",function(t,i,s){var r,n,a,o=t.data,l=t.url,h=!1!==t.jsonp,d=h&&j.test(l),c=h&&!d&&"string"==typeof o&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&j.test(o);if("jsonp"===t.dataTypes[0]||d||c)return r=t.jsonpCallback=e.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,n=window[r],d?t.url=l.replace(j,"$1"+r):c?t.data=o.replace(j,"$1"+r):h&&(t.url+=(T.test(l)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||e.error(r+" was not called"),a[0]},t.dataTypes[0]="json",window[r]=function(){a=arguments},s.always(function(){window[r]=n,t[r]&&(t.jsonpCallback=i.jsonpCallback,_.push(r)),a&&e.isFunction(n)&&n(a[0]),a=n=void 0}),"script"}),e.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.jqx.data.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),e.jqx.data.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(s,r){t=document.createElement("script"),t.async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,s){(s||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=void 0,s||r(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(0,1)}}}});var S,q=!!window.ActiveXObject&&function(){for(var e in S)S[e](0,1)},k=0;e.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&a()||o()}:a,function(t){e.extend(e.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(e.jqx.data.ajaxSettings.xhr()),e.support.ajax&&e.jqx.data.ajaxTransport(function(t){if(!t.crossDomain||e.support.cors){var i;return{send:function(s,r){var n,a,o=t.xhr();if(t.username?o.open(t.type,t.url,t.async,t.username,t.password):o.open(t.type,t.url,t.async),t.xhrFields)for(a in t.xhrFields)o[a]=t.xhrFields[a];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(a in s)o.setRequestHeader(a,s[a])}catch(e){}o.send(t.hasContent&&t.data||null),i=function(s,a){var l,h,d,c,u;try{if(i&&(a||4===o.readyState))if(i=void 0,n&&(o.onreadystatechange=e.noop,q&&delete S[n]),a)4!==o.readyState&&o.abort();else{l=o.status,d=o.getAllResponseHeaders(),c={},u=o.responseXML,u&&u.documentElement&&(c.xml=u);try{c.text=o.responseText}catch(e){}try{h=o.statusText}catch(e){h=""}l||!t.isLocal||t.crossDomain?1223===l&&(l=204):l=c.text?200:404}}catch(e){a||r(-1,e)}c&&r(l,h,c,d)},t.async?4===o.readyState?setTimeout(i,0):(n=++k,q&&(S||(S={},e(window).unload(q)),S[n]=i),o.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}}),e.jqx.filter=function(){this.operator="and";var t=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],i=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],s=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],r=["EQUAL","NOT_EQUAL"],n=new Array,a=new Array;this.evaluate=function(e){for(var t=!0,i=0;i<n.length;i++){var s=n[i].evaluate(e);t=0==i?s:1==a[i]||"or"==a[i]?t||s:t&&s}return t},this.getfilterscount=function(){return n.length},this.setoperatorsbyfiltertype=function(e,n){switch(e){case"numericfilter":i=n;break;case"stringfilter":t=n;break;case"datefilter":s=n;break;case"booleanfilter":r=n}},this.getoperatorsbyfiltertype=function(e){var n=new Array;switch(e){case"numericfilter":n=i.slice(0);break;case"stringfilter":n=t.slice(0);break;case"datefilter":n=s.slice(0);break;case"booleanfilter":n=r.slice(0)}return n};var o=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+"-"+e()+"-"+e()};this.createfilter=function(e,t,i,s,r,n){if(null==e||void 0==e)return null;switch(e){case"numericfilter":return new d(t,i.toUpperCase());case"stringfilter":return new l(t,i.toUpperCase());case"datefilter":return new c(t,i.toUpperCase(),r,n);case"booleanfilter":return new h(t,i.toUpperCase());case"custom":return new u(t,i.toUpperCase(),s)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<n.length;t++){var i={value:n[t].filtervalue,condition:n[t].comparisonoperator,operator:a[t],type:n[t].type};n[t].data&&(i.id=n[t].data),e[t]=i}return e},this.addfilter=function(e,t){n[n.length]=t,t.key=o(),a[a.length]=e},this.removefilter=function(e){for(var t=0;t<n.length;t++)if(n[t].key==e.key){n.splice(t,1),a.splice(t,1);break}},this.getoperatorat=function(e){return void 0==e||null==e?null:e<0||e>n.length?null:a[e]},this.setoperatorat=function(e,t){return void 0==e||null==e?null:e<0||e>n.length?null:void(a[t]=t)},this.getfilterat=function(e){return void 0==e||null==e?null:e<0||e>n.length?null:n[e]},this.setfilterat=function(e,t){return void 0==e||null==e?null:e<0||e>n.length?null:(t.key=o(),void(n[e]=t))},this.clear=function(){n=new Array,a=new Array};var l=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="stringfilter",this.evaluate=function(t){var i=this.filtervalue,s=this.comparisonoperator;if(null==t||void 0==t||""==t){if("NULL"==s)return!0;if("EQUAL"==s&&t==i)return!0;if("NOT_EQUAL"==s&&t!=i)return!0;if("EMPTY"!=s)return!1;if(""==t)return!0}var r="";try{r=t.toString()}catch(e){return!0}var n=function(t,i){switch(s){case"EQUAL":return e.jqx.string.equalsIgnoreCase(t,i);case"EQUAL_CASE_SENSITIVE":return e.jqx.string.equals(t,i);case"NOT_EQUAL":return!e.jqx.string.equalsIgnoreCase(t,i);case"NOT_EQUAL_CASE_SENSITIVE":return!e.jqx.string.equals(t,i);case"CONTAINS":return e.jqx.string.containsIgnoreCase(t,i);case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t,i);case"DOES_NOT_CONTAIN":
return!e.jqx.string.containsIgnoreCase(t,i);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t,i);case"EMPTY":return""==t;case"NOT_EMPTY":return""!=t;case"NOT_NULL":return null!=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t,i);case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t,i);case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t,i);case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t,i);default:return!1}},a=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var o=n(r,i);if(o)return o;var l=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,h=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,d=i.indexOf(" and ")>=0?i.split(" and "):new Array,c=i.indexOf(" or ")>=0?i.split(" or "):new Array,u=i.indexOf("|")>=0?i.split("|"):new Array;if(u.length>0)for(var f=0;f<u.length;f++)u[f]=e.trim(u[f]);var p=i.indexOf(" ")>=0?i.split(" "):new Array;if(p.length>0)for(var f=0;f<p.length;f++)p[f]=e.trim(p[f]);if(l=l.concat(p),l=l.concat(d),h=h.concat(u),h=h.concat(c),l.length>0)for(var f=0;f<l.length;f++)!l[f].indexOf(" OR ")>=0&&a.push(l[f]);if(h.length>0)for(var f=0;f<h.length;f++)!h[f].indexOf(" AND ")>=0&&a.push(h[f]);for(var m=void 0,g=0;g<a.length;g++){var t=a[g],o=n(r,t),v=g<l.length?"and":"or";m=void 0==m?o:"or"==v?m||o:m&&o}return m}return n(r,i)}},h=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,i=this.comparisonoperator;if(null==e||void 0==e)return"NULL"==i;var s=e;switch(i){case"EQUAL":return s==t||s.toString()==t.toString();case"NOT_EQUAL":return s!=t&&s.toString()!=t.toString();default:return!1}}},d=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="numericfilter",this.evaluate=function(t){var i=this.filtervalue,s=this.comparisonoperator;if(null===t||void 0===t||""===t){if("NOT_NULL"==s)return!1;if("NULL"==s)return!0;switch(s){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==s)return!1;if("NOT_NULL"==s)return!0;var r=t;try{r=parseFloat(r)}catch(e){if(""!=t.toString())return!1}var n=function(t,i){switch(s){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i;case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return t<i;case"LESS_THAN_OR_EQUAL":return t<=i;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},a=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var o=n(r,i);if(o)return o;i=i.toString();var l=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,h=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,d=i.indexOf(" and ")>=0?i.split(" and "):new Array,c=i.indexOf(" or ")>=0?i.split(" or "):new Array;l=l.concat(d),h=h.concat(c);var u=i.indexOf("|")>=0?i.split("|"):new Array;if(u.length>0)for(var f=0;f<u.length;f++)u[f]=e.trim(u[f]);if(h=h.concat(u),l.length>0)for(var f=0;f<l.length;f++)!l[f].indexOf(" OR ")>=0&&a.push(l[f]);if(h.length>0)for(var f=0;f<h.length;f++)!h[f].indexOf(" AND ")>=0&&a.push(h[f]);for(var p=void 0,m=0;m<a.length;m++){var t=a[m];if(t&&t.indexOf&&t.indexOf("..")>=0){var g=t.toString().split("..");2==g.length&&(o=r>=g[0]&&r<=g[1])}else var o=n(r,t);var v=m<l.length?"and":"or";p=void 0==p?o:"or"==v?p||o:p&&o}return p}return i&&i.indexOf&&i.indexOf("..")>=0&&(a=i.toString().split(".."),2==a.length)?r>=a[0]&&r<=a[1]:n(r,i)}},c=function(t,i,s,r){this.filtervalue=t,this.type="datefilter";var n=this;if(void 0!=s&&void 0!=r){var a=e.jqx.dataFormat.parsedate(t,s,r);if(null!=a)this.filterdate=a;else{var o=e.jqx.dataFormat.tryparsedate(t,r);null!=o&&(this.filterdate=o)}}else{var l=new Date(t);"NaN"==l.toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l}if(!this.filterdate){var l=new Date(t);"NaN"==l.toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l}this.comparisonoperator=i,this.evaluate=function(t){var i=this.filtervalue,a=this.comparisonoperator;if(null==t||void 0==t||""==t){if("NOT_NULL"==a)return!1;if("NULL"==a)return!0;switch(a){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==a)return!1;if("NOT_NULL"==a)return!0;var o=new Date;o.setFullYear(1900,0,1),o.setHours(12,0,0,0);try{var l=new Date(t);t="NaN"==l.toString()||"Invalid Date"==l.toString()?e.jqx.dataFormat.tryparsedate(t):l,o=t;var h=!1;if(void 0!=s&&void 0!=r&&(s.indexOf("t")>=0||s.indexOf("T")>=0||s.indexOf(":")>=0||s.indexOf("f")>=0)&&(h=!0,i&&-1==i.toString().indexOf(":"))){var d=e.jqx.dataFormat.tryparsedate(i.toString()+":00",r);null!=d&&(n.filterdate=d)}h||(o.setHours(0),o.setMinutes(0),o.setSeconds(0))}catch(e){if(""!=t.toString())return!1}if(null!=n.filterdate)i=n.filterdate;else if(i&&i.indexOf&&(-1!=i.indexOf(":")||!isNaN(parseInt(i)))){var c=new Date(o);c.setHours(12,0,0,0);for(var u=i.split(":"),f=0;f<u.length;f++)0==f&&c.setHours(u[f]),1==f&&c.setMinutes(u[f]),2==f&&c.setSeconds(u[f]);i=c}h&&i&&i.setFullYear&&o&&o.getFullYear&&-1==s.indexOf("d")&&-1==s.indexOf("M")&&-1==s.indexOf("y")&&i.setFullYear(o.getFullYear(),o.getMonth(),o.getDate());var p=function(t,i){switch(null==t&&(t=""),a){case"EQUAL":return t.toString()==i.toString();case"NOT_EQUAL":return t.toString()!=i.toString();case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return t<i;case"LESS_THAN_OR_EQUAL":return t<=i;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},m=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var d=p(o,i);if(d)return d;var g=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,v=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,x=i.indexOf(" and ")>=0?i.split(" and "):new Array,y=i.indexOf(" or ")>=0?i.split(" or "):new Array;g=g.concat(x),v=v.concat(y);var w=i.indexOf("|")>=0?i.split("|"):new Array;if(w.length>0)for(var f=0;f<w.length;f++)w[f]=e.trim(w[f]);if(v=v.concat(w),g.length>0)for(var f=0;f<g.length;f++)!g[f].indexOf(" OR ")>=0&&m.push(g[f]);if(v.length>0)for(var f=0;f<v.length;f++)!v[f].indexOf(" AND ")>=0&&m.push(v[f]);for(var b=void 0,_=0;_<m.length;_++){var t=m[_];if(t&&t.indexOf&&t.indexOf("..")>=0){var T=t.toString().split("..");2==T.length&&(d=o>=T[0]&&o<=T[1])}else var d=p(o,t);var j=_<g.length?"and":"or";b=void 0==b?d:"or"==j?b||d:b&&d}return b}return i&&i.indexOf&&i.indexOf("..")>=0&&(m=i.toString().split(".."),2==m.length)?o>=m[0]&&o<=m[1]:p(o,i)}},u=function(e,t,i){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e,t){return i(this.filtervalue,e,this.comparisonoperator)}}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxScrollBar","",{}),e.extend(e.jqx._jqxScrollBar.prototype,{defineInstance:function(){var t={height:null,width:null,vertical:!1,min:0,max:1e3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1,offset:0,reference:0,velocity:0,frame:0,timestamp:0,ticker:null,amplitude:0,target:0};return e.extend(!0,this,t),t},createInstance:function(e){this.render()},render:function(){this._mouseup=new Date;var t=this,i="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div></div></div>";if(e.jqx.utilities&&"hidden"==e.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.host.html(i)}):this.element.innerHTML=i,void 0!=this.width&&parseInt(this.width)>0&&this.host.width(parseInt(this.width)),void 0!=this.height&&parseInt(this.height)>0&&this.host.height(parseInt(this.height)),this.isPercentage=!1,null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),this.isPercentage=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage){var s=this;e.jqx.utilities.resize(this.host,function(){s._arrange()},!1)}this.thumbCapture=!1,this.scrollOuterWrap=e(this.element.firstChild),this.scrollWrap=e(this.scrollOuterWrap[0].firstChild),this.btnUp=e(this.scrollWrap[0].firstChild),this.areaUp=e(this.btnUp[0].nextSibling),this.btnThumb=e(this.areaUp[0].nextSibling),this.arrowUp=e(this.btnUp[0].firstChild),this.areaDown=e(this.btnThumb[0].nextSibling),this.btnDown=e(this.areaDown[0].nextSibling),this.arrowDown=e(this.btnDown[0].firstChild);var r=this.element.id;if(this.btnUp[0].id="jqxScrollBtnUp"+r,this.btnDown[0].id="jqxScrollBtnDown"+r,this.btnThumb[0].id="jqxScrollThumb"+r,this.areaUp[0].id="jqxScrollAreaUp"+r,this.areaDown[0].id="jqxScrollAreaDown"+r,this.scrollWrap[0].id="jqxScrollWrap"+r,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+r,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=e.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=e.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(e,t,i,s){isNaN(s)||i!=s&&e.setPosition(parseFloat(s),!0)},this.propertyChangeMap.width=function(e,t,i,s){void 0!=e.width&&parseInt(e.width)>0&&(e.host.width(parseInt(e.width)),e._arrange())},this.propertyChangeMap.height=function(e,t,i,s){void 0!=e.height&&parseInt(e.height)>0&&(e.host.height(parseInt(e.height)),e._arrange())},this.propertyChangeMap.theme=function(e,t,i,s){e.setTheme()},this.propertyChangeMap.max=function(e,t,i,s){isNaN(s)||i!=s&&(e.max=parseInt(s),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.min=function(e,t,i,s){isNaN(s)||i!=s&&(e.min=parseInt(s),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.disabled=function(e,t,i,s){i!=s&&(s?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.btnUp.jqxRepeatButton("disabled",e.disabled),e.btnDown.jqxRepeatButton("disabled",e.disabled),e.btnThumb.jqxButton("disabled",e.disabled))},this.propertyChangeMap.touchMode=function(e,t,i,s){i!=s&&(e._updateTouchBehavior(),!0===s?(e.showButtons=!1,e.refresh()):!1===s&&(e.showButtons=!0,e.refresh()))},this.propertyChangeMap.rtl=function(e,t,i,s){i!=s&&e.refresh()},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=e.jqx.mobile.isTouchDevice(),1==this.touchMode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return void this.setTheme();this.isTouchDevice=!0,e.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()}else 0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var t=this,i=!1;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(i=!0,this._touchSupport=!0)}catch(e){}if((t.isTouchDevice||i)&&(this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchend"),function(e){var i=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),s=t.toThemeProperty("jqx-fill-state-pressed");return t.btnThumb.removeClass(i),t.btnThumb.removeClass(s),t.disabled||t.handlemouseup(t,e),!1}),this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchstart"),function(e){if(!t.disabled){if(1==t.touchMode)e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY;else{var i=e;i.originalEvent.touches&&i.originalEvent.touches.length?(e.clientX=i.originalEvent.touches[0].clientX,e.clientY=i.originalEvent.touches[0].clientY):(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)}t.handlemousedown(e),e.preventDefault&&e.preventDefault()}}),e.jqx.mobile.touchScroll(this.element,t.max,function(e,i,s,r,n){if("visible"==t.host.css("visibility")){if(1==t.touchMode)n.clientX=n.originalEvent.clientX,n.clientY=n.originalEvent.clientY;else{var a=n;a.originalEvent.touches&&a.originalEvent.touches.length?(n.clientX=a.originalEvent.touches[0].clientX,n.clientY=a.originalEvent.touches[0].clientY):(n.clientX=n.originalEvent.clientX,n.clientY=n.originalEvent.clientY)}var o=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");t.btnThumb.addClass(o),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.thumbCapture=!0,t.handlemousemove(n)}},t.element.id,t.host,t.host)),!this.isTouchDevice){try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var s=null;if(window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)){var r=function(e){t.disabled||t.handlemouseup(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",r,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",r)}}}catch(e){}var n="click mouseup mousedown";this.addHandler(this.btnDown,n,function(e){var i=t.step;switch(Math.abs(t.max-t.min)<=i&&(i=1),t.rtl&&!t.vertical&&(i=-t.step),e.type){case"click":t.buttonDownCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value+i):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value+i);break;case"mouseup":if(!t.btnDownInstance.base.disabled&&t.buttonDownCapture)return t.buttonDownCapture=!1,t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","down"),t.handlemouseup(t,e),t.setPosition(t.value+i),!1;break;case"mousedown":if(!t.btnDownInstance.base.disabled)return t.buttonDownCapture=!0,t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","down"),!1}}),this.addHandler(this.btnUp,n,function(e){var i=t.step;switch(Math.abs(t.max-t.min)<=i&&(i=1),t.rtl&&!t.vertical&&(i=-t.step),e.type){case"click":t.buttonUpCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value-i):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value-i);break;case"mouseup":if(!t.btnUpInstance.base.disabled&&t.buttonUpCapture)return t.buttonUpCapture=!1,t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","up"),t.handlemouseup(t,e),t.setPosition(t.value-i),!1;break;case"mousedown":if(!t.btnUpInstance.base.disabled)return t.buttonUpCapture=!0,t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","up"),!1}})}var a="click";if(this.isTouchDevice&&(a=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,a,function(e){if(!t.disabled){var i=t.largestep;return t.rtl&&!t.vertical&&(i=-t.largestep),t.setPosition(t.value-i),!1}}),this.addHandler(this.areaDown,a,function(e){if(!t.disabled){var i=t.largestep;return t.rtl&&!t.vertical&&(i=-t.largestep),t.setPosition(t.value+i),!1}}),this.addHandler(this.areaUp,"mousedown",function(e){if(!t.disabled)return t.areaUpCapture=!0,!1}),this.addHandler(this.areaDown,"mousedown",function(e){if(!t.disabled)return t.areaDownCapture=!0,!1}),this.addHandler(this.btnThumb,"mousedown dragstart",function(e){if("dragstart"===e.type)return!1;t.disabled||t.handlemousedown(e),e.preventDefault&&e.preventDefault()}),this.addHandler(e(document),"mouseup."+this.element.id,function(e){t.disabled||t.handlemouseup(t,e)}),!this.isTouchDevice&&(this.mousemoveFunc=function(e){t.disabled||t.handlemousemove(e)},this.addHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(e(document),"mouseleave."+this.element.id,function(e){t.disabled||t.handlemouseleave(e)}),this.addHandler(e(document),"mouseenter."+this.element.id,function(e){t.disabled||t.handlemouseenter(e)}),!t.disabled)){this.addHandler(this.btnUp,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","up")):t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","up"))});var o=t.toThemeProperty("jqx-scrollbar-thumb-state-hover");t.vertical||(o=t.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||1==t.touchMode||(t.btnThumb.addClass(o),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-hover"))):t.disabled||1==t.touchMode||(t.btnThumb.removeClass(o),t.btnThumb.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnDown,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","down")):t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","down"))})}},destroy:function(){var t=this.btnUp,i=this.btnDown,s=this.btnThumb,r=(this.scrollWrap,this.areaUp),n=this.areaDown;this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,n.removeClass(),r.removeClass(),i.removeClass(),t.removeClass(),s.removeClass(),t.jqxRepeatButton("destroy"),i.jqxRepeatButton("destroy"),r.jqxRepeatButton("destroy"),n.jqxRepeatButton("destroy"),s.jqxButton("destroy");var a=e.data(this.element,"jqxScrollBar");this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,a&&delete a.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(e(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(e(document),"mousemove."+this.element.id),this.removeHandler(e(document),"mouseleave."+this.element.id),this.removeHandler(e(document),"mouseenter."+this.element.id)},_addArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&void 0!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&void 0!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&void 0!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&void 0!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},_removeArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&void 0!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&void 0!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&void 0!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&void 0!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},setTheme:function(){var t=this.btnUp,i=this.btnDown,s=this.btnThumb,r=this.scrollWrap,n=(this.areaUp,this.areaDown,this.arrowUp),a=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var o=this.toThemeProperty("jqx-reset");this.areaDown[0].className=o,this.areaUp[0].className=o;var l=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(l),this.isTouchDevice&&this.host.addClass(this.toThemeProperty("jqx-scrollbar-mobile")),i[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),t[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var h="";if(this.vertical?(n[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-up"),a[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-down"),h=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(n[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-left"),a[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-right"),h=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),h+=" "+this.toThemeProperty("jqx-fill-state-normal"),s[0].className=h,this.disabled?(r.addClass(this.toThemeProperty("jqx-fill-state-disabled")),r.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(r.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),r.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical){var d=e.jqx.cssroundedcorners("top");d=this.toThemeProperty(d),t.addClass(d);var c=e.jqx.cssroundedcorners("bottom");c=this.toThemeProperty(c),i.addClass(c)}else{var u=e.jqx.cssroundedcorners("left");u=this.toThemeProperty(u),t.addClass(u);var f=e.jqx.cssroundedcorners("right");f=this.toThemeProperty(f),i.addClass(f)}else{var p=e.jqx.cssroundedcorners(this.roundedCorners);p=this.toThemeProperty(p),elBtnUp.addClass(p),elBtnDown.addClass(p)}var p=e.jqx.cssroundedcorners(this.roundedCorners);p=this.toThemeProperty(p),s.hasClass(p)||s.addClass(p),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return void 0!=this.thumbCapture&&void 0!=this.buttonDownCapture&&void 0!=this.buttonUpCapture&&void 0!=this.areaDownCapture&&void 0!=this.areaUpCapture&&(this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture)},track:function(){var e,t,i,s;e=Date.now(),t=e-this.timestamp,this.timestamp=e,i=this.offset-this.frame,this.frame=this.offset,s=1e3*i/(1+t),this.velocity=.2*s+.2*this.velocity},handlemousedown:function(t){if(void 0==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var i=this.btnThumb;null!=i&&(i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.vertical?i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}var s=this;this.thumbCapture&&e.jqx.scrollAnimation&&function(e){s.reference=parseInt(s.btnThumb[0].style.top),s.offset=parseInt(s.btnThumb[0].style.top),s.vertical||(s.reference=parseInt(s.btnThumb[0].style.left),s.offset=parseInt(s.btnThumb[0].style.left)),s.velocity=s.amplitude=0,s.frame=s.offset,s.timestamp=Date.now(),clearInterval(s.ticker),s.ticker=setInterval(function(){s.track()},100)}(),this.dragStartX=t.clientX,this.dragStartY=t.clientY,this.dragStartValue=this.value},toggleHover:function(e,t){},refresh:function(){this._arrange()},_setElementPosition:function(e,t,i){isNaN(t)||parseInt(e[0].style.left)!=parseInt(t)&&(e[0].style.left=t+"px"),isNaN(i)||parseInt(e[0].style.top)!=parseInt(i)&&(e[0].style.top=i+"px")},_setElementTopPosition:function(e,t){isNaN(t)||(e[0].style.top=t+"px")},_setElementLeftPosition:function(e,t){isNaN(t)||(e[0].style.left=t+"px")},handlemouseleave:function(e){var t=this.btnUp,i=this.btnDown;if((this.buttonDownCapture||this.buttonUpCapture)&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture){var s=this.btnThumb,r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");s.removeClass(r),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemouseenter:function(e){var t=this.btnUp,i=this.btnDown;if(this.buttonUpCapture&&(t.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(i.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),1==this.thumbCapture){var s=this.btnThumb;this.vertical?s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),s.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemousemove:function(e){var t=this.btnUp,i=this.btnDown;if(null!=i&&null!=t){if(null!=t&&null!=i&&void 0!=this.buttonDownCapture&&void 0!=this.buttonUpCapture&&(this.buttonDownCapture&&0==e.which?(i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&0==e.which&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;var s=this.btnThumb;if(0==e.which&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=!1,this._arrange();var r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");return s.removeClass(r),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}void 0!=e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation();var n=0;try{n=this.vertical?e.clientY-this.dragStartY:e.clientX-this.dragStartX;var a=this._btnAndThumbSize;this._btnAndThumbSize||(a=this.vertical?t.height()+i.height()+s.height():t.width()+i.width()+s.width());var o=(this.max-this.min)/(this.scrollBarSize-a);if("auto"!=this.thumbStep){if(n*=o,Math.abs(this.dragStartValue+n-this.value)>=parseInt(this.thumbStep)){var l=Math.round(parseInt(n)/this.thumbStep)*this.thumbStep;return this.rtl&&!this.vertical?this.setPosition(this.dragStartValue-l):this.setPosition(this.dragStartValue+l),!1}return!1}n*=o;var l=n;this.rtl&&!this.vertical&&(l=-n),this.setPosition(this.dragStartValue+l),this.offset=parseInt(s[0].style.left),this.vertical&&(this.offset=parseInt(s[0].style.top))}catch(e){alert(e)}return!1}},handlemouseup:function(t,i){function s(){var e,t;if(o.amplitude)if(e=Date.now()-o.timestamp,(t=-o.amplitude*Math.exp(-e/325))>.5||t<-.5){var i=(o.max-o.min)/(o.scrollBarSize-o._btnAndThumbSize),r=i*(o.target+t),n=r;o.rtl&&!o.vertical&&(n=-r),o.setPosition(o.dragStartValue+n),requestAnimationFrame(s)}else{var i=(o.max-o.min)/(o.scrollBarSize-o._btnAndThumbSize),r=i*(o.target+t),n=r;o.rtl&&!o.vertical&&(n=-r),o.setPosition(o.dragStartValue+n)}}var r=!1;if(this.thumbCapture){this.thumbCapture=!1;var n=this.btnThumb,a=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");if(n.removeClass(a),n.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),r=!0,this._mouseup=new Date,e.jqx.scrollAnimation){var o=this;clearInterval(this.ticker),(this.velocity>25||this.velocity<-25)&&(this.amplitude=.8*this.velocity,
this.target=Math.round(this.offset+this.amplitude),this.vertical,this.target-=this.reference,this.timestamp=Date.now(),requestAnimationFrame(s))}}if(this.areaDownCapture=this.areaUpCapture=!1,this.buttonUpCapture||this.buttonDownCapture){var l=this.btnUp,h=this.btnDown;this.buttonUpCapture=!1,this.buttonDownCapture=!1,l.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),h.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),l.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),h.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),r=!0,this._mouseup=new Date}r&&(void 0!=i.preventDefault&&i.preventDefault(),null!=i.originalEvent&&(i.originalEvent.mouseHandled=!0),void 0!=i.stopPropagation&&i.stopPropagation())},setPosition:function(t,i){this.element;if(void 0!=t&&NaN!=t||(t=this.min),t>=this.max&&(t=this.max),t<this.min&&(t=this.min),this.value!==t||1==i){if(t==this.max){var s=new e.Event("complete");this.host.trigger(s)}var r=this.value;if(this._triggervaluechanged){var n=new e.Event("valueChanged");n.previousValue=this.value,n.currentValue=t}this.value=t,this._positionelements(),this._triggervaluechanged&&this.host.trigger(n),this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:r})}return t},val:function(e){return function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&("date"!=typeof e&&("boolean"!=typeof e&&"string"!=typeof e))}(e)||0==arguments.length?this.value:(this.setPosition(e),e)},_getThumbSize:function(e){var t=this.max-this.min,i=0;return t>1?i=e/(t+e)*e:1==t?i=e-1:0==t&&(i=e),this.thumbSize>0&&(i=this.thumbSize),i<this.thumbMinSize&&(i=this.thumbMinSize),Math.min(i,e)},_positionelements:function(){var e=(this.element,this.areaUp),t=this.areaDown,i=(this.btnUp,this.btnDown,this.btnThumb),s=(this.scrollWrap,this._height?this._height:this.host.height()),r=this._width?this._width:this.host.width(),n=this.vertical?r:s;this.showButtons||(n=0);var a=this.vertical?s:r;this.scrollBarSize=a;var o=this._getThumbSize(a-2*n);o=Math.floor(o),o<this.thumbMinSize&&(o=this.thumbMinSize),(NaN==s||s<10)&&(s=10),(NaN==r||r<10)&&(r=10),n+=2,this.btnSize=n;var l=this._btnAndThumbSize;if(!this._btnAndThumbSize){var l=this.vertical?2*this.btnSize+i.outerHeight():2*this.btnSize+i.outerWidth();l=Math.round(l)}var h=(a-l)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(h=(a-l)/(this.max-this.min)*(this.max-this.value-this.min)),h=Math.round(h),h<0&&(h=0),this.vertical){var d=a-h-l;d<0&&(d=0),t[0].style.height=d+"px",e[0].style.height=h+"px",this._setElementTopPosition(e,n),this._setElementTopPosition(i,n+h),this._setElementTopPosition(t,n+h+o)}else e[0].style.width=h+"px",t[0].style.width=a-h-l>=0?a-h-l+"px":"0px",this._setElementLeftPosition(e,n),this._setElementLeftPosition(i,n+h),this._setElementLeftPosition(t,2+n+h+o)},_arrange:function(){var e=this;if(e._initialLayout)return void(e._initialLayout=!1);if(e.min>e.max){var t=e.min;e.min=e.max,e.max=t}if(e.min<0){var i=e.max-e.min;e.min=0,e.max=i}var s=(e.element,e.areaUp),r=e.areaDown,n=e.btnUp,a=e.btnDown,o=e.btnThumb,l=e.scrollWrap,h=parseInt(e.element.style.height),d=parseInt(e.element.style.width);if(e.isPercentage)var h=e.host.height(),d=e.host.width();isNaN(h)&&(h=0),isNaN(d)&&(d=0),e._width=d,e._height=h;var c=e.vertical?d:h;e.showButtons||(c=0),n[0].style.width=c+"px",n[0].style.height=c+"px",a[0].style.width=c+"px",a[0].style.height=c+"px",e.vertical?l[0].style.width=d+2+"px":l[0].style.height=h+2+"px",e._setElementPosition(n,0,0);var u=c+2;e.vertical?e._setElementPosition(a,0,h-u):e._setElementPosition(a,d-u,0);var f=e.vertical?h:d;e.scrollBarSize=f;var p=e._getThumbSize(f-2*u);(p=Math.floor(p-2))<e.thumbMinSize&&(p=e.thumbMinSize);var m=!1;e.isTouchDevice&&0!=e.touchModeStyle&&(m=!0),e.vertical?(o[0].style.width=d+"px",o[0].style.height=p+"px",m&&0!==e.thumbTouchSize&&(o.css({width:e.thumbTouchSize+"px"}),o.css("margin-left",(e.host.width()-e.thumbTouchSize)/2))):(o[0].style.width=p+"px",o[0].style.height=h+"px",m&&0!==e.thumbTouchSize&&(o.css({height:e.thumbTouchSize+"px"}),o.css("margin-top",(e.host.height()-e.thumbTouchSize)/2))),(NaN==h||h<10)&&(h=10),(NaN==d||d<10)&&(d=10),e.btnSize=c;var g=e.vertical?2*u+(2+parseInt(o[0].style.height)):2*u+(2+parseInt(o[0].style.width));g=Math.round(g),e._btnAndThumbSize=g;var v=(f-g)/(e.max-e.min)*(e.value-e.min);if(e.rtl&&!e.vertical&&(v=(f-g)/(e.max-e.min)*(e.max-e.value-e.min)),v=Math.round(v),(isNaN(v)||v<0||v===-1/0||v===1/0)&&(v=0),e.vertical){var x=f-v-g;x<0&&(x=0),r[0].style.height=x+"px",r[0].style.width=d+"px",s[0].style.height=v+"px",s[0].style.width=d+"px";var y=parseInt(e.element.style.height);e.isPercentage&&(y=e.host.height()),o[0].style.visibility="inherit",(y-3*parseInt(c)<0||y<g)&&(o[0].style.visibility="hidden"),e._setElementPosition(s,0,u),e._setElementPosition(o,0,u+v),e._setElementPosition(r,0,u+v+p)}else{v>0&&(s[0].style.width=v+"px"),h>0&&(s[0].style.height=h+"px");var w=f-v-g;w<0&&(w=0),r[0].style.width=w+"px",r[0].style.height=h+"px";var b=parseInt(e.element.style.width);e.isPercentage&&(b=e.host.width()),o[0].style.visibility="inherit",(b-3*parseInt(c)<0||b<g)&&(o[0].style.visibility="hidden"),e._setElementPosition(s,u,0),e._setElementPosition(o,u+v,0),e._setElementPosition(r,u+v+p,0)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxListBox","",{}),e.extend(e.jqx._jqxListBox.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,multiple:!1,selectedIndex:-1,selectedIndexes:new Array,source:null,scrollBarSize:e.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:new Array,emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,_renderOnDemand:!1,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,filterChange:null,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete"]};return e.extend(!0,this,t),t},createInstance:function(t){var i=this;15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),null==i.width&&(i.width=200),null==i.height&&(i.height=200),i.renderListBox();var s=i;e.jqx.utilities.resize(i.host,function(){s._updateSize()},!1,i._checkForHiddenParent)},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},render:function(){this.renderListBox(),this.refresh()},renderListBox:function(){var t=this,i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var s={title:t.field.title};t.field.id.length?s.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":s.id=e.jqx.utilities.createId()+"_jqxListBox";var r=e("<div></div>",s);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),t.element.style.cssText=t.field.style.cssText,e(t.field).hide().after(r);var n=t.host.data();if(t.host=r,t.host.data(n),t.element=r[0],t.element.id=t.field.id,t.field.id=s.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var a=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=a}}t.element.innerHTML="";var t=t,o=t.element.className;o+=" "+t.toThemeProperty("jqx-listbox"),o+=" "+t.toThemeProperty("jqx-reset"),o+=" "+t.toThemeProperty("jqx-rc-all"),o+=" "+t.toThemeProperty("jqx-widget"),o+=" "+t.toThemeProperty("jqx-widget-content"),t.element.className=o;null!=t.width&&-1!=t.width.toString().indexOf("%")&&t.host.width(t.width),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.height(t.height),0==t.host.height()&&t.host.height(200)),null!=t.width&&-1!=t.width.toString().indexOf("px")?t.host.width(t.width):void 0==t.width||isNaN(t.width)||(t.element.style.width=parseInt(t.width)+"px"),null!=t.height&&-1!=t.height.toString().indexOf("px")?t.host.height(t.height):void 0==t.height||isNaN(t.height)||(t.element.style.height=parseInt(t.height)+"px"),t.multiple||t.multipleextended||t.checkboxes?e.jqx.aria(t,"aria-multiselectable",!0):e.jqx.aria(t,"aria-multiselectable",!1);var l="<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+t.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>";t.host.attr("role","listbox"),t.element.innerHTML=l,t._checkForHiddenParent&&(t._addInput(),t.host.attr("tabIndex")||t.host.attr("tabIndex",1)),t.filter=e(t.element.firstChild.firstChild.firstChild),t.filterInput=e(t.filter[0].firstChild),t.filterInput.attr("placeholder",t.filterPlaceHolder),t.filterInput.addClass(t.toThemeProperty("jqx-widget jqx-listbox-filter-input jqx-input jqx-rc-all")),t.addHandler(t.filterInput,"keyup.textchange",function(e){13==e.keyCode?t._search(e):t.filterDelay>0&&(t._filterTimer&&clearTimeout(t._filterTimer),t._filterTimer=setTimeout(function(){t._search(e)},t.filterDelay)),e.stopPropagation()});var h=e(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling);if(!t.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!h.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var d=parseInt(t.host.height())/2;0==d&&(d=10),t.vScrollBar=h.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:t.rtl,theme:t.theme,touchMode:t.touchMode,largestep:d});var c=e(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling);if(t.hScrollBar=c.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:t.rtl,touchMode:t.touchMode,theme:t.theme}),t.content=e(t.element.firstChild.firstChild.firstChild.nextSibling),t.content[0].id="listBoxContent"+t.element.id,t.bottomRight=e(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling.nextSibling).addClass(t.toThemeProperty("jqx-listbox-bottomright")).addClass(t.toThemeProperty("jqx-scrollbar-state-normal")),t.bottomRight[0].id="bottomRight"+t.element.id,t.vScrollInstance=e.data(t.vScrollBar[0],"jqxScrollBar").instance,t.hScrollInstance=e.data(t.hScrollBar[0],"jqxScrollBar").instance,t.isTouchDevice()&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var u=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(u),t.overlayContent=t.host.find(".overlay"),t.filterable&&t.overlayContent.css("top","30px")}t._updateTouchScrolling(),t.host.addClass("jqx-disableselect"),t.host.jqxDragDrop&&jqxListBoxDragDrop()},_highlight:function(e,t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+i+")","ig"),function(e,t){return"<b>"+t+"</b>"})},_addInput:function(){var t=this.host.attr("name");t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t)},_updateTouchScrolling:function(){var t=this;if(this.isTouchDevice()){t.enableHover=!1;var i=this.overlayContent?this.overlayContent:this.content;this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(e(i),"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(i,t.vScrollInstance.max,function(e,i){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i),t._lastScroll=new Date}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e),t._lastScroll=new Date}},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,this.element.id):e.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(e.jqx.browser.msie&&e.jqx.browser.version<9)return!1;this.touchDevice=!0,t=!0,e.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t&&this.host.addClass(this.toThemeProperty("jqx-touch")),t},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this._addItems(),this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._cachedItemHtml=new Array,e.refresh())},propertyChangedHandler:function(t,i,s,r){if(void 0!=this.isInitialized&&0!=this.isInitialized&&s!=r&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("_renderOnDemand"==i&&(t._render(!1,!0),-1!=t.selectedIndex)){var n=t.selectedIndex;t.selectedIndex=-1,t._stopEvents=!0,t.selectIndex(n,!1,!0),-1==t.selectedIndex&&(t.selectedIndex=n),t._stopEvents=!1}if("filterable"==i&&t.refresh(),"filterHeight"==i&&t._arrange(),"filterPlaceHolder"==i&&t.filterInput.attr("placeholder",r),"renderer"==i&&(t._cachedItemHtml=new Array,t.refresh()),"itemHeight"==i&&t.refresh(),"source"!=i&&"checkboxes"!=i||(null==r&&s&&s.unbindBindingUpdate&&(s.unbindBindingUpdate(t.element.id),s.unbindDownloadComplete(t.element.id)),t.clearSelection(),t.refresh()),"scrollBarSize"!=i&&"equalItemsWidth"!=i||r!=s&&t._updatescrollbars(),"disabled"==i&&(t._renderItems(),t.vScrollBar.jqxScrollBar({disabled:r}),t.hScrollBar.jqxScrollBar({disabled:r})),"touchMode"==i||"rtl"==i){if(t._removeHandlers(),t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),"touchMode"==i&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var a=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(a),t.overlayContent=t.host.find(".overlay")}t.filterable&&t.filterInput&&("rtl"==i&&r?t.filterInput.addClass(t.toThemeProperty("jqx-rtl")):"rtl"!=i||r||t.filterInput.removeClass(t.toThemeProperty("jqx-rtl")),t._arrange()),t._updateTouchScrolling(),t._addHandlers(),t._render(!1)}if(this.updating||"width"!=i&&"height"!=i||t._updateSize(),"theme"==i&&s!=r&&(t.hScrollBar.jqxScrollBar({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.host.removeClass(),t.host.addClass(t.toThemeProperty("jqx-listbox")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.refresh()),"selectedIndex"==i&&(t.clearSelection(),t.selectIndex(r,!0)),"displayMember"==i||"valueMember"==i){if(s!=r){var o=t.selectedIndex;t.refresh(),t.selectedIndex=o,t.selectedIndexes[o]=o}t._renderItems()}"autoHeight"==i&&(s!=r?t._render(!1):(t._updatescrollbars(),t._renderItems())),t._checkForHiddenParent&&e.jqx.isHidden(t.host)&&e.jqx.utilities.resize(this.host,function(){t._updateSize()},!1,t._checkForHiddenParent)}},loadFromSelect:function(t){if(null!=t){var i="#"+t,s=e(i);if(s.length>0){var r=e.jqx.parseSourceTag(s[0]),n=r.items,a=r.index;this.source=n,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=a,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(t){var i=this;if(void 0!=this.vScrollBar){this._cachedItemHtml=[],this.visibleItems=new Array;var s=function(e){if(1==e&&-1!=i.selectedIndex){var t=i.selectedIndex;i.selectedIndex=-1,i._stopEvents=!0,i.selectIndex(t,!1,!0),-1==i.selectedIndex&&(i.selectedIndex=t),i._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),e.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,t),void s(t);(this.autoBind||!this.autoBind&&!t)&&(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source)),this._render(!1,1==t),s(t),this._raiseEvent("6")}},loadSelectTag:function(){var t=e.jqx.parseSourceTag(this.field);this.source=t.items,-1==this.selectedIndex&&(this.selectedIndex=t.index)},_render:function(e,t){return this._renderOnDemand?(this.visibleItems=new Array,this.renderedVisibleItems=new Array,void this._renderItems()):(this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(void 0==e||e)&&void 0!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready())))},_hitTest:function(e,t){this.filterable&&(t-=this.filterHeight)<0&&(t=0);var i=parseInt(this.vScrollInstance.value),s=this._searchFirstVisibleIndex(t+i,this.renderedVisibleItems);if(void 0!=this.renderedVisibleItems[s]&&this.renderedVisibleItems[s].isGroup)return null;if(this.renderedVisibleItems.length>0){var r=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(r.height+r.top<t+i)return null}return s=this._searchFirstVisibleIndex(t+i),this.visibleItems[s]},_searchFirstVisibleIndex:function(e,t){void 0==e&&(e=parseInt(this.vScrollInstance.value));var i=0;void 0!=t&&null!=t||(t=this.visibleItems);for(var s=t.length;i<=s;){mid=parseInt((i+s)/2);var r=t[mid];if(void 0==r)break;if(r.initialTop>e&&r.initialTop+r.height>e)s=mid-1;else{if(!(r.initialTop<e&&r.initialTop+r.height<=e))return mid;i=mid+1}}return 0},_renderItems:function(){if(void 0==this.items||0==this.items.length)return void(this.visibleItems=new Array);if(1!=this.updatingListBox){var t=this.isTouchDevice(),i=this.vScrollInstance,s=this.hScrollInstance,r=parseInt(i.value),n=parseInt(s.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(n=s.max-n);var a=(this.items.length,this.host.width(),parseInt(this.content[0].style.width)),o=a+parseInt(s.max);parseInt(this.vScrollBar[0].style.width);"hidden"==this.vScrollBar[0].style.visibility&&0,"visible"!=this.hScrollBar[0].style.visibility&&(o=a);var l=(this._getVirtualItemsCount(),new Array),h=0,d=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(d=this.host.outerHeight()),isNaN(d)&&(d=0);var c=0,u=0,f=0;if(0==i.value||0==this.visibleItems.length)for(var p=0;p<this.items.length;p++){var m=this.items[p];if(m.visible){m.top=-r,m.initialTop=-r,!m.isGroup&&m.visible&&(this.visibleItems[u++]=m,m.visibleIndex=u-1),this.renderedVisibleItems[f++]=m,m.left=-n;var g=m.top+m.height;g>=0&&m.top-m.height<=d&&(l[h++]={index:p,item:m}),r-=m.height,r--}}var v=r>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,x=0;h=0;for(var y=this.vScrollInstance.value,w=0;x<100+d;){var m=this.renderedVisibleItems[v];if(void 0==m)break;if(m.visible){m.left=-n;var g=m.top+m.height-y;g>=0&&m.initialTop-y-m.height<=2*d&&(l[h++]={index:v,item:m})}if(v++,m.visible&&(x+=m.initialTop-y+m.height-x),++w>this.items.length-1)break}if(!this._renderOnDemand)for(var b=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),_=this.toThemeProperty("jqx-listitem-state-group"),T=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),j=0,C=this,p=0;p<this.visualItems.length;p++){var S=this.visualItems[p],q=function(){var e=S[0].firstChild;if(C.checkboxes&&(e=S[0].lastChild),null!=e&&(e.style.visibility="hidden",e.className=""),C.checkboxes){S.find(".chkbox").css({visibility:"hidden"})}};if(p<l.length){var m=l[p].item;if(m.initialTop-y>=d){q();continue}var k=e(S[0].firstChild);if(this.checkboxes&&(k=e(S[0].lastChild)),0==k.length)continue;if(null==k[0])continue;k[0].className="",k[0].style.display="block",k[0].style.visibility="inherit";var D="";if(D=!m.isGroup&&!this.selectedIndexes[m.index]>=0?b:_,(m.disabled||this.disabled)&&(D+=" "+T),this.roundedcorners&&(D+=" "+this.toThemeProperty("jqx-rc-all")),t&&(D+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),k[0].className=D,this.renderer)if(m.key||(m.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[m.key])k[0].innerHTML!=this._cachedItemHtml[m.key]&&(k[0].innerHTML=this._cachedItemHtml[m.key]);else{var I=this.renderer(m.index,m.label,m.value);k[0].innerHTML=I,this._cachedItemHtml[m.key]=k[0].innerHTML}else{if(-1!==this.itemHeight){var M=2+2*parseInt(k.css("padding-top"));k[0].style.lineHeight=m.height-M+"px",k.css("vertical-align","middle")}null!=m.html&&m.html.toString().length>0?k[0].innerHTML=m.html:null!=m.label||null!=m.value?null!=m.label?(k[0].innerHTML!==m.label&&(k[0].innerHTML=m.label),""==e.trim(m.label)&&(k[0].innerHTML=this.emptyString,""==this.emptyString&&(k[0].style.height=m.height-8+"px")),this.incrementalSearch||m.disabled||void 0!=this.searchString&&""!=this.searchString&&(k[0].innerHTML=this._highlight(m.label.toString(),this.searchString))):null===m.label?(k[0].innerHTML=this.emptyString,""==this.emptyString&&(k[0].style.height=m.height-8+"px")):k[0].innerHTML!==m.value?k[0].innerHTML=m.value:""==m.label&&(k[0].innerHTML=" "):""!=m.label&&null!=m.label||(k[0].innerHTML="",k[0].style.height=m.height-8+"px")}if(S[0].style.left=m.left+"px",S[0].style.top=m.initialTop-y+"px",m.element=k[0],m.title&&(k[0].title=m.title),this.equalItemsWidth&&!m.isGroup){if(0==c){var P=parseInt(o),H=parseInt(k.outerWidth())-parseInt(k.width());P-=H;var A=1;A=null!=A?parseInt(A):0,P-=2*A,c=P,this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(c-=18)}a>this.virtualSize.width?(k[0].style.width=c+"px",m.width=c):(k[0].style.width=-4+this.virtualSize.width+"px",m.width=this.virtualSize.width-4)}else k.width()<this.host.width()&&k.width(this.host.width()-2);if(this.rtl&&(k[0].style.textAlign="right"),this.autoItemsHeight&&(k[0].style.whiteSpace="pre-line",k.width(c),m.width=c),j=0,this.checkboxes&&!m.isGroup){0==j&&(j=(m.height-16)/2,j++);var B=e(S.children()[0]);B[0].item=m,this.rtl?"0px"!=k[0].style.left&&(k[0].style.left="0px"):"18px"!=k[0].style.left&&(k[0].style.left="18px"),this.rtl&&B.css("left",8+m.width+"px"),B[0].style.top=j+"px",B[0].style.display="block",B[0].style.visibility="inherit";var N=m.checked,O=m.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";B[0].firstChild&&B[0].firstChild.firstChild&&B[0].firstChild.firstChild.firstChild&&B[0].firstChild.firstChild&&(N?B[0].firstChild.firstChild.firstChild.className=O:!1===N?B[0].firstChild.firstChild.firstChild.className="":null===N&&(B[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),e.jqx.ariaEnabled&&(N?S[0].setAttribute("aria-selected",!0):S[0].removeAttribute("aria-selected"))}else if(this.checkboxes){var B=e(S.children()[0]);B.css({display:"none",visibility:"inherit"})}!m.disabled&&(!this.filterable&&this.selectedIndexes[m.visibleIndex]>=0||m.selected&&this.filterable)?(k.addClass(this.toThemeProperty("jqx-listitem-state-selected")),k.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.ariaEnabled&&(S[0].setAttribute("aria-selected",!0),this._activeElement=S[0])):this.checkboxes||e.jqx.ariaEnabled&&S[0].removeAttribute("aria-selected")}else q()}}},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_calculateVirtualSize:function(t){if(!this._renderOnDemand){var i=0,s=2,r=0,n=document.createElement("span");this.equalItemsWidth&&e(n).css("float","left"),n.style.whiteSpace="pre";var a=0,o=void 0===t?this.host.outerHeight():t+2;document.body.appendChild(n);var l=this.items.length,h=this.host.width();if(this.autoItemsHeight&&(h-=10,"hidden"!=this.vScrollBar.css("visibility")&&(h-=20)),this.autoItemsHeight||this.renderer||this.groups.length>=1||l>0&&null!=this.items[0].html&&""!=this.items[0].html)for(var r=0;r<l;r++){var d=this.items[r];if((!d.isGroup||""!=d.label||""!=d.html)&&d.visible){var c="";if(d.isGroup?c+=this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"):c+=this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-rc-all"),c+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(c+=" "+this.toThemeProperty("jqx-touch")),n.className=c,this.autoItemsHeight){n.style.whiteSpace="pre-line";var u=this.checkboxes?-20:0;n.style.width=u+h+"px"}if(this.renderer){var f=this.renderer(d.index,d.label,d.value);n.innerHTML=f}else null!=d.html&&d.html.toString().length>0?n.innerHTML=d.html:null==d.label&&null==d.value||(null!=d.label?(n.innerHTML=d.label,""==d.label&&(n.innerHTML="Empty")):n.innerHTML=d.value);var p=n.offsetHeight,m=n.offsetWidth;this.itemHeight>-1&&(p=this.itemHeight),d.height=p,d.width=m,p++,s+=p,i=Math.max(i,m),s<=o&&a++}}else{for(var s=0,g=0,v="",x=0,y=0,w=-1,r=0;r<l;r++){var d=this.items[r];if((!d.isGroup||""!=d.label||""!=d.html)&&d.visible){w++;var c="";if(0==w){if(c+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),c+=" "+this.toThemeProperty("jqx-fill-state-normal"),c+=" "+this.toThemeProperty("jqx-widget"),c+=" "+this.toThemeProperty("jqx-listbox"),c+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(c+=" "+this.toThemeProperty("jqx-touch"),c+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),n.className=c,this.autoItemsHeight){n.style.whiteSpace="pre-line";var u=this.checkboxes?-20:0;n.style.width=u+h+"px"}null==d.html||""==d.label||null==d.label?n.innerHTML="Item":null!=d.html&&d.html.toString().length>0?n.innerHTML=d.html:null==d.label&&null==d.value||(null!=d.label?null!=d.label.toString().match(new RegExp("\\w"))||null!=d.label.toString().match(new RegExp("\\d"))?n.innerHTML=d.label:n.innerHTML="Item":n.innerHTML=d.value);var p=1+n.offsetHeight;this.itemHeight>-1&&(p=this.itemHeight),g=p}void 0!=x&&(y=x),null!=d.html&&d.html.toString().length>0?(x=Math.max(x,d.html.toString().length),y!=x&&(v=d.html)):null!=d.label?(x=Math.max(x,d.label.length),y!=x&&(v=d.label)):null!=d.value&&(x=Math.max(x,d.value.length),y!=x&&(v=d.value)),d.height=g,s+=g,s++,s<=o&&a++}}n.innerHTML=v,i=n.offsetWidth}return s+=2,a<10&&(a=10),this.filterable&&(s+=this.filterHeight),n.parentNode.removeChild(n),{width:i,height:s,itemsPerPage:a}}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var e=parseInt(this.host.height())/5;return e>this.items.length&&(e=this.items.length),e}return this.virtualItemsCount},_addItems:function(t){if(!this._renderOnDemand){var i=this;if(1!=i.updatingListBox){if(void 0==i.items||0==i.items.length)return i.virtualSize={width:0,height:0,itemsPerPage:0},i._updatescrollbars(),i.renderedVisibleItems=new Array,void(i.itemswrapper&&i.itemswrapper.children().remove());var s=i.host.height();if(0==t){var r=i._calculateVirtualSize(s),n=2*r.itemsPerPage;i.autoHeight&&(n=i.items.length),i.virtualItemsCount=Math.min(n,i.items.length);r.width;return i.virtualSize=r,void i._updatescrollbars()}var a=this,o=0;i.visibleItems=new Array,i.renderedVisibleItems=new Array,i._removeHandlers(),i.allowDrag&&i._enableDragDrop&&(i.itemswrapper=null),null==i.itemswrapper&&(i.content[0].innerHTML="",i.itemswrapper=e('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),i.itemswrapper[0].style.height=2*s+"px",i.content[0].appendChild(i.itemswrapper[0]));var r=i._calculateVirtualSize(s),n=2*r.itemsPerPage;i.autoHeight&&(n=i.items.length),i.virtualItemsCount=Math.min(n,i.items.length);var i=this;r.width;i.virtualSize=r;var l=Math.max(i.host.width(),17+r.width);i.itemswrapper[0].style.width=l+"px";for(var h="",d=e.jqx.browser.msie&&e.jqx.browser.version<9,c=d?' unselectable="on"':"",u=0;u<i.virtualItemsCount;u++){var f=i.items[u];if(h+="<div"+c+" role='option' id='"+("listitem"+u+i.element.id)+"' class='jqx-listitem-element'>",i.checkboxes){h+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">';var p='<div class="'+i.toThemeProperty("jqx-checkbox-default")+" "+i.toThemeProperty("jqx-fill-state-normal")+" "+i.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">';p+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+(f.checked?" "+i.toThemeProperty("jqx-checkbox-check-checked"):"")+'"></span>',p+="</div></div>",h+=p,h+="</div>"}h+="<span"+c+" style='white-space: pre; -ms-touch-action: none;'></span></div>"}a.WinJS?i.itemswrapper.html(h):i.itemswrapper[0].innerHTML=h;for(var m=i.itemswrapper.children(),u=0;u<i.virtualItemsCount;u++){var f=i.items[u],g=e(m[u]);if(i.allowDrag&&i._enableDragDrop&&g.addClass("draggable"),i.checkboxes){e(g.children()[0]);g.css("float","left");e(g[0].firstChild).css("float","left")}g[0].style.height=f.height+"px",g[0].style.top=o+"px",o+=f.height+1,i.visualItems[u]=g}if(i._addHandlers(),i._updatescrollbars(),i.autoItemsHeight){var r=i._calculateVirtualSize(s),n=2*r.itemsPerPage;i.autoHeight&&(n=i.items.length),i.virtualItemsCount=Math.min(n,i.items.length);var i=this;r.width;i.virtualSize=r,i._updatescrollbars()}e.jqx.browser.msie&&e.jqx.browser.version<8&&(i.host.attr("hideFocus",!0),i.host.find("div").attr("hideFocus",!0))}}},_updatescrollbars:function(){var t=this;if(t.virtualSize){var i=t.virtualSize.height,s=t.virtualSize.width,r=t.vScrollInstance,n=t.hScrollInstance;t._arrange(!1);var a=!1,o=t.host.outerWidth(),l=t.host.outerHeight(),h=0;if(s>o&&(h=t.hScrollBar.outerHeight()+2),i+h>l){var d=r.max;r.max=2+parseInt(i)+h-parseInt(l-2),
"inherit"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="inherit",a=!0),d!=r.max&&r._arrange()}else"hidden"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="hidden",a=!0,r.setPosition(0));var c=0;"hidden"!=t.vScrollBar[0].style.visibility&&(c=t.scrollBarSize+6);var u=t.checkboxes?20:0;if(t.autoItemsHeight)t.hScrollBar[0].style.visibility="hidden";else if(s>=o-c-u){var f=n.max;"inherit"==t.vScrollBar[0].style.visibility?n.max=u+c+parseInt(s)-t.host.width()+4:n.max=u+parseInt(s)-t.host.width()+6,"inherit"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="inherit",a=!0),f!=n.max&&n._arrange(),"inherit"==t.vScrollBar[0].style.visibility&&(r.max=2+parseInt(i)+t.hScrollBar.outerHeight()+2-parseInt(t.host.height()))}else"hidden"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="hidden",a=!0);n.setPosition(0),a&&t._arrange(),t.itemswrapper&&(t.itemswrapper[0].style.width=Math.max(0,Math.max(o-2,17+s))+"px",t.itemswrapper[0].style.height=Math.max(0,2*l)+"px");t.isTouchDevice()&&("visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,t.element.id):e.jqx.mobile.setTouchScroll(!0,t.element.id))}},clear:function(){this.source=null,this.clearSelection(),this.refresh()},clearSelection:function(e){for(var t=0;t<this.selectedIndexes.length;t++)this.selectedIndexes[t]&&-1!=this.selectedIndexes[t]&&this._raiseEvent("1",{index:t,type:"api",item:this.getVisibleItem(t),originalEvent:null}),this.selectedIndexes[t]=-1;this.selectedIndex=-1,this.selectedValue=null,this.selectedValues=new Array,0!=e&&this._renderItems()},unselectIndex:function(e,t){if(!isNaN(e)){this.selectedIndexes[e]=-1;for(var i=!1,s=0;s<this.selectedIndexes.length;s++){var r=this.selectedIndexes[s];-1!=r&&void 0!=r&&(i=!0)}if(!i){this.selectedValue=null,this.selectedIndex=-1;var n=this.getVisibleItem(e);n&&this.selectedValues[n.value]&&(this.selectedValues[n.value]=null)}void 0!=t&&1!=t||(this._renderItems(),this._raiseEvent("1",{index:e,type:"api",item:this.getVisibleItem(e),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:e,type:"api",item:this.getItem(e)})}},getInfo:function(){var e=this,t=this.getItems(),i=this.getVisibleItems(),s=function(){var t=e.vScrollInstance.value;e.filterable&&(t-=e.filterHeight);for(var s=new Array,r=0;r<i.length;r++){var n=i[r];if(n){var a=n.initialTop,o=n.height,l=!0;(a+o-t<0||a-t>=e.host.height())&&(l=!1),l&&s.push(n)}}return s}();return{items:t,visibleItems:i,viewItems:s}},getItem:function(t){if(-1==t||isNaN(t)||"string"==typeof t)return-1===t?null:this.getItemByValue(t);var i=null;e.each(this.items,function(){if(this.index==t)return i=this,!1});return i},getVisibleItem:function(e){return-1==e||isNaN(e)||"string"==typeof e?-1===e?null:this.getItemByValue(e):this.visibleItems[e]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)var r=this.getVisibleItem(t);if(null!=r){e(r.checkBoxElement);r.checked=!0,void 0!=i&&1!=i||this._updateCheckedItems()}void 0!=s&&1!=s||this._raiseEvent(3,{label:r.label,value:r.value,checked:!0,item:r})}},getCheckedItems:function(){if(!this.checkboxes)return null;var t=new Array;if(void 0!=this.items)return e.each(this.items,function(){this.checked&&(t[t.length]=this)}),t},checkAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this;!1!==t&&!0!==e.checked&&i._raiseEvent(3,{label:e.label,value:e.value,checked:!0,item:e}),this.checked=!0}),this._updateCheckedItems()}},uncheckAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this;!1!==t&&!1!==e.checked&&(this.checked=!1,i._raiseEvent(3,{label:e.label,value:e.value,checked:!1,item:e})),this.checked=!1}),this._updateCheckedItems()}},uncheckIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)var r=this.getVisibleItem(t);if(null!=r){e(r.checkBoxElement);r.checked=!1,void 0!=i&&1!=i||this._updateCheckedItems()}void 0!=s&&1!=s||this._raiseEvent(3,{label:r.label,value:r.value,checked:!1,item:r})}},indeterminateIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)var r=this.getVisibleItem(t);if(null!=r){e(r.checkBoxElement);r.checked=null,void 0!=i&&1!=i||this._updateCheckedItems()}void 0!=s&&1!=s||this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var e=this.getVisibleItems(),t=this.selectedIndexes,i=[];for(var s in t)-1!=t[s]&&(i[i.length]=e[s]);return i},getSelectedItem:function(){var e=this.getSelectedItems();return e&&e.length>0?e[0]:null},_updateCheckedItems:function(){var t=this.selectedIndex;this.clearSelection(!1);this.getCheckedItems();this.selectedIndex=t,this._renderItems();var i=e.data(this.element,"hoveredItem");null!=i&&(e(i).addClass(this.toThemeProperty("jqx-listitem-state-hover")),e(i).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(t){if(null!=this.visibleItems){if(t&&t.value&&(t=t.value),this.itemsByValue)return this.itemsByValue[e.trim(t).split(" ").join("?")];for(var i=this.visibleItems,s=0;s<i.length;s++)if(i[s].value==t)return i[s]}},checkItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.checkIndex(t.visibleIndex,!0)}return!1},uncheckItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.uncheckIndex(t.visibleIndex,!0)}return!1},indeterminateItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.indeterminateIndex(t.visibleIndex,!0)}return!1},val:function(e){if(this.input){if(function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&("date"!=typeof e&&("boolean"!=typeof e&&"string"!=typeof e))}(e)||0==arguments.length)return this.input.val();var t=this.getItemByValue(e);return null!=t&&this.selectItem(t),this.input?this.input.val():void 0}},selectItem:function(e){if(null!=e){if(void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.selectIndex(e.visibleIndex,!0)}return this.clearSelection(),!1},unselectItem:function(e){if(null!=e){if(void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.unselectIndex(e.visibleIndex,!0)}return!1},selectIndex:function(e,t,i,s,r,n){if(!isNaN(e)){var a=this.selectedIndex;if(this.filterable&&(this.selectedIndex=-1),!(e<-1||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){if(!(this.multiple||this.multipleextended||this.selectedIndex!=e||s||this.checkboxes))return void(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e))&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value));if(this.checkboxes){this._updateCheckedItems();var o=a;this.selectedIndex!=e||this.multiple||(o=-1),void 0==r&&(r="none");var l=this.getItem(e),h=this.getItem(o);return this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),h=this.getVisibleItem(o)),this._raiseEvent("1",{index:o,type:r,item:h,originalEvent:n}),this.selectedIndex=e,this.selectedIndexes[o]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:n}),void this._renderItems()}this.focused=!0;var d=!1;this.selectedIndex!=e&&(d=!0);var o=a;this.selectedIndex!=e||this.multiple||(o=-1),void 0==r&&(r="none");var l=this.getItem(e),h=this.getItem(o);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),h=this.getVisibleItem(o)),void 0!=s&&s)this._raiseEvent("1",{index:o,type:r,item:h,originalEvent:n}),this.selectedIndex=e,this.selectedIndexes[o]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:n});else{var c=this,u=function(e,t,i,s,r,n){c._raiseEvent("1",{index:t,type:i,item:s,originalEvent:n}),c.selectedIndex=e,c.selectedIndexes=[],t=e,c.selectedIndexes[e]=e,c.selectedValues=new Array,r&&(c.selectedValues[r.value]=r.value),c._raiseEvent("0",{index:e,type:i,item:r,originalEvent:n})},f=function(e,t,i,s,r,n){void 0==c.selectedIndexes[e]||-1==c.selectedIndexes[e]?(c.selectedIndexes[e]=e,c.selectedIndex=e,r&&(c.selectedValues[r.value]=r.value,c._raiseEvent("0",{index:e,type:i,item:r,originalEvent:n}))):(t=c.selectedIndexes[e],s=c.getVisibleItem(t),s&&(c.selectedValues[s.value]=null),c.selectedIndexes[e]=-1,c.selectedIndex=-1,c._raiseEvent("1",{index:t,type:i,item:s,originalEvent:n}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==r&&(this.clearSelection(!1),c._clickedIndex=e),f(e,o,r,h,l,n);else if(this._shiftKey){void 0==c._clickedIndex&&(c._clickedIndex=o);var p=Math.min(c._clickedIndex,e),m=Math.max(c._clickedIndex,e);this.clearSelection(!1);for(var g=p;g<=m;g++)c.selectedIndexes[g]=g,c.selectedValues[c.getVisibleItem(g).value]=c.getVisibleItem(g).value,c._raiseEvent("0",{index:g,type:r,item:this.getVisibleItem(g),originalEvent:n});c.selectedIndex="keyboard"!=r?c._clickedIndex:e}}else"keyboard"!=r&&"mouse"!=r?(f(e,o,r,h,l,n),c._clickedIndex=e):(this.clearSelection(!1),c._clickedIndex=e,u(e,o,r,h,l,n));else this.multiple?f(e,o,r,h,l,n):(l&&(this.selectedValue=l.value),u(e,o,r,h,l,n))}return void 0!=i&&1!=i||this._renderItems(),void 0!=t&&null!=t&&1==t&&this.ensureVisible(e),this._raiseEvent("2",{index:e,item:l,oldItem:h,type:r,originalEvent:n}),this._updateInputSelection(),d}}},_updateInputSelection:function(){this._syncSelection();var t=new Array;if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&void 0!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),t.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var i=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),s="";if(i){for(var r=0;r<i.length;r++)void 0!=i[r]&&(r==i.length-1?s+=i[r].value:s+=i[r].value+",",t.push(i[r].value));this.input.val(s)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,s){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,s){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},isIndexInView:function(e){if(isNaN(e))return!1;if(!this.items)return!1;if(e<0||e>=this.items.length)return!1;var t=this.vScrollInstance.value,i=0;this.filterable&&(i=this.filterHeight);var s=this.visibleItems[e];if(void 0==s)return!0;var r=s.initialTop,n=s.height;return!(r-t<i||r-t+i+n>=this.host.outerHeight())},_itemsInPage:function(){var t=0,i=this;return this.items&&e.each(this.items,function(){if(this.initialTop+this.height>=i.content.height())return!1;t++}),t},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(e){for(indx=e+1;indx<this.visibleItems.length;indx++)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_prevItemIndex:function(e){for(indx=e-1;indx>=0;indx--)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},clearFilter:function(){this.filterInput.val(""),this._updateItemsVisibility("")},_search:function(e){var t=this,i=t.filterInput.val();if(9!=e.keyCode&&"none"!=t.searchMode&&null!=t.searchMode&&"undefined"!=t.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode)return 37!=e.keyCode&&39!=e.keyCode&&void(e.altKey||18==e.keyCode||e.keyCode>=33&&e.keyCode<=40||(e.ctrlKey||e.metaKey||t.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode||i!==t.searchString&&t._updateItemsVisibility(i))},_updateItemsVisibility:function(t){var i=this.getItems();if(void 0==i)return{index:-1,matchItem:new Array};var s=this,r=-1,n=new Array,a=0;e.each(i,function(i){var o="";if(!this.isGroup){o=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem",o=o.toString();var l=!1;switch(s.searchMode){case"containsignorecase":l=e.jqx.string.containsIgnoreCase(o,t);break;case"contains":l=e.jqx.string.contains(o,t);break;case"equals":l=e.jqx.string.equals(o,t);break;case"equalsignorecase":l=e.jqx.string.equalsIgnoreCase(o,t);break;case"startswith":l=e.jqx.string.startsWith(o,t);break;case"startswithignorecase":l=e.jqx.string.startsWithIgnoreCase(o,t);break;case"endswith":l=e.jqx.string.endsWith(o,t);break;case"endswithignorecase":l=e.jqx.string.endsWithIgnoreCase(o,t)}l||(this.visible=!1),l&&(n[a++]=this,this.visible=!0,r=this.visibleIndex),""==t&&(this.visible=!0,l=!1)}}),s.renderedVisibleItems=new Array,s.visibleItems=new Array,s.vScrollInstance.setPosition(0,!0),s._addItems(!1),s._renderItems();for(var o=0;o<s.items.length;o++)s.selectedIndexes[o]=-1;s.selectedIndex=-1;for(var l in s.selectedValues){var t=s.selectedValues[l],h=s.getItemByValue(t);h&&h.visible&&(s.selectedIndex=h.visibleIndex,s.selectedIndexes[h.visibleIndex]=h.visibleIndex)}s._syncSelection(),s.filterChange&&s.filterChange(t)},_getMatches:function(t,i){if(void 0==t||0==t.length)return-1;void 0==i&&(i=0);var s=this.getItems(),r=this,n=-1;return e.each(s,function(s){var a="";if(!this.isGroup){a=this.searchLabel?this.searchLabel.toString():this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var o=!1;switch(r.searchMode){case"containsignorecase":o=e.jqx.string.containsIgnoreCase(a,t);break;case"contains":o=e.jqx.string.contains(a,t);break;case"equals":o=e.jqx.string.equals(a,t);break;case"equalsignorecase":o=e.jqx.string.equalsIgnoreCase(a,t);break;case"startswith":o=e.jqx.string.startsWith(a,t);break;case"startswithignorecase":o=e.jqx.string.startsWithIgnoreCase(a,t);break;case"endswith":o=e.jqx.string.endsWith(a,t);break;case"endswithignorecase":o=e.jqx.string.endsWithIgnoreCase(a,t)}if(o&&this.visibleIndex>=i)return n=this.visibleIndex,!1}}),n},findItems:function(t){var i=this.getItems(),s=this,r=0,n=new Array;return e.each(i,function(i){var a="";if(!this.isGroup){a=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var o=!1;switch(s.searchMode){case"containsignorecase":o=e.jqx.string.containsIgnoreCase(a,t);break;case"contains":o=e.jqx.string.contains(a,t);break;case"equals":o=e.jqx.string.equals(a,t);break;case"equalsignorecase":o=e.jqx.string.equalsIgnoreCase(a,t);break;case"startswith":o=e.jqx.string.startsWith(a,t);break;case"startswithignorecase":o=e.jqx.string.startsWithIgnoreCase(a,t);break;case"endswith":o=e.jqx.string.endsWith(a,t);break;case"endswithignorecase":o=e.jqx.string.endsWithIgnoreCase(a,t)}o&&(n[r++]=this)}}),n},_syncSelection:function(){var e=this;if(e.filterable){if(e.items)for(var t=0;t<e.items.length;t++){var i=e.items[t];i.selected=!1}for(var t=0;t<e.visibleItems.length;t++){var i=e.visibleItems[t];e.selectedIndexes&&e.selectedIndexes[t]==i.visibleIndex&&(i.selected=!0)}e.itemswrapper&&e._renderItems()}},_handleKeyDown:function(e){var t=e.keyCode,i=this,s=i.selectedIndex,r=i.selectedIndex;if(this.keyboardNavigation&&this.enableSelection&&(!this.filterInput||e.target!=this.filterInput[0])){var n=function(){(i.multiple||i.checkboxes)&&i.clearSelection(!1)};if(e.altKey&&(t=-1),32==t&&this.checkboxes){var a=this.getItem(s);return null!=a&&(i._updateItemCheck(a,s),e.preventDefault()),i._searchString="",i.selectIndex(a.visibleIndex,!1,!0,!0,"keyboard",e),void i._renderItems()}if(i.incrementalSearch){var o=-1;i._searchString||(i._searchString=""),(8==t||46==t)&&i._searchString.length>=1&&(i._searchString=i._searchString.substr(0,i._searchString.length-1));var l=String.fromCharCode(t),h=!isNaN(parseInt(l)),d=!1;if(t>=65&&t<=97||h||8==t||32==t||46==t){e.shiftKey||(l=l.toLocaleLowerCase());var c=1+i.selectedIndex;8!=t&&32!=t&&46!=t&&(i._searchString.length>0&&i._searchString.substr(0,1)==l?(c=1+i.selectedIndex,i._searchString+=l):i._searchString+=l),32==t&&(i._searchString+=" ");var u=this._getMatches(i._searchString,c);if((o=u)==i._lastMatchIndex||-1==o){var u=this._getMatches(i._searchString,0);o=u}if(i._lastMatchIndex=o,o>=0){var f=function(){n(),i.selectIndex(o,!1,!1,!1,"keyboard",e),i.isIndexInView(o)?i._renderItems():i.ensureVisible(o)};i._toSelectTimer&&clearTimeout(i._toSelectTimer),i._toSelectTimer=setTimeout(function(){f()},i.incrementalSearchKeyDownDelay)}d=!0}if(void 0!=i._searchTimer&&clearTimeout(i._searchTimer),27!=t&&13!=t||(i._searchString=""),i._searchTimer=setTimeout(function(){i._searchString="",i._renderItems()},i.incrementalSearchDelay),o>=0)return;if(d)return!1}if(33==t){var p=i._itemsInPage();i.selectedIndex-p>=0?(n(),i.selectIndex(r-p,!1,!1,!1,"keyboard",e)):(n(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(32==t&&this.checkboxes){var a=this.getItem(s);null!=a&&(i._updateItemCheck(a,s),e.preventDefault()),i._searchString=""}if(36==t&&(n(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),35==t&&(n(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),34==t){var p=i._itemsInPage();i.selectedIndex+p<i.visibleItems.length?(n(),i.selectIndex(r+p,!1,!1,!1,"keyboard",e)):(n(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(38==t){if(i._searchString="",!(i.selectedIndex>0))return!1;var m=i._prevItemIndex(i.selectedIndex);if(m==i.selectedIndex||-1==m)return!0;n(),i.selectIndex(m,!1,!1,!1,"keyboard",e)}else if(40==t){if(i._searchString="",!(i.selectedIndex+1<i.visibleItems.length))return!1;var m=i._nextItemIndex(i.selectedIndex);if(m==i.selectedIndex||-1==m)return!0;n(),i.selectIndex(m,!1,!1,!1,"keyboard",e)}if(35==t||36==t||38==t||40==t||34==t||33==t){return i.isIndexInView(i.selectedIndex)?i._renderItems():i.ensureVisible(i.selectedIndex),!1}return!0}},_updateItemCheck:function(e,t){if(!this.disabled)switch(1==e.checked?e.checked=!(!e.hasThreeStates||!this.hasThreeStates)&&null:e.checked=null!=e.checked,e.checked){case!0:this.checkIndex(t);break;case!1:this.uncheckIndex(t);break;default:this.indeterminateIndex(t)}},wheel:function(e,t){if(t.autoHeight||!t.enableMouseWheel)return e.returnValue=!0,!0;if(t.disabled)return!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),!!s&&(s=!1,e.returnValue=s,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){var t=this.vScrollInstance.value;return e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value},focus:function(){try{this.focused=!0,this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(e){}},_removeHandlers:function(){this.removeHandler(e(document),"keydown.listbox"+this.element.id),this.removeHandler(e(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());var e=this;if(e._arrange(),e.host.height()!=e._oldheight||e.host.width()!=e._oldwidth){e.host.width(),e._oldwidth;if(e.autoItemsHeight)e._render(!1);else if(e.items)if(e.items.length>0&&e.virtualItemsCount*e.items[0].height<e._oldheight-2)e._render(!1);else{var t=e.vScrollInstance.value;e._updatescrollbars(),e._renderItems(),t<e.vScrollInstance.max?e.vScrollInstance.setPosition(t):e.vScrollInstance.setPosition(e.vScrollInstance.max)}e._oldwidth=e.host.width(),e._oldheight=e.host.height()}},_addHandlers:function(){var t=this;this.focused=!1;var i=(new Date,this.isTouchDevice());this.addHandler(this.vScrollBar,"valueChanged",function(i){e.jqx.browser.msie&&e.jqx.browser.version>9?setTimeout(function(){t._renderItems()},1):t._renderItems()}),this.addHandler(this.hScrollBar,"valueChanged",function(){t._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(e){t.wheel(e,t)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(e(document),"keydown.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(e(document),"keyup.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(this.host,"keydown",function(e){return t._handleKeyDown(e)}),this.addHandler(this.content,"mouseleave",function(i){t.focused=!1;var s=e.data(t.element,"hoveredItem");null!=s&&(e(s).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(s).removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.data(t.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.content,"blur",function(e){t.focused=!1,t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.host,"blur",function(i){e.jqx.browser.msie&&e.jqx.browser.version<9&&t.focused||(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!1)}),this.addHandler(this.content,"mouseenter",function(e){t.focused=!0});var s=e.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var r=t.isTouchDevice()&&!0!==this.touchMode,n=r?"touchend":"mousedown";if(this.overlayContent)this.addHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"),function(i){if(!t.enableSelection)return!0;if(r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!0;var s=e.jqx.mobile.getTouches(i),n=s[0];if(void 0!=n){var a=t.host.offset(),o=parseInt(n.pageX),l=parseInt(n.pageY);1==t.touchMode&&void 0!=n._pageX&&(o=parseInt(n._pageX),l=parseInt(n._pageY)),o-=a.left,l-=a.top;var h=t._hitTest(o,l);if(null!=h&&!h.isGroup){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(t.checkboxes)return void t._updateItemCheck(h,h.visibleIndex);if(-1==h.html.indexOf("href"))return t.selectIndex(h.visibleIndex,!1,!0,!1,"mouse",i),i.preventDefault&&i.preventDefault(),t.content.trigger("click"),!1;setTimeout(function(){return t.selectIndex(h.visibleIndex,!1,!0,!1,"mouse",i),t.content.trigger("click"),!1},100)}}});else{var a=!1;this.addHandler(this.content,n,function(i){if(!t.enableSelection)return!0;if(a=!0,r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!1;if(t.focused=!0,!t.isTouchDevice()&&t.focusable&&t.host.focus(),i.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=i.target){var o=i.target,l=e(o).offset(),h=t.host.offset();if(s){var d=e.jqx.mobile.getLeftPos(o),c=e.jqx.mobile.getTopPos(o);l.left=d,l.top=c,d=e.jqx.mobile.getLeftPos(t.element),c=e.jqx.mobile.getTopPos(t.element),h.left=d,h.top=c}var u=parseInt(l.top)-parseInt(h.top),f=parseInt(l.left)-parseInt(h.left),p=t._hitTest(f,u);if(null!=p&&!p.isGroup){var m=function(e,i){if(t._shiftKey||(t._clickedIndex=e.visibleIndex),t.checkboxes)if(f=20+i.pageX-l.left,t.rtl){"hidden"!=t.hScrollBar.css("visibility")?t.hScrollInstance.max:t.host.width();f<=t.host.width()-20&&(t.allowDrag?setTimeout(function(){t._dragItem||a||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)))}else f+t.hScrollInstance.value>=20&&(t.allowDrag?setTimeout(function(){t._dragItem||a||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)));else t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)};p.disabled||(-1!=p.html.indexOf("href")?setTimeout(function(){m(p,i)},100):m(p,i))}if("mousedown"==n){var g=!1;return i.which?g=3==i.which:i.button&&(g=2==i.button),!!g}}return!0})}this.addHandler(this.content,"mouseup",function(e){t.vScrollInstance.handlemouseup(t,e),a=!1}),e.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(e){return!1})}var i=this.isTouchDevice();this.enableHover&&!i&&(this._mousemovefunc=function(r){if(i)return!0;if(!t.enableHover)return!0;1==e.jqx.browser.msie&&e.jqx.browser.version;if(null==r.target)return!0;if(t.disabled)return!0;if(t.focused=!0,!t.vScrollInstance.isScrolling()&&r.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=r.target){var n=r.target,a=e(n).offset(),o=t.host.offset();if(s){var l=e.jqx.mobile.getLeftPos(n),h=e.jqx.mobile.getTopPos(n);a.left=l,a.top=h,l=e.jqx.mobile.getLeftPos(t.element),h=e.jqx.mobile.getTopPos(t.element),o.left=l,o.top=h}var d=parseInt(a.top)-parseInt(o.top),c=parseInt(a.left)-parseInt(o.left),u=t._hitTest(c,d);if(null!=u&&!u.isGroup&&!u.disabled){var f=e.data(t.element,"hoveredItem");null!=f&&(e(f).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(f).removeClass(t.toThemeProperty("jqx-fill-state-hover"))),e.data(t.element,"hoveredItem",u.element);var p=e(u.element);p.addClass(t.toThemeProperty("jqx-listitem-state-hover")),p.addClass(t.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(e){void 0==e&&(e=!0);var t=this,i=null,s=null,r=t.filterable?t.filterHeight:0,n=function(e){return e=t.host.height(),0==e&&(e=200,t.host.height(e)),e};null!=t.width&&-1!=t.width.toString().indexOf("px")?i=t.width:void 0==t.width||isNaN(t.width)||(i=t.width),null!=t.height&&-1!=t.height.toString().indexOf("px")?s=t.height:void 0==t.height||isNaN(t.height)||(s=t.height),null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.css("width",t.width),i=t.host.width()),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.css("height",t.height),s=n(s)),null!=i&&(i=parseInt(i),parseInt(t.element.style.width)!=parseInt(t.width)&&t.host.width(t.width)),t.autoHeight?t.virtualSize&&("hidden"!=t.hScrollBar.css("visibility")?(t.host.height(t.virtualSize.height+parseInt(t.scrollBarSize)+3),t.height=t.virtualSize.height+parseInt(t.scrollBarSize)+3,s=t.height):(t.host.height(t.virtualSize.height),t.height=t.virtualSize.height,s=t.virtualSize.height)):null!=s&&(s=parseInt(s),parseInt(t.element.style.height)!=parseInt(t.height)&&(t.host.height(t.height),n(s)));var a=t.scrollBarSize;isNaN(a)&&(a=parseInt(a),isNaN(a)?a="17px":a+="px"),a=parseInt(a);var o=2,l=1;if(t.vScrollBar&&("hidden"!=t.vScrollBar[0].style.visibility?l=a+4:t.vScrollInstance.setPosition(0),0==a&&(l=1,o=1),t.hScrollBar)){"hidden"!=t.hScrollBar[0].style.visibility?o=a+4:t.hScrollInstance.setPosition(0),t.autoItemsHeight&&(t.hScrollBar[0].style.visibility="hidden",o=0),null==s&&(s=0);var h=parseInt(s)-4-a;h<0&&(h=0),parseInt(t.hScrollBar[0].style.height)!=a&&(parseInt(a)<0&&(a=0),t.hScrollBar[0].style.height=parseInt(a)+"px"),t.hScrollBar[0].style.top!=h+"px"&&(t.hScrollBar[0].style.top=h+"px",t.hScrollBar[0].style.left="0px");var d=i-a-4;d<0&&(d=0);var c=d+"px";if(t.hScrollBar[0].style.width!=c&&(t.hScrollBar[0].style.width=c),l<=1&&i>=2&&(t.hScrollBar[0].style.width=parseInt(i-2)+"px"),a!=parseInt(t.vScrollBar[0].style.width)&&(t.vScrollBar[0].style.width=parseInt(a)+"px"),parseInt(s)-o!=parseInt(t.vScrollBar[0].style.height)){var u=parseInt(s)-o;u<0&&(u=0),t.vScrollBar[0].style.height=u+"px"}null==i&&(i=0);var f=parseInt(i)-parseInt(a)-4+"px";f!=t.vScrollBar[0].style.left&&(parseInt(f)>=0&&(t.vScrollBar[0].style.left=f),t.vScrollBar[0].style.top="0px");var p=t.vScrollInstance;p.disabled=t.disabled,e&&p._arrange();var m=t.hScrollInstance;if(m.disabled=t.disabled,e&&m._arrange(),"hidden"!=t.vScrollBar[0].style.visibility&&"hidden"!=t.hScrollBar[0].style.visibility?(t.bottomRight[0].style.visibility="inherit",t.bottomRight[0].style.left=1+parseInt(t.vScrollBar[0].style.left)+"px",t.bottomRight[0].style.top=1+parseInt(t.hScrollBar[0].style.top)+"px",t.rtl&&t.bottomRight.css({left:0}),t.bottomRight[0].style.width=parseInt(a)+3+"px",t.bottomRight[0].style.height=parseInt(a)+3+"px"):t.bottomRight[0].style.visibility="hidden",parseInt(t.content[0].style.width)!=parseInt(i)-l){var g=parseInt(i)-l;g<0&&(g=0),t.content[0].style.width=g+"px"}if(t.rtl&&(t.vScrollBar.css({left:"0px",top:"0px"}),t.hScrollBar.css({left:t.vScrollBar.width()+2+"px"}),"hidden"!=t.vScrollBar[0].style.visibility?t.content.css("margin-left",4+t.vScrollBar.width()):(t.content.css("margin-left",0),t.hScrollBar.css({left:"0px"})),t.filterable&&t.filterInput&&t.filterInput.css({left:t.vScrollBar.width()+6+"px"})),parseInt(t.content[0].style.height)!=parseInt(s)-o){var v=parseInt(s)-o;v<0&&(v=0),t.content[0].style.height=v+"px",t.content[0].style.top="0px"}r>0&&(t.content[0].style.top=r+"px",t.content[0].style.height=parseInt(t.content[0].style.height)-r+"px"),t.filterable?(t.filterInput[0].style.height=r-6+"px",t.filterInput[0].style.top="3px",t.rtl||(t.filterInput[0].style.left=parseInt(t.content.css("left"))+3+"px"),t.filterInput[0].style.width=parseInt(t.content.css("width"))-7+"px",t.filter[0].style.display="block"):t.filter[0].style.display="none",t.overlayContent&&(t.overlayContent.width(parseInt(i)-l),t.overlayContent.height(parseInt(s)-o))}},ensureVisible:function(t,i){if(isNaN(t)){var s=this.getItemByValue(t);s&&(t=s.index)}if(this.isIndexInView(t)){if(i)for(indx=0;indx<this.visibleItems.length;indx++){var s=this.visibleItems[indx];if(s.visibleIndex==t&&!s.isGroup){var r=this.vScrollInstance.value,n=s.initialTop;this.filterable&&(n=this.filterHeight+2+s.initialTop),r+this.host.height()<this.vScrollInstance.max&&this.vScrollInstance.setPosition(n)}}}else{if(t<0)return;if(this.autoHeight){var a=e.data(this.vScrollBar[0],"jqxScrollBar").instance;a.setPosition(0)}else for(indx=0;indx<this.visibleItems.length;indx++){var s=this.visibleItems[indx];if(s.visibleIndex==t&&!s.isGroup){
var a=e.data(this.vScrollBar[0],"jqxScrollBar").instance,r=a.value,o=this.filterable?this.filterHeight+2:0,l="hidden"===this.hScrollBar.css("visibility"),h=l?0:this.scrollBarSize+4;if(s.initialTop<r)a.setPosition(s.initialTop),0==indx&&a.setPosition(0);else if(s.initialTop+s.height>r+this.host.height()-o){var d=this.host.height();if(this.filterable?a.setPosition(this.filterHeight+2+s.initialTop+s.height+2-d+h):(a.setPosition(s.initialTop+s.height+2-d+h),indx===this.visibleItems.length-1&&a.setPosition(a.max)),i){var r=a.value,n=s.initialTop;this.filterable&&(n=this.filterHeight+2+s.initialTop),r+d<a.max&&a.setPosition(n)}}break}}}this._renderItems()},scrollTo:function(e,t){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(t),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(e)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):(e.setPosition(e.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value!=e.min&&(e.setPosition(e.min),!0)},databind:function(t,i){this.records=new Array;var s=!!t._source,r=new e.jqx.dataAdapter(t,{autoBind:!1});s&&(r=t,t=t._source);var n=function(t,i){var s=function(i){var s=null;if("string"==typeof i)var r=i,n=i,a="";else if(void 0!=t.displayMember&&""!=t.displayMember)var n=i[t.valueMember],r=i[t.displayMember];var a="";if(t.groupMember?a=i[t.groupMember]:i&&void 0!=i.group&&(a=i.group),t.searchMember?s=i[t.searchMember]:i&&void 0!=i.searchLabel&&(s=i.searchLabel),t.valueMember||t.displayMember||"string"==e.type(i)&&(r=n=i.toString()),i&&void 0!=i.label)var r=i.label;if(i&&void 0!=i.value)var n=i.value;var o=!1;i&&void 0!=i.checked&&(o=i.checked);var l="";i&&void 0!=i.html&&(l=i.html);var h=!0;i&&void 0!=i.visible&&(h=i.visible);var d=!1;i&&void 0!=i.disabled&&(d=i.disabled);var c=!1;i&&void 0!=i.hasThreeStates&&(c=i.hasThreeStates);var u={};return u.label=r,u.value=n,u.searchLabel=s,u.html=l,u.visible=h,u.originalItem=i,u.group=a,u.groupHtml="",u.disabled=d,u.checked=o,u.hasThreeStates=c,u};if(void 0!=i){if(r._changedrecords[0])return void e.each(r._changedrecords,function(){var e=this.index,r=this.record;if("remove"!=i)var n=s(r);switch(i){case"update":t.updateAt(n,e);break;case"add":t.insertAt(n,e);break;case"remove":t.removeAt(e)}})}t.records=r.records;for(var n=t.records.length,a=new Array,o=0;o<n;o++){var l=t.records[o],h=s(l);h.index=o,a[o]=h}t.items=t.loadItems(a,!0),t._render(),t._raiseEvent("6")};!function(e){void 0!=t.type&&(r._options.type=t.type),void 0!=t.formatdata&&(r._options.formatData=t.formatdata),void 0!=t.contenttype&&(r._options.contentType=t.contenttype),void 0!=t.async&&(r._options.async=t.async)}();var a=this;switch(t.datatype){case"local":case"array":default:(null!=t.localdata||e.isArray(t))&&(r.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&r.dataBind(),n(this),r.bindBindingUpdate(this.element.id,function(e){n(a,e)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&r.dataBind(),n(this),void r.bindBindingUpdate(this.element.id,function(){n(a)});var o={};r._options.data?e.extend(r._options.data,o):(t.data&&e.extend(o,t.data),r._options.data=o);var l=function(){n(a)};r.unbindDownloadComplete(a.element.id),r.bindDownloadComplete(a.element.id,l),(this.autoBind||!this.autoBind&&!i)&&r.dataBind()}},loadItems:function(t,i){if(null==t)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var s=this,r=0,n=0,a=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var o=new Array;this.itemsByValue=new Array,e.map(t,function(t){if(void 0==t)return null;var l=new e.jqx._jqxListBox.item,h=t.group,d=t.groupHtml,c=t.title,u=null;if(s.searchMember?u=t[s.searchMember]:t&&void 0!=t.searchLabel&&(u=t.searchLabel),null!=c&&void 0!=c||(c=""),null!=h&&void 0!=h||(h=""),s.groupMember&&(h=t[s.groupMember]),null!=d&&void 0!=d||(d=""),!s.groups[h]){s.groups[h]={items:new Array,index:-1,caption:h,captionHtml:d},r++;var f=r+"jqxGroup";s.groups[f]=s.groups[h],n++,s.groups.length=n}var p=s.groups[h];return p.index++,p.items[p.index]=l,"string"==typeof t?(l.label=t,l.value=t,arguments.length>1&&arguments[1]&&"string"==e.type(arguments[1])&&(l.label=t,l.value=arguments[1])):null==t.label&&null==t.value&&null==t.html&&null==t.group&&null==t.groupHtml?(l.label=t.toString(),l.value=t.toString()):(l.label=t.label,l.value=t.value,void 0===l.label&&(l.label=t.value),void 0===l.value&&(l.value=t.label)),"string"!=typeof t&&(void 0===t.label&&""!=s.displayMember&&(void 0!=t[s.displayMember]?l.label=t[s.displayMember]:l.label=""),void 0===t.value&&""!=s.valueMember&&(l.value=t[s.valueMember])),l.hasThreeStates=void 0==t.hasThreeStates||t.hasThreeStates,l.originalItem=t,i&&(l.originalItem=t.originalItem),l.title=c,c&&void 0===l.value&&void 0===l.label&&(l.value=l.label=c),l.html=t.html||"",t.html&&t.html,l.group=h,l.checked=t.checked||!1,l.groupHtml=t.groupHtml||"",l.disabled=t.disabled||!1,l.visible=void 0==t.visible||t.visible,l.searchLabel=u,l.index=a,o[a]=l,a++,l});var l=new Array,h=0;if(void 0==this.fromSelect||0==this.fromSelect)for(var d=0;d<n;d++){var r=d+1,c=r+"jqxGroup",u=this.groups[c];if(void 0==u||null==u)break;if(0==d&&""==u.caption&&""==u.captionHtml&&n<=1){for(var f=0;f<u.items.length;f++){var p=u.items[f].value;void 0!=u.items[f].value&&null!=u.items[f].value||(p=f),this.itemsByValue[e.trim(p).split(" ").join("?")]=u.items[f]}return u.items}var m=new e.jqx._jqxListBox.item;m.isGroup=!0,m.label=u.caption,""==u.caption&&""==u.captionHtml&&(u.caption=this.emptyGroupText,m.label=u.caption),m.html=u.captionHtml,l[h]=m,h++;for(var g=0;g<u.items.length;g++){l[h]=u.items[g];var p=u.items[g].value;""!=u.items[g].value&&null!=u.items[g].value||(p=h),s.itemsByValue[e.trim(p).split(" ").join("?")]=u.items[g],h++}}else{var h=0,v=new Array;e.each(o,function(){if(!v[this.group]&&""!=this.group){var t=new e.jqx._jqxListBox.item;t.isGroup=!0,t.label=this.group,l[h]=t,h++,v[this.group]=!0}l[h]=this;var i=this.value;""!=this.value&&null!=this.value||(i=h-1),s.itemsByValue[e.trim(i).split(" ").join("?")]=this,h++})}return l},_mapItem:function(t){var i=new e.jqx._jqxListBox.item;return this.displayMember&&(void 0==t.label&&(t.label=t[this.displayMember]),void 0==t.value&&(t.value=t[this.valueMember])),"string"==typeof t?(i.label=t,i.value=t):"number"==typeof t?(i.label=t.toString(),i.value=t.toString()):(i.label=void 0!==t.label?t.label:t.value,i.value=void 0!==t.value?t.value:t.label),void 0==i.label&&void 0==i.value&&void 0==i.html&&(i.label=i.value=t),i.html=t.html||"",i.group=t.group||"",i.checked=t.checked||!1,i.title=t.title||"",i.groupHtml=t.groupHtml||"",i.disabled=t.disabled||!1,i.visible=t.visible||!0,i},addItem:function(e){return this.insertAt(e,this.items?this.items.length:0)},_getItemByParam:function(e){if(null!=e&&void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return e},insertItem:function(e,t){var i=this._getItemByParam(e);return this.insertAt(i,t)},updateItem:function(e,t){var i=this._getItemByParam(t);return!(!i||void 0==i.index)&&this.updateAt(e,i.index)},updateAt:function(t,i){if(null!=t){var s=this._mapItem(t);this.itemsByValue[e.trim(s.value).split(" ").join("?")]=this.items[i],this.items[i].value=s.value,this.items[i].label=s.label,this.items[i].html=s.html,this.items[i].disabled=s.disabled}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(t,i){if(null==t)return!1;if(this._cachedItemHtml=[],void 0==this.items||0==this.items.length){this.source=new Array,this.refresh();var s=this._mapItem(t);s.index=0,this.items[this.items.length]=s,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var r=s.value;return""!=s.value&&null!=s.value||(r=i),this.itemsByValue[e.trim(r).split(" ").join("?")]=s,!1}var s=this._mapItem(t);if(-1==i||void 0==i||null==i||i>=this.items.length)s.index=this.items.length,this.items[this.items.length]=s;else{for(var n=new Array,a=0,o=!1,l=0,h=0;h<this.items.length;h++)0==this.items[h].isGroup&&l>=i&&!o&&(n[a++]=s,s.index=i,l++,o=!0),n[a]=this.items[h],this.items[h].isGroup||(n[a].index=l,l++),a++;this.items=n}var r=s.value;""!=s.value&&null!=s.value||(r=i),this.itemsByValue[e.trim(r).split(" ").join("?")]=s,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var d=e.data(this.vScrollBar[0],"jqxScrollBar").instance,c=d.value;return d.setPosition(0),this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this.groups.length,this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),d.setPosition(c),this.rendered&&this.rendered(),!0},removeAt:function(t){if(t<0||t>this.items.length-1)return!1;if(void 0==t)return!1;var i=this.items[t].height,s=this.items[t].value;if(""!=s&&null!=s||(s=t),this.itemsByValue[e.trim(s).split(" ").join("?")]=null,this.groups.length>1){for(var r=new Array,n=0;n<this.items.length;n++)this.items[n].isGroup||r.push({item:this.items[n],key:n});if(!r[t])return!1;this.items.splice(r[t].key,1)}else this.items.splice(t,1);for(var a=new Array,o=0,l=0,n=0;n<this.items.length;n++)a[o]=this.items[n],this.items[n].isGroup||(a[o].index=l,l++),o++;this.items=a;var h=e.data(this.vScrollBar[0],"jqxScrollBar").instance,h=e.data(this.vScrollBar[0],"jqxScrollBar").instance,d=h.value;if(h.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=i;var c=2*this.virtualSize.itemsPerPage;this.autoHeight&&(c=this.items.length),this.virtualItemsCount=Math.min(c,this.items.length)}this._updatescrollbars()}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),"hidden"!=this.vScrollBar.css("visibility")?h.setPosition(d):h.setPosition(0),this.itemsByValue=new Array;for(var u=0;u<this.items.length;u++){var s=this.items[u].value;""!=this.items[u].value&&null!=this.items[u].value||(s=u),this.itemsByValue[e.trim(s).split(" ").join("?")]=this.items[u]}return this.rendered&&this.rendered(),!0},removeItem:function(e,t){var i=this._getItemByParam(e),s=-1;if(i&&void 0!=i.index&&!0!==t){for(var r=0;r<this.items.length;r++)if(this.items[r].label==i.label&&this.items[r].value==i.value){s=r;break}if(-1!=s)return this.removeAt(s)}if(-1==s)return this.removeAt(i.index)},getItems:function(){return this.items},disableItem:function(e){var t=this._getItemByParam(e);this.disableAt(t.index)},enableItem:function(e){var t=this._getItemByParam(e);this.enableAt(t.index)},disableAt:function(e){return!!this.items&&(!(e<0||e>this.items.length-1)&&(this.items[e].disabled=!0,this._renderItems(),!0))},enableAt:function(e){return!!this.items&&(!(e<0||e>this.items.length-1)&&(this.items[e].disabled=!1,this._renderItems(),!0))},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),e.jqx.utilities.resize(this.host,null,!0);var t=e.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),t&&delete t.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(t,i){if(1==this._stopEvents)return!0;void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this,this._updateInputSelection();var r=new e.Event(s);if(r.owner=this,r.args=args,null!=this.host)var n=this.host.trigger(r);return n}})}(jqxBaseFramework),function(e){e.jqx.parseSourceTag=function(t){var i=new Array,s=e(t).find("option"),r=e(t).find("optgroup"),n=!1;0===s.length&&(s=e(t).find("li"),s.length>0&&(n=!0));var a=null,a=-1,o=new Array;if(e.each(s,function(t){var s=r.find(this).length>0,l=null;null==this.text||null!=this.label&&""!=this.label||(this.label=this.text),!0===n&&(this.label=e(this).text(),this.selected=e(this).attr("data-selected"),this.checked=this.selected,this.value=e(this).attr("data-value")||t,this.disabled=e(this).attr("disabled"));var h={style:this.style.cssText,selected:this.selected,html:this.innerHTML,classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this};e.jqx.browser.msie&&e.jqx.browser.version<8&&!n&&""==h.value&&null!=this.text&&this.text.length>0&&(h.value=this.text),s&&(l=r.find(this).parent()[0].label,h.group=l,o[l]||(o[l]=new Array,o.length++),o[l].push(h)),this.selected&&(a=t),h.checked=this.selected,void 0!==h.label&&i.push(h)}),o.length>0){var l=new Array;for(var h in o)if("indexOf"!==h){for(var d=0;d<r.length;d++)if(h===r[d].label||r[d].text){r[d];break}e.each(o[h],function(e,t){void 0!==this.label&&l.push(this)})}}return l&&l.length>0?{items:l,index:a}:{items:i,index:a}},e.jqx._jqxListBox.item=function(){return{group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxLoader","",{}),e.extend(e.jqx._jqxLoader.prototype,{defineInstance:function(){var t={width:200,height:150,text:"Loading...",html:null,textPosition:"bottom",imagePosition:"center",isModal:!1,autoOpen:!1,rtl:!1,events:["create"]};e.extend(!0,this,t)},createInstance:function(e){var t=this;t._render(!0),t._raiseEvent("0")},render:function(){this._render()},open:function(e,t){var i=this;null!==this.width&&-1!==this.width.toString().indexOf("%")&&i.host.css("width",this.width),null!==this.height&&-1!==this.height.toString().indexOf("%")&&i.host.css("height",this.height),i.host.show(),i.host.css("left",-i.host.width()/2),i.host.css("top",-i.host.height()/2),e&&t&&(i.host.css("left",e),i.host.css("top",t)),i.isModal&&i._modal.show()},close:function(){var e=this;e.host.hide(),e.isModal&&e._modal.hide()},_checkBrowser:function(){var t=this;"msie"===e.jqx.browser.browser&&("7.0"===e.jqx.browser.version?(!1===t.isModal&&t.host.addClass(t.toThemeProperty("jqx-loader-ie-transparency")),t.host.css("top",Math.max(0,(e(window).height()-e(t.host).outerHeight())/2+e(window).scrollTop())+"px"),t.host.css("left",Math.max(0,(e(window).width()-e(t.host).outerWidth())/2+e(window).scrollLeft())+"px"),e(window).resize(function(){t.host.css("top",Math.max(0,(e(window).height()-e(t.host).outerHeight())/2+e(window).scrollTop())+"px"),t.host.css("left",Math.max(0,(e(window).width()-e(t.host).outerWidth())/2+e(window).scrollLeft())+"px")}),this.host.css({"margin-top":"0","margin-left":"0"})):"8.0"===e.jqx.browser.version&&!1===t.isModal&&t.host.addClass(t.toThemeProperty("jqx-loader-ie-transparency")))},_textPos:function(){var e=this;this._text=e.host.children("div:eq(1)"),this._image&&this._image.css("background-position-y",e.imagePosition),"top"===e.textPosition?(this._text.addClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-bottom")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-right"))):"bottom"===e.textPosition?(this._text.addClass(e.toThemeProperty("jqx-loader-text-bottom")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-right"))):"left"===e.textPosition?(this._text.addClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-right")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-bottom"))):"right"===e.textPosition&&(this._text.addClass(e.toThemeProperty("jqx-loader-text-right")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-bottom")))},refresh:function(e){!0!==e&&this._render(!1)},destroy:function(){var e=this;e._removeHandlers(),e.host.remove()},propertyChangedHandler:function(e,t,i,s){if(s!==i)switch(t){case"width":e.host.width(s);break;case"height":e.host.height(s);break;case"text":e._text.text(s);break;case"html":e.host.html(s);break;case"textPosition":e._textPos(s);break;case"rtl":!0===s?e._text.addClass(e.toThemeProperty("jqx-loader-rtl")):e._text.removeClass(e.toThemeProperty("jqx-loader-rtl"))}},_raiseEvent:function(t,i){var s=this,r=s.events[t],n=new e.Event(r);n.owner=s,n.args=i;try{var a=s.host.trigger(n)}catch(e){}return a},_render:function(t){var i=this;if(i.host.width(i.width),i.host.height(i.height),!1===i.autoOpen&&i.host.hide(),t&&(null===i.html?(i.host.append('<div class="'+i.toThemeProperty("jqx-loader-icon")+'"></div><div class="'+i.toThemeProperty("jqx-loader-text")+'">'+i.text+"</div>"),i._image=i.host.children("div:eq(0)"),i._text=i.host.children("div:eq(1)")):i.host.html(this.html),!0===i.isModal)){var s=i.host.css("display");i._modal=e('<div id="'+i.element.id+'Modal" class="'+i.toThemeProperty("jqx-loader-modal")+'" style="display: '+s+';"></div>'),e("body").append(i._modal)}i._checkBrowser(),i._textPos(),i._addClass(),i._removeHandlers(),i._addHandlers()},_addHandlers:function(){var t=this;!0===t.isModal&&t.addHandler(e(document),"keyup.loader"+t.element.id,function(e){27===e.keyCode&&t.close()})},_removeHandlers:function(){var t=this;t.removeHandler(e(document),"keyup.loader"+t.element.id)},_addClass:function(){var t=this;t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-loader")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl&&t._text.addClass(t.toThemeProperty("jqx-loader-rtl")),e.jqx.browser.msie&&t.host.addClass(this.toThemeProperty("jqx-noshadow")),t.host.addClass(this.toThemeProperty("jqx-rc-t")),t.host.addClass(this.toThemeProperty("jqx-rc-b")),t.host.addClass(this.toThemeProperty("jqx-popup"))}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDropDownList","",{}),e.extend(e.jqx._jqxDropDownList.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:!0,enableSelection:!0,autoItemsHeight:!1,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:9999999999999,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete"]};return e.extend(!0,this,t),t},createInstance:function(e){this.render()},render:function(){var t=this;t.width||(t.width=200),t.height||(t.height=25);var i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var s={title:t.field.title};t.field.id.length?s.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":s.id=e.jqx.utilities.createId()+"_jqxDropDownList";var r=e("<div></div>",s);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),r[0].style.cssText=t.field.style.cssText,e(t.field).hide().after(r);var n=t.host.data();if(t.host=r,t.host.data(n),t.element=r[0],t.element.id=t.field.id,t.field.id=s.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var a=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=a}var o=e.jqx.parseSourceTag(t.field);t.source=o.items,-1==t.selectedIndex&&(t.selectedIndex=o.index)}t.element.innerHTML="",t.isanimating=!1,t.id=t.element.id||e.jqx.utilities.createId(),t.host.attr("role","combobox"),e.jqx.aria(t,"aria-autocomplete","both"),e.jqx.aria(t,"aria-readonly",!1);var l="<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>";if(null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");t.host.attr("tabindex")||t.host.attr("tabindex",0);t.touch=e.jqx.mobile.isTouchDevice(),t.comboStructure=l,t.element.innerHTML=l,t.dropdownlistWrapper=e(t.element.firstChild.firstChild),t.dropdownlistArrow=e(t.dropdownlistWrapper[0].firstChild.nextSibling),t.arrow=e(t.dropdownlistArrow[0].firstChild),t.dropdownlistContent=e(t.dropdownlistWrapper[0].firstChild),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content jqx-disableselect")),t.rtl&&t.dropdownlistContent.addClass(t.toThemeProperty("jqx-rtl jqx-dropdownlist-content-rtl")),t.addHandler(t.dropdownlistWrapper,"selectstart",function(){return!1}),t.dropdownlistWrapper[0].id="dropdownlistWrapper"+t.element.id,t.dropdownlistArrow[0].id="dropdownlistArrow"+t.element.id,t.dropdownlistContent[0].id="dropdownlistContent"+t.element.id,t._addInput(),"Please Choose:"!=t.promptText&&(t.placeHolder=t.promptText);var h=t.toThemeProperty("jqx-widget")+" "+t.toThemeProperty("jqx-dropdownlist-state-normal")+" "+t.toThemeProperty("jqx-rc-all")+" "+t.toThemeProperty("jqx-fill-state-normal");t.element.className+=" "+h,t._firstDiv=e(t.element.firstChild);try{var d="listBox"+t.id,c=e(e.find("#"+d));c.length>0&&c.remove(),e.jqx.aria(t,"aria-owns",d),e.jqx.aria(t,"aria-haspopup",!0);var u=e("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+t.id+"'><div id='innerListBox"+t.id+"'></div></div>");u.hide(),u.appendTo(document.body),t.container=u,t.listBoxContainer=e(e.find("#innerListBox"+t.id));var f=t.width;"auto"!=t.dropDownWidth&&(f=t.dropDownWidth),null==f&&0==(f=t.host.width())&&(f=t.dropDownWidth),null==t.dropDownHeight&&(t.dropDownHeight=200);t.container.width(parseInt(f)+25),t.container.height(parseInt(t.dropDownHeight)+25),t.addHandler(t.listBoxContainer,"bindingComplete",function(i){t.listBox||(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance),t.selectedIndex!=t.listBoxContainer.jqxListBox("selectedIndex")?(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBoxContainer.jqxListBox({selectedIndex:t.selectedIndex}),t.renderSelection("mouse")):t.renderSelection("mouse"),t._raiseEvent("6")}),t.listBoxContainer.jqxListBox({filterHeight:t.filterHeight,filterPlaceHolder:t.filterPlaceHolder,filterDelay:t.filterDelay,autoItemsHeight:t.autoItemsHeight,filterable:t.filterable,allowDrop:!1,allowDrag:!1,autoBind:t.autoBind,_checkForHiddenParent:!1,focusable:t.focusable,touchMode:t.touchMode,checkboxes:t.checkboxes,rtl:t.rtl,_renderOnDemand:!0,emptyString:t.emptyString,itemHeight:t.itemHeight,width:f,searchMode:t.searchMode,incrementalSearch:t.incrementalSearch,incrementalSearchDelay:t.incrementalSearchDelay,groupMember:t.groupMember,searchMember:t.searchMember,displayMember:t.displayMember,valueMember:t.valueMember,height:t.dropDownHeight,autoHeight:t.autoDropDownHeight,scrollBarSize:t.scrollBarSize,selectedIndex:t.selectedIndex,source:t.source,theme:t.theme,rendered:function(){t.selectedIndex!=t.listBoxContainer.jqxListBox("selectedIndex")?(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBoxContainer.jqxListBox({selectedIndex:t.selectedIndex}),t.renderSelection("mouse")):t.renderSelection("mouse")},renderer:t.renderer,filterChange:function(e){t.autoDropDownHeight&&t.container.height(t.listBoxContainer.height()+25)}}),t.listBoxContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.template&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBox.enableSelection=t.enableSelection,t.listBox.enableHover=t.enableHover,t.listBox.equalItemsWidth=t.equalItemsWidth,t.listBox.selectIndex(t.selectedIndex),t.listBox._arrange(),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.addHandler(t.listBoxContainer,"unselect",function(e){t._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),t.addHandler(t.listBoxContainer,"change",function(e){e.args&&("keyboard"!=e.args.type?t._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}):"keyboard"==e.args.type&&(t.isOpened()||t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})))}),"none"==t.animationType?t.container.css("display","none"):t.container.hide()}catch(e){console&&console.log(e)}var t=t;if(t.propertyChangeMap.disabled=function(i,s,r,n){n?(i.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))):(i.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.removeClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(i,"aria-disabled",i.disabled)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.arrow.addClass(t.toThemeProperty("jqx-icon")),"simple"===t.renderMode&&(t.arrow.remove(),t.host.removeClass(t.toThemeProperty("jqx-fill-state-normal")),t.host.removeClass(t.toThemeProperty("jqx-rc-all"))),t.template&&t.host.addClass(t.toThemeProperty("jqx-"+t.template)),t._updateHandlers(),t._setSize(),t._arrange(),t.listBox&&t.renderSelection(),e.jqx.browser.msie&&e.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0){var p=t.host.parents(".jqx-window").css("z-index");u.css("z-index",p+10),t.listBoxContainer.css("z-index",p+10)}},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this._arrange()},val:function(e){if(!this.dropdownlistContent)return"";if(this.input&&(function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&("date"!=typeof e&&("boolean"!=typeof e&&"string"!=typeof e))}(e)||0==arguments.length))return this.input.val();var t=this.getItemByValue(e);return null!=t&&this.selectItem(t),this.input?this.input.val():void 0},focus:function(){try{var e=this,t=function(){e.host.focus(),e._firstDiv&&e._firstDiv.focus()};t(),setTimeout(function(){t()},10)}catch(e){}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var t=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.element.style.width=this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.element.style.height=this.height);var i=this,s=function(){if(i._arrange(),"auto"==i.dropDownWidth){var e=i.host.width();i.listBoxContainer.jqxListBox({width:e}),i.container.width(parseInt(e)+25)}};if(t){var r=this.host.width();"auto"!=this.dropDownWidth&&(r=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:r}),this.container.width(parseInt(r)+25)}e.jqx.utilities.resize(this.host,function(){s()},!1,this._checkForHiddenParent)},isOpened:function(){var t=this,i=e.data(document.body,"openedJQXListBox"+this.id);return null!=i&&i==t.listBoxContainer},_updateHandlers:function(){var t=this,i=!1;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(i=!0,t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.host.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover")),i=!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(e){t.isOpened()&&t.close()});var s="mousedown";this.touch&&(s=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,s,function(e){if(!t.disabled){var i="block"==t.container.css("display");if(!t.isanimating){if(i)return t.hideListBox(),!1;t.showListBox(),t.focusable?t.focus():e.preventDefault&&e.preventDefault()}}}),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){!t.isOpened()&&t.autoOpen&&(t.open(),t.host.focus())}),e(document).on("mousemove."+t.id,function(e){if(t.isOpened()&&t.autoOpen){var i=t.host.coord(),s=i.top,r=i.left,n=t.container.coord(),a=n.left,o=n.top;canClose=!0,
e.pageY>=s&&e.pageY<=s+t.host.height()&&e.pageX>=r&&e.pageX<r+t.host.width()&&(canClose=!1),e.pageY>=o&&e.pageY<=o+t.container.height()&&e.pageX>=a&&e.pageX<a+t.container.width()&&(canClose=!1),canClose&&t.close()}})),this.touch?this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(e(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var i="block"==t.container.css("display");if("none"==t.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&!t.isanimating)return i&&(t.renderSelection(),"13"==e.keyCode&&t.focusable&&t._firstDiv.focus(),t.hideListBox(),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),"13"==e.keyCode&&t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})),!i||"9"==e.keyCode;if(115==e.keyCode)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox():t.showListBox()),!1;if(e.altKey&&"block"==t.host.css("display"))if(38==e.keyCode){if(t.isOpened())return t.hideListBox(),!0}else if(40==e.keyCode&&!t.isOpened())return t.showListBox(),!0;return"27"!=e.keyCode||t.ishiding?t.disabled?void 0:(t._kbnavigated=t.listBox._handleKeyDown(e),t._kbnavigated):(t.isOpened()&&(t.hideListBox(),void 0!=t.tempSelectedIndex&&t.selectIndex(t.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(e){t.renderSelection(),t._updateInputSelection(),t._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!t.disabled){if(!e.args)return;"keyboard"!=e.args.type||t.isOpened()||t.renderSelection(),("keyboard"!=e.args.type||t.keyboardSelection)&&(t.renderSelection(),t._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item,originalEvent:e.args.originalEvent}),"mouse"==e.args.type&&(t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus())))}}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!t.disabled){if(t.listBox.itemswrapper&&e.target===t.listBox.itemswrapper[0])return!0;t.renderSelection("mouse"),t.touch||t.ishiding||t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus()),t.keyboardSelection||(!1===t._kbnavigated&&(t.tempSelectedIndex!=t.selectedIndex&&t._raiseEvent("4",{index:t.selectedIndex,type:"mouse",item:t.getItem(t.selectedIndex)}),t._kbnavigated=!0),void 0==t._oldSelectedInd&&(t._oldSelectedIndx=t.selectedIndex),t.selectedIndex!=t._oldSelectedIndx&&(t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),t._oldSelectedIndx=t.selectedIndex))}}),this.addHandler(this.host,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var t=this,i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,i),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(e(document),"mousemove."+t.id)},getItem:function(e){return this.listBox.getItem(e)},getItemByValue:function(e){return this.listBox.getItemByValue(e)},selectItem:function(e){void 0!=this.listBox&&(this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(e){void 0!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"))},checkItem:function(e){void 0!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){void 0!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){void 0!=this.listBox&&this.listBox.indeterminateItem(e)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var t=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&-1==this.listBox.selectedIndex)for(var i in this.listBox.selectedValues){var s=this.listBox.selectedValues[i],r=this.listBox.getItemByValue(s);r&&(t=r)}if(this.checkboxes){var n=this.getCheckedItems();t=null!=n&&n.length>0?n[0]:null}if(null==t){var a=e('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');a.appendTo(e(document.body)),a.addClass(this.toThemeProperty("jqx-widget")),a.addClass(this.toThemeProperty("jqx-listitem-state-normal")),a.addClass(this.toThemeProperty("jqx-item")),e.jqx.utilities.html(a,this.placeHolder);var o=this.dropdownlistContent.css("padding-top"),l=this.dropdownlistContent.css("padding-bottom");a.css("padding-top",o),a.css("padding-bottom",l);var h=a.outerHeight();a.remove(),a.removeClass(),e.jqx.utilities.html(this.dropdownlistContent,a);var d=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(d=parseInt(this.height));var c=parseInt((parseInt(d)-parseInt(h))/2);return c>0&&(this.dropdownlistContent.css("margin-top",c+"px"),this.dropdownlistContent.css("margin-bottom",c+"px")),this.selectionRenderer?(e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(a,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"),this._updateInputSelection()):this._updateInputSelection(),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex;var a=e(document.createElement("span"));a[0].setAttribute("unselectable","on");try{a[0].style.color="inherit"}catch(e){}a[0].style.borderWidth="0px",a[0].style.backgroundColor="transparent",a.appendTo(e(document.body)),a.addClass(this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-item"));var u=!1;try{void 0!=t.html&&null!=t.html&&t.html.toString().length>0?e.jqx.utilities.html(a,t.html):void 0!=t.label&&null!=t.label&&t.label.toString().length>0?e.jqx.utilities.html(a,t.label):null===t.label||""===t.label?(u=!0,e.jqx.utilities.html(a,"")):void 0!=t.value&&null!=t.value&&t.value.toString().length>0?e.jqx.utilities.html(a,t.value):void 0!=t.title&&null!=t.title&&t.title.toString().length>0?e.jqx.utilities.html(a,t.title):""!=t.label&&null!=t.label||(u=!0,e.jqx.utilities.html(a,""))}catch(e){}var o=this.dropdownlistContent[0].style.paddingTop,l=this.dropdownlistContent[0].style.paddingBottom;""===o&&(o="0px"),""===l&&(l="0px"),a[0].style.paddingTop=o,a[0].style.paddingBottom=l;var h=a.outerHeight();0===h&&(h=16),""!=t.label&&null!=t.label||!u||e.jqx.utilities.html(a,"");var f=this.width&&this.width.toString().indexOf("%")<=0;if(a.remove(),a.removeClass(),this.selectionRenderer)e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(a,t.index,t.label,t.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var p=this.getCheckedItems(),m="",g=0;g<p.length;g++)g==p.length-1?m+=p[g].label:m+=p[g].label+",";a.text(m),f&&a.css("max-width",this.host.width()-30),a.css("overflow","hidden"),a.css("display","block"),this.rtl||f&&a.css("width",this.host.width()-30),a.css("text-overflow","ellipsis"),a.css("padding-bottom",1+parseInt(l)),this.dropdownlistContent.html(a),this.focusable&&this.isOpened()&&this.focus()}else{var v=this.host.width()-this.arrowSize-3;this.width&&"auto"!==this.width&&(f&&(this.rtl||a.css("max-width",v+"px")),a[0].style.overflow="hidden",a[0].style.display="block",a[0].style.paddingTop=1+parseInt(l)+"px",this.rtl||f&&(v<0&&(v=0),a[0].style.width=v+"px"),a[0].style.textOverflow="ellipsis"),this.dropdownlistContent[0].innerHTML=a[0].innerHTML,this.focusable&&this.isOpened()&&this.focus()}var d=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(d=parseInt(this.height));var c=parseInt((parseInt(d)-parseInt(h))/2);c>=0&&(this.dropdownlistContent[0].style.marginTop=c+"px",this.dropdownlistContent[0].style.marginBottom=c+"px"),this.selectionRenderer&&(this.dropdownlistContent[0].style.marginTop="0px",this.dropdownlistContent[0].style.marginBottom="0px"),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var t=new Array;if(-1==this.selectedIndex)this.input.val("");else{var i=this.getSelectedItem();null!=i?(this.input.val(i.value),t.push(i.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var s=this.getCheckedItems(),r="";if(null!=s)for(var n=0;n<s.length;n++){var a=s[n].value;void 0!=a&&(n==s.length-1?r+=a:r+=a+",",t.push(a))}this.input.val(r)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,s){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,s){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(t){e.jqx.utilities.html(this.dropdownlistContent,t),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(t){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||e.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(e,t){isNaN(e)||(this.listBox.unselectIndex(e,t),this.renderSelection())},selectIndex:function(e,t,i,s){this.listBox.selectIndex(e,t,i,s,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(e){return this.listBox.addItem(e)},insertAt:function(e,t){return null!=e&&this.listBox.insertAt(e,t)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){return this.listBox.disableAt(e)},enableAt:function(e){return this.listBox.enableAt(e)},disableItem:function(e){return this.listBox.disableItem(e)},enableItem:function(e){return this.listBox.enableItem(e)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(t,i,s){var r=t.outerWidth(),n=t.outerHeight(),a=e(window).width()+e(window).scrollLeft(),o=e(window).height()+e(window).scrollTop();if(i.left+r>a&&r>this.host.width()){var l=this.host.coord().left,h=r-this.host.width();i.left=l-h+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+n>o&&o>n?Math.abs(n+s+22):0),i},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(){if(e.jqx.aria(this,"aria-expanded",!0),this.listBox._renderOnDemand&&this.listBoxContainer.jqxListBox({_renderOnDemand:!1}),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.width()){var t=this.host.width();this.listBoxContainer.jqxListBox({width:t}),this.container.width(parseInt(t)+25)}var i,s=this,r=this.listBoxContainer,n=this.listBox,a=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),o=parseInt(Math.round(this.host.coord(!0).left));i=o+"px";var l=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();if(null!=this.listBox){this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),null!=l&&l&&(i=e.jqx.mobile.getLeftPos(this.element),a=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(a=parseInt(a)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(i=parseInt(i)-this._getBodyOffset().left+"px")),r.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),"top"==this.dropDownVerticalAlignment?this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",i),this.container.css("top",a),n._arrange();var h=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var d=this.container.outerWidth(),c=Math.abs(d-this.host.width());d>this.host.width()?this.container.css("left",25+parseInt(Math.round(o))-c+"px"):this.container.css("left",25+parseInt(Math.round(o))+c+"px")}if("top"==this.dropDownVerticalAlignment){var u=r.height();h=!0,r.css("top",23),r.addClass(this.toThemeProperty("jqx-popup-up"));var f=parseInt(this.host.outerHeight()),p=parseInt(a)-Math.abs(u+f+23);this.container.css("top",p)}if(this.enableBrowserBoundsDetection){var m=this.testOffset(r,{left:parseInt(this.container.css("left")),top:parseInt(a)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=m.top?(h=!0,r.css("top",23),r.addClass(this.toThemeProperty("jqx-popup-up"))):r.css("top",0),this.container.css("top",m.top),parseInt(this.container.css("left"))!=m.left&&this.container.css("left",m.left)}if("none"==this.animationType)this.container.css("display","block"),e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+this.id,r),r.css("margin-top",0),r.css("opacity",1),n._renderItems(),s._raiseEvent("0",n);else if(this.container.css("display","block"),s.isanimating=!0,"fade"==this.animationType)r.css("margin-top",0),r.css("opacity",0),r.animate({opacity:1},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+s.id,r),s.ishiding=!1,s.isanimating=!1,n._renderItems(),s._raiseEvent("0",n)});else{r.css("opacity",1);var g=r.outerHeight();h?r.css("margin-top",g):r.css("margin-top",-g),r.animate({"margin-top":0},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+s.id,r),s.ishiding=!1,s.isanimating=!1,n._renderItems(),s._raiseEvent("0",n)})}h?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),r.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),r.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(r.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")))}},hideListBox:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this.listBoxContainer,i=this.listBox,s=this.container,r=this;if(e.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!r.ishiding){t.stop();var n=t.outerHeight();t.css("margin-top",0),r.isanimating=!0;var a=-n;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(a=n),"fade"==this.animationType?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1,r.ishiding=!1})):t.animate({"margin-top":a},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1,r.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",i)},closeOpenedListBox:function(t){var i=t.data.me,s=e(t.target),r=t.data.listbox;if(null==r)return!0;if(e(t.target).ischildof(t.data.me.host))return!0;if(!i.isOpened())return!0;if(e(t.target).ischildof(i.listBoxContainer))return!0;var n=!1;return e.each(s.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return n=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return i.element.id==this.id&&(n=!0),!1}}),null!=r&&!n&&i.isOpened()&&i.hideListBox(),!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(e){this.listBox.loadFromSelect(e)},refresh:function(e){!0!==e&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var e=this,t=parseInt(e.host.width()),i=parseInt(e.host.height()),s=(e.arrowSize,e.arrowSize),r=t-s-6;if(r>0&&"auto"!==e.width?e.dropdownlistContent[0].style.width=r+"px":r<=0&&(e.dropdownlistContent[0].style.width="0px"),"auto"===e.width&&(e.dropdownlistContent.css("width","auto"),t=e.dropdownlistContent.width()+s+6,e.host.width(t)),e.dropdownlistContent[0].style.height=i+"px",e.dropdownlistContent[0].style.left="0px",e.dropdownlistContent[0].style.top="0px",e.dropdownlistArrow[0].style.width=s+"px",e.width&&e.width.toString().indexOf("%")>=0){var n=100*s/t,a=100*r/t;e.dropdownlistArrow[0].style.width=n+"%",e.dropdownlistContent[0].style.width=a+"%"}e.dropdownlistArrow[0].style.height=i+"px",e.rtl&&(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right"))},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var t=e.data(this.element,"jqxDropDownList");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this;var r=new e.Event(s);return r.owner=this,2!=t&&3!=t&&4!=t&&5!=t||(r.args=i),this.host.trigger(r)},propertiesChangedHandler:function(e,t,i){if(i.width&&i.height&&2==Object.keys(i).length){if(e._setSize(),"width"==t&&"auto"==e.dropDownWidth){var s=e.host.width();e.listBoxContainer.jqxListBox({width:s}),e.container.width(parseInt(s)+25)}e._arrange(),e.close()}},propertyChangedHandler:function(t,i,s,r){if(void 0!=t.isInitialized&&0!=t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.listBoxContainer.removeClass(t.toThemeProperty("jqx-"+s+"-item")),t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.host.removeClass(t.toThemeProperty("jqx-"+s)),t.host.addClass(t.toThemeProperty("jqx-"+t.template))),"dropDownVerticalAlignment"==i&&(t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down")),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.listBoxContainer.css("top",0),t.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==i&&t.listBoxContainer.jqxListBox({autoItemsHeight:r}),"filterable"==i&&t.listBoxContainer.jqxListBox({filterable:r}),"filterHeight"==i&&t.listBoxContainer.jqxListBox({filterHeight:r}),"filterPlaceHolder"==i&&t.listBoxContainer.jqxListBox({filterPlaceHolder:r}),"filterDelay"==i&&t.listBoxContainer.jqxListBox({filterDelay:r}),"enableSelection"==i&&t.listBoxContainer.jqxListBox({enableSelection:r}),"enableHover"==i&&t.listBoxContainer.jqxListBox({enableHover:r}),"autoOpen"==i&&t._updateHandlers(),"emptyString"==i&&(t.listBox.emptyString=t.emptyString),"itemHeight"==i&&t.listBoxContainer.jqxListBox({itemHeight:r}),"renderer"==i&&t.listBoxContainer.jqxListBox({renderer:r}),"rtl"==i&&(r?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),"source"==i&&(t.listBoxContainer.jqxListBox({source:t.source}),t.listBox.selectedIndex=-1,t.listBox.selectIndex(this.selectedIndex),t.renderSelection(),null==r&&t.clear()),"displayMember"!=i&&"valueMember"!=i||(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection()),"placeHolder"==i&&t.renderSelection(),"theme"==i&&null!=r&&(t.listBoxContainer.jqxListBox({theme:r}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.utilities.setTheme(s,r,t.host)),"autoDropDownHeight"==i&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.height(t.listBoxContainer.height()+25):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25)),t.listBox._arrange(),t.listBox._updatescrollbars()),"searchMode"==i&&t.listBoxContainer.jqxListBox({searchMode:t.searchMode}),"incrementalSearch"==i&&t.listBoxContainer.jqxListBox({incrementalSearch:t.incrementalSearch}),"incrementalSearchDelay"==i&&t.listBoxContainer.jqxListBox({incrementalSearchDelay:t.incrementalSearchDelay}),"dropDownHeight"==i&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),"dropDownWidth"==i||"scrollBarSize"==i){var n=t.width;"auto"!=t.dropDownWidth&&(n=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:n,scrollBarSize:t.scrollBarSize}),t.container.width(parseInt(n)+25)}if(("width"==i||"height"==i)&&r!=s){if(this.refresh(),"width"==i&&"auto"==t.dropDownWidth){var n=t.host.width();t.listBoxContainer.jqxListBox({width:n}),t.container.width(parseInt(n)+25)}t.close()}"checkboxes"==i&&t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),"selectedIndex"==i&&null!=t.listBox&&(t.listBox.selectIndex(parseInt(r)),t.renderSelection())}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxComboBox","",{}),e.extend(e.jqx._jqxComboBox.prototype,{defineInstance:function(){var t={disabled:!1,width:200,height:25,items:new Array,selectedIndex:-1,selectedItems:new Array,_selectedItems:new Array,source:null,autoItemsHeight:!1,scrollBarSize:e.jqx.utilities.scrollBarSize,arrowSize:18,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",emptyString:"",openDelay:250,closeDelay:300,animationType:"default",dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",searchMode:"startswithignorecase",autoComplete:!1,remoteAutoComplete:!1,remoteAutoCompleteDelay:500,selectionMode:"default",minLength:2,displayMember:"",valueMember:"",groupMember:"",searchMember:"",keyboardSelection:!0,renderer:null,autoOpen:!1,template:"",checkboxes:!1,promptText:"",placeHolder:"",rtl:!1,listBox:null,validateSelection:null,showCloseButtons:!0,renderSelectedItem:null,search:null,popupZIndex:1e5,searchString:null,multiSelect:!1,showArrow:!0,_disabledItems:new Array,touchMode:"auto",autoBind:!0,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete"]};return e.extend(!0,this,t),t},createInstance:function(t){if(this.host.attr("role","combobox"),e.jqx.aria(this,"aria-autocomplete","both"),null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw new Error("jqxComboBox: Missing reference to jqxlistbox.js.");e.jqx.aria(this),""!=this.promptText&&(this.placeHolder=this.promptText),this.render()},render:function(){var t=this,i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var s={title:t.field.title};t.field.id.length?s.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxComboBox":s.id=e.jqx.utilities.createId()+"_jqxComboBox";var r=e("<div></div>",s);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),t.element.style.cssText=t.field.style.cssText,e(t.field).hide().after(r);var n=t.host.data();if(t.host=r,t.host.data(n),t.element=r[0],t.element.id=t.field.id,t.field.id=s.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var a=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=a}var o=e.jqx.parseSourceTag(t.field);t.source=o.items,-1==t.selectedIndex&&(t.selectedIndex=o.index)}t.removeHandlers(),t.isanimating=!1,t.id=e.jqx.utilities.createId(),t.element.innerHTML="";var l=e("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='padding: 0; margin: 0; border-top: none; border-bottom: none; float: left; position: absolute;'/><div id='dropdownlistArrow' role='button' style='padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'/></div></div>");if(t.comboStructure=l,null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw"jqxComboBox: Missing reference to jqxlistbox.js.";t.touch=e.jqx.mobile.isTouchDevice(),!0===t.touchMode&&(t.touch=!0),t.host.append(l),t.dropdownlistWrapper=t.host.find("#dropdownlistWrapper"),t.dropdownlistArrow=t.host.find("#dropdownlistArrow"),t.dropdownlistContent=t.host.find("#dropdownlistContent"),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-widget-content")),t.dropdownlistWrapper[0].id="dropdownlistWrapper"+t.element.id,t.dropdownlistArrow[0].id="dropdownlistArrow"+t.element.id,t.dropdownlistContent[0].id="dropdownlistContent"+t.element.id,t.template&&t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-"+t.template)),t.dropdownlistContent.append(e('<input autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" style="box-sizing: border-box; margin: 0; padding: 0; padding-left: 3px; padding-right: 3px; border: 0;" type="textarea"/>')),t.input=t.dropdownlistContent.find("input"),t.input.addClass(t.toThemeProperty("jqx-combobox-input")),t.input.addClass(t.toThemeProperty("jqx-widget-content")),t.host.attr("tabindex")&&(t.input.attr("tabindex",t.host.attr("tabindex")),t.host.removeAttr("tabindex")),t._addInput(),t.rtl&&(t.input.css({direction:"rtl"}),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content-rtl")));try{var h="listBox"+t.id,d=e(e.find("#"+h));d.length>0&&d.remove(),e.jqx.aria(this,"aria-owns",h),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-multiline",!1),t.listBoxContainer&&t.listBoxContainer.jqxListBox("destroy"),t.container&&t.container.remove();var c=e("<div style='overflow: hidden; border: none; background-color: transparent; position: absolute;' id='listBox"+t.id+"'><div id='innerListBox"+t.id+"'></div></div>");c.hide(),c.appendTo(document.body),t.container=c,t.listBoxContainer=e(e.find("#innerListBox"+t.id));var u=t.width;"auto"!=t.dropDownWidth&&(u=t.dropDownWidth),null==t.dropDownHeight&&(t.dropDownHeight=200),t.container.width(parseInt(u)+25),t.container.height(parseInt(t.dropDownHeight)+25),t.addHandler(t.listBoxContainer,"bindingComplete",function(i){t.listBox||(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance),t._raiseEvent("6")});t.listBoxContainer.jqxListBox({autoItemsHeight:t.autoItemsHeight,_checkForHiddenParent:!1,allowDrop:!1,allowDrag:!1,checkboxes:t.checkboxes,emptyString:t.emptyString,autoBind:!t.remoteAutoComplete&&t.autoBind,renderer:t.renderer,rtl:t.rtl,itemHeight:t.itemHeight,selectedIndex:t.selectedIndex,incrementalSearch:!1,width:u,scrollBarSize:t.scrollBarSize,autoHeight:t.autoDropDownHeight,
height:t.dropDownHeight,groupMember:t.groupMember,searchMember:t.searchMember,displayMember:t.displayMember,valueMember:t.valueMember,source:t.source,theme:t.theme,rendered:function(){if(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.remoteAutoComplete)if(t.autoDropDownHeight?(t.container.height(t.listBox.virtualSize.height+25),t.listBoxContainer.height(t.listBox.virtualSize.height),t.listBox._arrange()):(t.listBox._arrange(),t.listBox.ensureVisible(0),t.listBox._renderItems(),t.container.height(t.listBoxContainer.height()+25)),void 0!=t.searchString&&t.searchString.length>=t.minLength){var i=t.listBoxContainer.jqxListBox("items");i&&i.length>0?t.isOpened()||t.open():t.close()}else t.close();else t.renderSelection("mouse"),t.multiSelect&&t.doMultiSelect(!1);t.rendered&&t.rendered()}}),t.listBoxContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.listBoxContainer.css("border-top-width","1px"),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.template&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBox.enableSelection=t.enableSelection,t.listBox.enableHover=t.enableHover,t.listBox.equalItemsWidth=t.equalItemsWidth,t.listBox._arrange(),t.addHandler(t.listBoxContainer,"unselect",function(e){t.multiSelect||t._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),t.addHandler(t.listBoxContainer,"change",function(e){t.multiSelect||(t.selectedIndex=t.listBox.selectedIndex,t._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}))}),"none"==t.animationType?t.container.css("display","none"):t.container.hide(),!1}catch(e){throw e}var f=this;if(f.input.attr("disabled",f.disabled),e.jqx.browser.msie&&e.jqx.browser.version<8||f.input.attr("placeholder",f.placeHolder),t.propertyChangeMap.disabled=function(t,i,s,r){r?(t.host.addClass(f.toThemeProperty("jqx-combobox-state-disabled")),t.host.addClass(f.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(f.toThemeProperty("jqx-combobox-content-disabled"))):(t.host.removeClass(f.toThemeProperty("jqx-combobox-state-disabled")),t.host.removeClass(f.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.removeClass(f.toThemeProperty("jqx-combobox-content-disabled"))),t.input.attr("disabled",t.disabled),e.jqx.aria(t,"aria-disabled",t.disabled),t.input.attr("disabled",t.disabled)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-combobox-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content-disabled"))),t.host.addClass(t.toThemeProperty("jqx-combobox-state-normal")),t.host.addClass(t.toThemeProperty("jqx-combobox")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.dropdownlistArrowIcon=e("<div></div>"),"top"==t.dropDownVerticalAlignment?t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon")),t.dropdownlistArrow.append(t.dropdownlistArrowIcon),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-combobox-arrow-normal")),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl?t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-rc-l")):t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-rc-r")),t._setSize(),t._updateHandlers(),t.addHandler(t.input,"keyup.textchange",function(e){t._writeTimer&&clearTimeout(t._writeTimer),t._writeTimer=setTimeout(function(){t._search(e),t.cinput&&t.input&&(t.displayMember?t._updateInputSelection():t.cinput[0].value=t.input[0].value)},50)}),e.jqx.browser.msie&&e.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0){var p=t.host.parents(".jqx-window").css("z-index");c.css("z-index",p+10),t.listBoxContainer.css("z-index",p+10)}t.checkboxes?(t.input.attr("readonly",!0),e.jqx.aria(this,"aria-readonly",!0)):e.jqx.aria(this,"aria-readonly",!1),t.remoteAutoComplete||(t.searchString="")},_addInput:function(){var t=this.host.attr("name");this.cinput=e("<input type='hidden'/>"),this.host.append(this.cinput),t&&this.cinput.attr("name",t)},_updateInputSelection:function(){if(this.cinput){var t=new Array;if(-1==this.selectedIndex)this.cinput.val("");else{var i=this.getSelectedItem();null!=i?(this.cinput.val(i.value),t.push(i.value)):this.cinput.val(this.dropdownlistContent.text())}if(this.checkboxes||this.multiSelect){if(this.multiSelect)var s=this.getSelectedItems();else var s=this.getCheckedItems();var r="";if(null!=s)for(var n=0;n<s.length;n++)n==s.length-1?r+=s[n].value:r+=s[n].value+",",t.push(s[n].value);this.cinput.val(r)}this.field&&this.cinput&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,s){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,s){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))}},_search:function(t){var i=this;if(9!=t.keyCode&&"none"!=i.searchMode&&null!=i.searchMode&&"undefined"!=i.searchMode&&16!=t.keyCode&&17!=t.keyCode&&20!=t.keyCode&&!i.checkboxes){if(i.multiSelect){var s=e("<span style='visibility: hidden; white-space: nowrap;'>"+i.input.val()+"</span>");s.addClass(i.toThemeProperty("jqx-widget")),e(document.body).append(s);var r=s.width()+15;s.remove(),r>i.host.width()&&(r=i.host.width()),r<25&&(r=25),i.input.css("width",r+"px"),0==i.selectedItems.length?(i.input.css("width","100%"),i.input.attr("placeholder",i.placeHolder)):i.input.attr("placeholder","");var n=parseInt(this._findPos(i.host[0])[1])+parseInt(i.host.outerHeight())-1+"px",a=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();null!=a&&a&&(n=e.jqx.mobile.getTopPos(this.element)+parseInt(i.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(n=parseInt(n)-this._getBodyOffset().top+"px")),i.container.css("top",n);var o=parseInt(i.host.height());i.dropdownlistArrow.height(o)}if(!i.isanimating){if(t.altKey&&38==t.keyCode)return i.hideListBox("altKey"),!1;if(t.altKey&&40==t.keyCode)return i.isOpened()||i.showListBox("altKey"),!1}if(37==t.keyCode||39==t.keyCode)return!1;if(!t.altKey&&18!=t.keyCode&&!(t.keyCode>=33&&t.keyCode<=40||(t.ctrlKey||i.ctrlKey)&&88!=t.keyCode&&86!=t.keyCode)){var l=i.input.val();if(0==l.length&&!i.autoComplete)return i.listBox.searchString=i.input.val(),i.listBox.clearSelection(),i.hideListBox("search"),void(i.searchString=i.input.val());if(i.remoteAutoComplete){var h=this,d=function(){h.listBox.vScrollInstance.value=0};if(l.length>=h.minLength){if(!t.ctrlKey&&!t.altKey){if(h.searchString!=l){var c=h.listBoxContainer.jqxListBox("source");null==c&&h.listBoxContainer.jqxListBox({source:h.source}),i._searchTimer&&clearTimeout(i._searchTimer),13!=t.keyCode&&27!=t.keyCode&&(i._searchTimer=setTimeout(function(){if(d(),h.autoDropDownHeight&&(h.listBox.autoHeight=!0),h.searchString=h.input.val(),null==h.search)throw"'search' function is not defined";h.search(h.input.val())},i.remoteAutoCompleteDelay))}h.searchString=l}}else i._searchTimer&&clearTimeout(i._searchTimer),d(),h.searchString="",h.listBoxContainer.jqxListBox({source:null})}else{var h=this;if(l!==h.searchString){if("27"!=t.keyCode&&"13"!=t.keyCode){var u=i._updateItemsVisibility(l),f=u.matchItems,p=u.index;if(!i.autoComplete&&!i.removeAutoComplete&&(!i.multiSelect||i.multiSelect&&p>=0)){i.listBox.selectIndex(p);i.listBox.isIndexInView(p)?i.listBox._renderItems():i.listBox.ensureVisible(p)}i.autoComplete&&0===f.length&&i.hideListBox("search")}if("13"==t.keyCode){var m="block"==i.container.css("display");if(m&&!i.isanimating)return i.hideListBox("keyboard"),void(i._oldvalue=i.listBox.selectedValue)}else if("27"==t.keyCode){var m="block"==i.container.css("display");if(m&&!i.isanimating){if(v.multiSelect)v.input.val(""),v.listBox.selectedValue=null;else{var g=i.listBox.getVisibleItem(i._oldvalue);if(g){var v=this;setTimeout(function(){v.autoComplete&&v._updateItemsVisibility(""),v.listBox.selectIndex(g.index),v.renderSelection("api")},v.closeDelay)}else i.clearSelection()}return i.hideListBox("keyboard"),i.renderSelection("api"),t.preventDefault(),!1}}else{i.isOpened()||i.opening||t.ctrlKey||i.listBox.visibleItems&&i.listBox.visibleItems.length>0&&i.input.val()!=i.searchString&&void 0!=i.searchString&&-1!=p&&i.showListBox("search"),i.searchString=i.input.val(),""==i.searchString&&(i.listBox.itemsByValue[""]||(p=-1,i.multiSelect||i.clearSelection()));var g=i.listBox.getVisibleItem(p);void 0!=g&&i._updateInputSelection()}}}}}},val:function(e){if(!this.input)return"";if(function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&("date"!=typeof e&&("boolean"!=typeof e&&"string"!=typeof e))}(e)||0==arguments.length){var t=this.getSelectedItem();return t?t.value:this.input.val()}var t=this.getItemByValue(e);return null!=t?this.selectItem(t):this.input.val(e),this.input.val()},focus:function(){var e=this,t=function(){e.input.focus();var t=e.input.val();e._setSelection(0,t.length)};t(),setTimeout(function(){t()},10)},_setSelection:function(e,t){try{if("selectionStart"in this.input[0])this.input[0].focus(),this.input[0].setSelectionRange(e,t);else{var i=this.input[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}catch(e){}},setContent:function(e){this.input.val(e)},_updateItemsVisibility:function(t){var i=this.getItems();if(void 0==i)return{index:-1,matchItem:new Array};var s=this,r=-1,n=new Array,a=0;e.each(i,function(i){var o="";if(!this.isGroup){o=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem",o=o.toString();var l=!1;switch(s.searchMode){case"containsignorecase":l=e.jqx.string.containsIgnoreCase(o,t);break;case"contains":l=e.jqx.string.contains(o,t);break;case"equals":l=e.jqx.string.equals(o,t);break;case"equalsignorecase":l=e.jqx.string.equalsIgnoreCase(o,t);break;case"startswith":l=e.jqx.string.startsWith(o,t);break;case"startswithignorecase":l=e.jqx.string.startsWithIgnoreCase(o,t);break;case"endswith":l=e.jqx.string.endsWith(o,t);break;case"endswithignorecase":l=e.jqx.string.endsWithIgnoreCase(o,t)}if(s.autoComplete&&!l&&(this.visible=!1),l&&s.autoComplete&&(n[a++]=this,this.visible=!0,r=this.visibleIndex),""==t&&s.autoComplete&&(this.visible=!0,l=!1),s.multiSelect&&(this.disabled=!1,(s.selectedItems.indexOf(this.value)>=0||s._disabledItems.indexOf(this.value)>=0)&&(this.disabled=!0,l=!1)),s.multiSelect){if(l&&!s.autoComplete)return-1===r&&(r=this.visibleIndex),!0}else if(l&&!s.autoComplete)return r=this.visibleIndex,!1}}),this.listBox.searchString=t;var o=this,l=function(){if(o.multiSelect){for(var e=0,t=!1,i=null,s=0;s<o.listBox.items.length;s++)o.listBox.selectedIndexes[s]=-1,o.listBox.items[s].disabled||0==t&&(i=o.listBox.items[s],e=i.visibleIndex,t=!0);o.listBox.selectedIndex=-1,o.listBox.selectedIndex=e,o.listBox.selectedIndexes[e]=e,o.listBox.visibleItems.length>0?o.listBox.selectedValue=i?i.value:null:o.listBox.selectedValue=null,o.listBox.ensureVisible(0)}};if(!this.autoComplete)return l(),{index:r,matchItems:n};this.listBox.renderedVisibleItems=new Array;var h=this.listBox.vScrollInstance.value;this.listBox.vScrollInstance.value=0,this.listBox.visibleItems=new Array,this.listBox._renderItems();var d=this.listBox.selectedValue,c=this.listBox.getItemByValue(d);if(this.multiSelect)l();else if(c)if(c.visible){this.listBox.selectedIndex=c.visibleIndex;for(var u=0;u<this.listBox.items.length;u++)this.listBox.selectedIndexes[u]=-1;this.listBox.selectedIndexes[c.visibleIndex]=c.visibleIndex}else{for(var u=0;u<this.listBox.items.length;u++)this.listBox.selectedIndexes[u]=-1;this.listBox.selectedIndex=-1}this.listBox._renderItems();var f=this.listBox._calculateVirtualSize().height;if(f<h&&(h=0,this.listBox.vScrollInstance.refresh()),this.autoDropDownHeight)this._disableSelection=!0,this.listBox.autoHeight!=this.autoDropDownHeight&&this.listBoxContainer.jqxListBox({autoHeight:this.autoDropDownHeight}),this.container.height(f+25),this.listBox.invalidate(),this._disableSelection=!1;else if(f<parseInt(this.dropDownHeight)){var p="hidden"==this.listBox.hScrollBar[0].style.visibility?0:20;this.listBox.height=p+f,this.container.height(f+25+p),this.listBox.invalidate()}else this.listBox.height=parseInt(this.dropDownHeight),this.container.height(parseInt(this.dropDownHeight)+25),this.listBox.invalidate();return this.listBox.vScrollInstance.setPosition(h),{index:r,matchItems:n}},findItems:function(t){var i=this.getItems(),s=this,r=0,n=new Array;return e.each(i,function(i){var a="";if(!this.isGroup){a=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var o=!1;switch(s.searchMode){case"containsignorecase":o=e.jqx.string.containsIgnoreCase(a,t);break;case"contains":o=e.jqx.string.contains(a,t);break;case"equals":o=e.jqx.string.equals(a,t);break;case"equalsignorecase":o=e.jqx.string.equalsIgnoreCase(a,t);break;case"startswith":o=e.jqx.string.startsWith(a,t);break;case"startswithignorecase":o=e.jqx.string.startsWithIgnoreCase(a,t);break;case"endswith":o=e.jqx.string.endsWith(a,t);break;case"endswithignorecase":o=e.jqx.string.endsWithIgnoreCase(a,t)}o&&(n[r++]=this)}}),n},_resetautocomplete:function(){e.each(this.listBox.items,function(e){this.visible=!0}),this.listBox.vScrollInstance.value=0,this.listBox._addItems(),this.listBox.autoHeight=!1,this.listBox.height=this.dropDownHeight,this.container.height(parseInt(this.dropDownHeight)+25),this.listBoxContainer.height(parseInt(this.dropDownHeight)),this.listBox._arrange(),this.listBox._addItems(),this.listBox._renderItems()},getItems:function(){return this.listBox.items},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var t=!1;if(null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.host.height(this.height)),t){var i=this,s=this.host.width();"auto"!=this.dropDownWidth&&(s=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:s}),this.container.width(parseInt(s)+25),this._arrange()}var i=this,r=function(){i.multiSelect&&i.host.height(i.height),i._arrange(),i.multiSelect&&i.host.height("auto")};i.oldWidth=i.host.width(),i.oldHeight=i.host.height(),e.jqx.utilities.resize(this.host,function(){var e=i.host.width(),t=i.host.height();e==i.oldWidth&&t==i.oldHeight||(r(),i.hideListBox("api")),i.oldWidth=e,i.oldHeight=t})},isOpened:function(){var t=this,i=e.data(document.body,"openedCombojqxListBox"+this.element.id);return"block"==this.container.css("display")&&(null!=i&&i==t.listBoxContainer)},_updateHandlers:function(){var t=this,i=!1;this.removeHandlers(),this.multiSelect&&(this.addHandler(this.dropdownlistContent,"click",function(e){if(e.target.href)return!1;t.input.focus(),setTimeout(function(){t.input.focus()},10)}),this.addHandler(this.dropdownlistContent,"focus",function(e){if(e.target.href)return!1;t.input.focus(),setTimeout(function(){t.input.focus()},10)})),this.touch||(this.host.parents()&&this.addHandler(this.host.parents(),"scroll.combobox"+this.element.id,function(e){t.isOpened()&&t.close()}),this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&(i=!0,t.host.addClass(t.toThemeProperty("jqx-combobox-state-hover")),"top"==t.dropDownVerticalAlignment?t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-combobox-arrow-hover")),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&(t.host.removeClass(t.toThemeProperty("jqx-combobox-state-hover")),t.dropdownlistArrowIcon.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.dropdownlistArrowIcon.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover")),t.dropdownlistArrow.removeClass(t.toThemeProperty("jqx-combobox-arrow-hover")),t.dropdownlistArrow.removeClass(t.toThemeProperty("jqx-fill-state-hover")),i=!1)})),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){!t.isOpened()&&t.autoOpen&&(t.open(),t.host.focus())}),this.addHandler(e(document),"mousemove."+t.id,function(e){if(t.isOpened()&&t.autoOpen){var i=t.host.coord(),s=i.top,r=i.left,n=t.container.coord(),a=n.left,o=n.top;canClose=!0,e.pageY>=s&&e.pageY<=s+t.host.height()+2&&e.pageX>=r&&e.pageX<r+t.host.width()&&(canClose=!1),e.pageY>=o&&e.pageY<=o+t.container.height()-20&&e.pageX>=a&&e.pageX<a+t.container.width()&&(canClose=!1),canClose&&t.close()}}));var s="mousedown";this.touch&&(s=e.jqx.mobile.getTouchEventName("touchstart"));var r=function(i){if(!t.disabled){var s="block"==t.container.css("display");if(!t.isanimating){if(s)return t.hideListBox("api"),e.jqx.mobile.isTouchDevice()||(t.input.focus(),setTimeout(function(){t.input.focus()},10)),!0;if(t.autoDropDownHeight){t.container.height(t.listBoxContainer.height()+25);t.listBoxContainer.jqxListBox("autoHeight")||(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.listBox._arrange(),t.listBox.ensureVisible(0),t.listBox._renderItems(),t.container.height(t.listBoxContainer.height()+25))}if(t.showListBox("api"),e.jqx.mobile.isTouchDevice())return!0;setTimeout(function(){t.input.focus()},10)}}};this.addHandler(this.dropdownlistArrow,s,function(e){r()}),this.addHandler(this.dropdownlistArrowIcon,s,function(e){}),this.addHandler(this.host,"focus",function(){t.focus()}),this.addHandler(this.input,"focus",function(e){t.focused=!0,t.host.addClass(t.toThemeProperty("jqx-combobox-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content-focus")),e.stopPropagation&&e.stopPropagation()}),this.addHandler(this.input,"blur",function(){t.focused=!1,t.isOpened()||t.opening||("dropDownList"==t.selectionMode&&t._selectOldValue(),t.host.removeClass(t.toThemeProperty("jqx-combobox-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.dropdownlistContent.removeClass(t.toThemeProperty("jqx-combobox-content-focus"))),t._searchTimer&&clearTimeout(t._searchTimer)}),this.addHandler(e(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.touch&&this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var i="block"==t.container.css("display");if(t.ctrlKey=e.ctrlKey,"none"==t.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&i&&!t.isanimating){if(-1!=t.listBox.selectedIndex){t.renderSelection("mouse");var s=t.listBox.selectedIndex,r=t.listBox.getVisibleItem(s);r&&(t.listBox.selectedValue=r.value),t._setSelection(t.input.val().length,t.input.val().length),t.hideListBox("keyboard")}return"13"==e.keyCode&&(t._oldvalue=t.listBox.selectedValue),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),"9"==e.keyCode}if(115==e.keyCode)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox("keyboard"):t.showListBox("keyboard")),!1;if(e.altKey&&"block"==t.host.css("display")&&(t.isanimating||(38==e.keyCode?t.isOpened()&&t.hideListBox("altKey"):40==e.keyCode&&(t.isOpened()||t.showListBox("altKey")))),("27"==e.keyCode||"9"==e.keyCode)&&t.isOpened()&&!t.isanimating){if("27"==e.keyCode)if(t.multiSelect)t.listBox.selectedValue=null,t.input.val("");else{var r=t.listBox.getItemByValue(t._oldvalue);r?setTimeout(function(){t.autoComplete&&t._updateItemsVisibility(""),t.listBox.selectIndex(r.index),t.renderSelection("api")},t.closeDelay):t.clearSelection()}return t.hideListBox("keyboard"),"9"==e.keyCode?!0:(t.renderSelection("api"),e.preventDefault(),!1)}var n=e.keyCode;if(i&&!t.disabled&&8!=n)return t.listBox._handleKeyDown(e);if(!t.disabled&&!i){var n=e.keyCode;if(33==n||34==n||35==n||36==n||38==n||40==n)return t.listBox._handleKeyDown(e)}if(8===n&&t.multiSelect&&0===t.input.val().length){var a=t.selectedItems[t.selectedItems.length-1];return t.selectedItems.pop(),t._selectedItems.pop(),a&&(t._raiseEvent("3",{index:a.index,type:"keyboard",item:a}),t._raiseEvent("4",{index:a.index,type:"keyboard",item:a})),t.listBox.selectedValue=null,t.doMultiSelect(),!1}}),this.addHandler(this.listBoxContainer,"checkChange",function(e){t.renderSelection("mouse"),t._updateInputSelection(),t._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!t.disabled&&("keyboard"!=e.args.type||t.keyboardSelection)&&(t.renderSelection(e.args.type),t.multiSelect||t._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item}),"mouse"==e.args.type&&(t._oldvalue=t.listBox.selectedValue,!t.checkboxes))){if(t.hideListBox("mouse"),t.touch)return!1;t.input.focus()}}),null!=this.listBox&&null!=this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!t.disabled){if(t.listBox.itemswrapper&&e.target===t.listBox.itemswrapper[0])return!0;if(e.target&&e.target.className&&e.target.className.indexOf("jqx-fill-state-disabled")>=0)return!0;t.renderSelection("mouse"),t._oldvalue=t.listBox.selectedValue,t.touch||t.ishiding||t.checkboxes||(t.hideListBox("mouse"),t.input.focus()),!0===t.touch&&(t.checkboxes||t.hideListBox("mouse"))}})},_selectOldValue:function(){var e=this;if(-1==e.listBox.selectedIndex)if(e.multiSelect)e.listBox.selectedValue=null,e.input.val("");else{var t=e.listBox.getItemByValue(e._oldvalue);t?setTimeout(function(){e.autoComplete&&e._updateItemsVisibility(""),e.listBox.selectIndex(t.index),e.renderSelection("api")},e.closeDelay):(e.clearSelection(),e.listBox.selectIndex(0),e.renderSelection("api"))}else e.renderSelection("api")},removeHandlers:function(){var t=this;if(null!=this.dropdownlistWrapper&&this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.dropdownlistContent&&(this.removeHandler(this.dropdownlistContent,"click"),this.removeHandler(this.dropdownlistContent,"focus")),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),null!=this.input&&(this.removeHandler(this.input,"focus"),this.removeHandler(this.input,"blur")),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(e(document),"mousemove."+t.id),this.listBoxContainer&&(this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.listBoxContainer,"select")),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.combobox"+this.element.id),this.dropdownlistArrowIcon&&this.dropdownlistArrow){var i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistArrowIcon,i),this.removeHandler(this.dropdownlistArrow,i)}},getItem:function(e){return this.listBox.getItem(e)},getItemByValue:function(e){return this.listBox.getItemByValue(e)},getVisibleItem:function(e){return this.listBox.getVisibleItem(e)},renderSelection:function(t){if(void 0!=t&&"none"!=t&&!0!==this._disableSelection&&null!=this.listBox&&!this.multiSelect){var i=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.autoComplete&&!this.checkboxes&&void 0!==this.listBox.selectedValue)var i=this.getItemByValue(this.listBox.selectedValue);if(this.checkboxes){var s=this.getCheckedItems();i=null!=s&&s.length>0?s[0]:null}if(null==i){var r=e.jqx.browser.msie&&e.jqx.browser.version<8;return this.input.val(""),this.input.attr("value",""),r||this.input.attr("placeholder",this.placeHolder),void this._updateInputSelection()}this.selectedIndex=this.listBox.selectedIndex;var n=e("<span></span>");void 0!=i.label&&null!=i.label&&i.label.toString().length>0?e.jqx.utilities.html(n,i.label):void 0!=i.value&&null!=i.value&&i.value.toString().length>0?e.jqx.utilities.html(n,i.value):void 0!=i.title&&null!=i.title&&i.title.toString().length>0?e.jqx.utilities.html(n,i.title):e.jqx.utilities.html(n,this.emptyString);n.outerHeight();if(this.checkboxes){for(var a=this.getCheckedItems(),o="",l=0;l<a.length;l++)l==a.length-1?o+=a[l].label:o+=a[l].label+", ";this.input.val(o)}else this.input.val(n.text());if(n.remove(),this._updateInputSelection(),this.renderSelectedItem){var h=this.renderSelectedItem(this.listBox.selectedIndex,i);void 0!=h&&(this.input[0].value=h)}this.input.attr("value",this.input.val()),this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id)}},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(e){this.selectedIndex=-1,this.listBox.clearSelection(),this.input.val(""),this.multiSelect&&(this.listBox.selectedValue="",this.selectedItems=new Array,this._selectedItems=new Array,this.doMultiSelect(!1))},unselectIndex:function(e,t){if(!isNaN(e)&&(this.autoComplete&&this._updateItemsVisibility(""),this.listBox.unselectIndex(e,t),this.renderSelection("mouse"),this.multiSelect)){if(e>=0){var i=this.getItem(e),s=this.selectedItems.indexOf(i.value);s>=0&&(i.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(s,1),this._selectedItems.splice(s,1))}this.doMultiSelect(!1)}},selectIndex:function(e,t,i,s){this.autoComplete&&this._updateItemsVisibility(""),this.listBox.selectIndex(e,t,i,s),this.renderSelection("mouse"),this.selectedIndex=e,this.multiSelect&&this.doMultiSelect()},selectItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&(this.listBox.selectedIndex=-1,this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"),this.multiSelect&&this.doMultiSelect(!1))},unselectItem:function(e){if(this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"),this.multiSelect)){var t=this.getItemByValue(e);if(t){var i=this.selectedItems.indexOf(t.value);i>=0&&(t.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(i,1),this._selectedItems.splice(i,1))}this.doMultiSelect(!1)}},checkItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.indeterminateItem(e)},getSelectedValue:function(){return this.listBox.selectedValue},getSelectedIndex:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&this._selectedItems.length>0?this.getSelectedItems()[0].index:this._selectedItems&&this._selectedItems.length>0?this.getSelectedItems()[0].index:void 0:this.listBox.selectedIndex},getSelectedItem:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&this._selectedItems.length>0?this.getSelectedItems()[0]:this._selectedItems&&this._selectedItems.length>0?this.getSelectedItems()[0]:null:this.getVisibleItem(this.listBox.selectedIndex)},getSelectedItems:function(){if(this.remoteAutoComplete&&this.multiSelect)return this._selectedItems;var t=new Array,i=this;return e.each(this.selectedItems,function(){var e=i.getItemByValue(this);if(e)t.push(e);else{var e=i._selectedItems[this];e&&t.push(e)}}),t},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},insertAt:function(e,t){return null!=e&&this.listBox.insertAt(e,t)},addItem:function(e){return this.listBox.addItem(e)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){var t=this.getVisibleItem(e);return t&&this._disabledItems.push(t.value),this.listBox.disableAt(e)},enableAt:function(e){var t=this.getVisibleItem(e);return t&&this._disabledItems.splice(this._disabledItems.indexOf(t.value),1),this.listBox.enableAt(e)},disableItem:function(e){var e=this.getVisibleItem(e);return e&&this._disabledItems.push(e.value),this.listBox.disableItem(e)},enableItem:function(e){var e=this.getVisibleItem(e);return e&&this._disabledItems.splice(this._disabledItems.indexOf(e.value),1),this.listBox.enableItem(e)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;if(t){var i=e(t).coord(!0);return[i.left,i.top]}},testOffset:function(t,i,s){var r=t.outerWidth(),n=t.outerHeight(),a=e(window).width()+e(window).scrollLeft(),o=e(window).height()+e(window).scrollTop();if(i.left+r>a&&r>this.host.width()){var l=this.host.coord().left,h=r-this.host.width();i.left=l-h+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+n>o&&o>n?Math.abs(n+s+23):0),i},open:function(){this.isOpened()||this.opening||this.showListBox("api")},close:function(){this.isOpened()&&this.hideListBox("api")},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(t){if(!this.listBox.items||0!=this.listBox.items.length){if("search"!=t||this.autoComplete||this.remoteAutoComplete||this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),(this.autoComplete||this.multiSelect&&!this.remoteAutoComplete)&&"search"!=t&&(this._updateItemsVisibility(""),this.multiSelect))for(var i=this.getVisibleItems(),s=0;s<i.length;s++)if(!i[s].disabled){this.ensureVisible(s);break}if(this.remoteAutoComplete&&this.listBox.clearSelection(),"search"!=t&&(this._oldvalue=this.listBox.selectedValue),e.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&-1!=this.width.indexOf("%")&&this.listBox.host.width()!=this.host.width()){var r=this.host.width();this.listBoxContainer.jqxListBox({width:r}),this.container.width(parseInt(r)+25)}var n,a=this,o=this.listBoxContainer,l=this.listBox,h=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),d=parseInt(Math.round(this.host.coord(!0).left));n=d+"px"
;var c=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();this.ishiding=!1;(e.jqx.utilities.hasTransform(this.host)||null!=c&&c)&&(n=e.jqx.mobile.getLeftPos(this.element),h=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(h=parseInt(h)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(n=parseInt(n)-this._getBodyOffset().left+"px")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected")),"top"==this.dropDownVerticalAlignment?this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-focus")),this.container.css("left",n),this.container.css("top",h),l._arrange();var u=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var f=this.container.outerWidth(),p=Math.abs(f-this.host.width());f>this.host.width()?this.container.css("left",25+parseInt(Math.round(d))-p+"px"):this.container.css("left",25+parseInt(Math.round(d))+p+"px")}if("top"==this.dropDownVerticalAlignment){var m=o.height();u=!0,o.css("top",23),o.addClass(this.toThemeProperty("jqx-popup-up"));var g=parseInt(this.host.outerHeight()),v=parseInt(h)-Math.abs(m+g+23);this.container.css("top",v)}if(this.enableBrowserBoundsDetection){var x=this.testOffset(o,{left:parseInt(this.container.css("left")),top:parseInt(h)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=x.top?(u=!0,o.css("top",23),o.addClass(this.toThemeProperty("jqx-popup-up"))):o.css("top",0),this.container.css("top",x.top),this.container.css("top",x.top),parseInt(this.container.css("left"))!=x.left&&this.container.css("left",x.left)}if("none"==this.animationType)this.container.css("display","block"),e.data(document.body,"openedCombojqxListBoxParent",a),e.data(document.body,"openedCombojqxListBox"+a.element.id,o),o.css("margin-top",0),o.css("opacity",1);else{this.container.css("display","block");var y=o.outerHeight();o.stop(),"fade"==this.animationType?(o.css("margin-top",0),o.css("opacity",0),o.animate({opacity:1},this.openDelay,function(){a.isanimating=!1,a.opening=!1,e.data(document.body,"openedCombojqxListBoxParent",a),e.data(document.body,"openedCombojqxListBox"+a.element.id,o)})):(o.css("opacity",1),u?o.css("margin-top",y):o.css("margin-top",-y),this.isanimating=!0,this.opening=!0,o.animate({"margin-top":0},this.openDelay,function(){a.isanimating=!1,a.opening=!1,e.data(document.body,"openedCombojqxListBoxParent",a),e.data(document.body,"openedCombojqxListBox"+a.element.id,o)}))}l._renderItems(),u?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),o.addClass(this.toThemeProperty("jqx-rc-b-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-t-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),o.addClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-b-expanded"))),o.addClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("0",l)}},doMultiSelect:function(t){this.checkboxes&&(this.multiSelect=!1);var i=this;if(!this.multiSelect){var s=i.dropdownlistContent.find(".jqx-button"),r="mousedown";this.touch&&(r=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(s,r),this.removeHandler(s.find(".jqx-icon-close"),r),s.remove();var n=this.listBox.items;if(!n)return;for(var a=0;a<n.length;a++)n[a].disabled=!1;return this.listBox._renderItems(),this.selectedItems=new Array,void(this._selectedItems=new Array)}if(this.validateSelection){if(!this.validateSelection(this.listBox.selectedValue))return}this.selectedItems;if(this.listBox.selectedValue){if(-1===this.selectedItems.indexOf(this.listBox.selectedValue)){var o=this.getItemByValue(this.listBox.selectedValue);o&&o.visible&&(this.selectedItems.push(this.listBox.selectedValue),this._selectedItems.push(o),this._raiseEvent("2",{index:o.index,item:o}),this._raiseEvent("4",{index:o.index,item:o}))}this.listBox.selectedIndex=0}var n=this.listBox.items;if(n){for(var a=0;a<n.length;a++)n[a].disabled=!1,(this.selectedItems.indexOf(n[a].value)>=0||this._disabledItems.indexOf(this.value)>=0)&&(n[a].disabled=!0);this.listBox._renderItems(),this.searchString="",this.input.val("");var n="",r="mousedown",s=i.dropdownlistContent.find(".jqx-button");this.touch&&(r=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(s,r),this.removeHandler(s.find(".jqx-icon-close"),r),s.remove(),i.input.detach(),this.selectedItems.length>0?(i.input.css("width","25px"),i.input.attr("placeholder","")):(i.input.css("width","100%"),i.input.attr("placeholder",this.placeHolder)),e.each(this.selectedItems,function(t){var s=i.getItemByValue(this);s&&!i.remoteAutoComplete||(s=i._selectedItems[t]);var r=e('<div style="overflow: hidden; float: left;"></div>');if(r.addClass(i.toThemeProperty("jqx-button")),r.addClass(i.toThemeProperty("jqx-combobox-multi-item")),r.addClass(i.toThemeProperty("jqx-fill-state-normal")),r.addClass(i.toThemeProperty("jqx-rc-all")),s){var n=s.label;if(i.renderSelectedItem){var a=i.renderSelectedItem(t,s);a&&(n=a)}""==r[0].innerHTML&&(r[0].innerHTML='<a data-value="'+s.value+'" style="float: left;" href="#">'+n+"</a>"),i.rtl&&(r[0].innerHTML='<a data-value="'+s.value+'" style="float: right;" href="#">'+n+"</a>");var o=i.rtl?"left":"right";if(i.showCloseButtons){var l='<div style="position: relative; overflow: hidden; float: '+o+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>';if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(l='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>'),i.rtl){var l='<div style="position: relative; overflow: hidden; float: '+o+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>';e.jqx.browser.msie&&e.jqx.browser.version<8&&(l='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>')}r[0].innerHTML+=l}}else""==r[0].innerHTML&&(r[0].innerHTML='<a href="#"></a>');i.dropdownlistContent.append(r)}),i.dropdownlistContent.append(i.input),i.input.val(""),!1!==t&&(i.input.focus(),setTimeout(function(){i.input.focus()},10));var s=i.dropdownlistContent.find(".jqx-button");!0===this.touchMode&&(r="mousedown"),this.addHandler(s,r,function(t){if(t.target.className.indexOf("jqx-icon-close")>=0)return!0;if(i.disabled)return!0;var s=e(t.target).attr("data-value");return i.getItemByValue(s)&&(i.listBox.selectedValue=null,i.listBox.clearSelection()),i.listBox.scrollTo(0,0),i.open(),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1}),this.addHandler(s.find(".jqx-icon-close"),r,function(t){if(!i.disabled){var s=e(t.target).parent().parent().find("a").attr("data-value"),r=i.getItemByValue(s);if(r||i.remoteAutoComplete&&!r&&i.selectedItems.indexOf(s)>=0){i.listBox.selectedValue=null;var n=i.selectedItems.indexOf(s),a=r&&r.index>=0?r.index:n;if(n>=0){i.selectedItems.splice(n,1);var o=i._selectedItems[n];o||(o=r),i._selectedItems.splice(n,1),i._raiseEvent("3",{index:a,type:"mouse",item:o}),i._raiseEvent("4",{index:a,type:"mouse",item:o}),i.doMultiSelect()}else for(var l=0;l<i.selectedItems.length;l++){var o=i.selectedItems[l];if(o==s){i.selectedItems.splice(l,1),i._selectedItems.splice(l,1),i._raiseEvent("3",{index:a,type:"mouse",item:r}),i._raiseEvent("4",{index:a,type:"mouse",item:r}),i.doMultiSelect();break}}}}}),i.dropdownlistArrow.height(this.host.height()),i._updateInputSelection()}},hideListBox:function(t){var i=this.listBoxContainer,s=this.listBox,r=this.container;if("none"!=this.container[0].style.display){e.jqx.aria(this,"aria-expanded",!1),"keyboard"!=t&&"mouse"!=t||(this.listBox.searchString=""),("keyboard"==t||"mouse"==t&&this.multiSelect)&&this.doMultiSelect();var n=this;if(e.data(document.body,"openedCombojqxListBox"+this.element.id,null),"none"==this.animationType)this.opening=!1,this.container.css("display","none");else if(!this.ishiding){var a=i.outerHeight();i.css("margin-top",0),i.stop(),this.opening=!1,this.isanimating=!0;var o=-a;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(o=a),"fade"==this.animationType?(i.css({opacity:1}),i.animate({opacity:0},this.closeDelay,function(){n.isanimating=!1,r.css("display","none"),n.ishiding=!1})):i.animate({"margin-top":o},this.closeDelay,function(){n.isanimating=!1,r.css("display","none"),n.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.focused||(this.host.removeClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.removeClass(this.toThemeProperty("jqx-combobox-content-focus"))),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),i.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),i.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),i.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this._raiseEvent("1",s)}},closeOpenedListBox:function(t){var i=t.data.me,s=e(t.target),r=t.data.listbox;if(null==r)return!0;if(!e(t.target).ischildof(t.data.me.host)){var n=!1;return e.each(s.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return n=!0,!1;if(-1!=this.className.indexOf("jqx-combobox"))return i.element.id==this.id&&(n=!0),!1}}),null==r||n||i.isOpened()&&(i.hideListBox("api"),i.input.blur()),!0}},loadFromSelect:function(e){this.listBox.loadFromSelect(e),this.clearSelection()},refresh:function(e){this._setSize(),this._arrange(),this.listBox&&this.renderSelection()},resize:function(){this._setSize(),this._arrange()},_arrange:function(){var t=parseInt(this.host.width()),i=parseInt(this.host.height()),s=(this.arrowSize,this.arrowSize),r=1;this.showArrow||(s=0,0,this.dropdownlistArrow.hide(),r=0,this.host.css("cursor","arrow"));var n=t-s-1*r;n>0&&(this.dropdownlistContent[0].style.width=n+"px"),this.rtl&&(this.dropdownlistContent[0].style.width=-1+n+"px"),this.dropdownlistContent[0].style.height=i+"px",this.dropdownlistContent[0].style.left="0px",this.dropdownlistContent[0].style.top="0px",this.dropdownlistArrow[0].style.width=s+1+"px",this.dropdownlistArrow[0].style.height=i+"px",this.dropdownlistArrow[0].style.left=1+n+"px",this.input[0].style.width="100%",this.multiSelect||this.input.height(i);var a=this.input.height();0==a&&(a=parseInt(this.input.css("font-size"))+3),-1==this.input[0].className.indexOf("jqx-rc-all")&&this.input.addClass(this.toThemeProperty("jqx-rc-all"));var o=parseInt(i)/2-parseInt(a)/2;if(this.rtl&&(this.dropdownlistArrow.css("left","0px"),this.dropdownlistContent.css("left",this.dropdownlistArrow.width()),e.jqx.browser.msie&&e.jqx.browser.version<=8&&this.dropdownlistContent.css("left",1+this.dropdownlistArrow.width())),this.multiSelect){this.input.css("float","left"),this.input.width(25),this.dropdownlistWrapper.parent().css("height","auto"),this.dropdownlistContent.css("height","auto"),this.dropdownlistWrapper.css("height","auto"),this.dropdownlistContent.css("position","relative"),this.dropdownlistContent.css("cursor","text"),this.host.css("height","auto"),this.host.css("min-height",this.height),this.dropdownlistContent.css("min-height",this.height);var i=parseInt(this.host.height());this.dropdownlistArrow.height(i);var l=parseInt(this.host.css("min-height")),o=parseInt(l)/2-parseInt(a)/2;o>0&&this.input.css("margin-top",o)}},destroy:function(){this.source&&this.source.unbindBindingUpdate&&(this.source.unbindBindingUpdate(this.element.id),this.source.unbindBindingUpdate(this.listBoxContainer[0].id),this.source.unbindDownloadComplete(this.element.id),this.source.unbindDownloadComplete(this.listBoxContainer[0].id)),e.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandlers(),this.removeHandler(this.input,"keyup.textchange"),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.cinput.remove(),delete this.cinput,this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,this.dropdownlistArrowIcon.remove(),delete this.dropdownlistArrowIcon,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.dropdownlistContent,delete this.comboStructure,this.container.remove(),delete this.listBox,delete this.container;var t=e.data(this.element,"jqxComboBox");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this;var r=new e.Event(s);return r.owner=this,2!=t&&3!=t&&4!=t&&5!=t||(r.args=i),this.host.trigger(r)},propertiesChangedHandler:function(e,t,i){if(i.width&&i.height&&2==Object.keys(i).length){if(e._setSize(),"width"==t&&"auto"==e.dropDownWidth){var s=e.host.width();e.listBoxContainer.jqxListBox({width:s}),e.container.width(parseInt(s)+25)}e._arrange(),e.close()}},propertyChangedHandler:function(t,i,s,r){if(void 0!=t.isInitialized&&0!=t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.listBoxContainer.removeClass(t.toThemeProperty("jqx-"+s+"-item")),t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.dropDownListArrow.removeClass(t.toThemeProperty("jqx-"+s)),t.dropDownListArrow.addClass(t.toThemeProperty("jqx-"+t.template))),"dropDownVerticalAlignment"==i&&(t.dropdownlistArrowIcon.removeClass(t.toThemeProperty("jqx-icon-arrow-up")),t.dropdownlistArrowIcon.removeClass(t.toThemeProperty("jqx-icon-arrow-down")),"top"==t.dropDownVerticalAlignment?t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.listBoxContainer.css("top",0),t.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==i&&t.listBoxContainer.jqxListBox({autoItemsHeight:r}),"itemHeight"==i&&t.listBoxContainer.jqxListBox({itemHeight:r}),"renderSelectedItem"==i&&t.renderSelection("mouse"),"renderer"==i&&t.listBoxContainer.jqxListBox({renderer:r}),"enableSelection"==i&&t.listBoxContainer.jqxListBox({enableSelection:r}),"enableHover"==i&&t.listBoxContainer.jqxListBox({enableHover:r}),"touchMode"===i&&(t.listBoxContainer.jqxListBox({touchMode:r}),t.touch=e.jqx.mobile.isTouchDevice(),!0===t.touchMode&&(t.touch=!0),t._updateHandlers()),"multiSelect"==i)if(r)t.doMultiSelect(!1);else{for(var n=t.listBox.items,a=-1,o=0;o<n.length;o++)n[o].disabled=!1,(t.selectedItems.indexOf(n[o].value)>=0||t._disabledItems.indexOf(t.value)>=0)&&(n[o].disabled=!0,a=n[o].index);if(t.doMultiSelect(!1),t.listBox._renderItems(),!n)return;t.listBox.selectedIndex=a,t.renderSelection("mouse"),t.dropdownlistWrapper.parent().css("height","100%"),t.dropdownlistContent.css("height","100"),t.dropdownlistWrapper.css("height","100"),t.dropdownlistContent.css("position","relative"),t.host.css("min-height",null),t._setSize(),t._arrange()}if("showArrow"==i&&(t._arrange(),t.multiSelect&&t.doMultiSelect(!1)),"placeHolder"==i&&t.input.attr("placeholder",t.placeHolder),"popupZIndex"==i&&t.listBoxContainer.css({zIndex:t.popupZIndex}),"promptText"==i&&(t.placeHolder=r),"autoOpen"==i&&t._updateHandlers(),"renderer"==i&&(t.listBox.renderer=t.renderer),"itemHeight"==i&&(t.listBox.itemHeight=r),"source"==i&&(t.input.val(""),t.listBoxContainer.jqxListBox({source:t.source}),t.renderSelection("mouse"),null==t.source&&t.clearSelection(),t.multiSelect&&(t.selectedItems=new Array,t._selectedItems=new Array,t.doMultiSelect(!1))),"rtl"==i&&(r?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),"displayMember"!=i&&"valueMember"!=i||(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection("mouse")),"autoDropDownHeight"==i&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.height(t.listBoxContainer.height()+25):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25)),t.listBox._arrange(),t.listBox._updatescrollbars()),"dropDownHeight"==i&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),"dropDownWidth"==i||"scrollBarSize"==i){var l=t.width;"auto"!=t.dropDownWidth&&(l=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:l,scrollBarSize:t.scrollBarSize}),t.container.width(parseInt(l)+25)}if("autoComplete"==i&&t._resetautocomplete(),"checkboxes"==i&&(t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),t.checkboxes?(t.input.attr("readonly",!0),e.jqx.aria(t,"aria-readonly",!0)):e.jqx.aria(t,"aria-readonly",!1)),"theme"==i&&null!=r&&(t.listBoxContainer.jqxListBox({theme:r}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),e.jqx.utilities.setTheme(s,r,t.host)),"rtl"==i&&(t.render(),t.refresh()),"width"==i||"height"==i){if(t._setSize(),"width"==i&&"auto"==t.dropDownWidth){var l=t.host.width();t.listBoxContainer.jqxListBox({width:l}),t.container.width(parseInt(l)+25)}t._arrange(),t.close()}"selectedIndex"==i&&(t.listBox.selectIndex(r),t.renderSelection("mouse"))}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTooltip","",{}),e.extend(e.jqx._jqxTooltip.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",position:"default",enableBrowserBoundsDetection:!0,content:"",left:0,top:0,absolutePositionX:0,absolutePositionY:0,trigger:"hover",showDelay:100,autoHide:!0,autoHideDelay:3e3,closeOnClick:!0,disabled:!1,animationShowDelay:200,animationHideDelay:"fast",showArrow:!0,name:"",opacity:.9,rtl:!1,_isOpen:!1,opening:null,value:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend")},events:["open","close","opening","closing"]};return e.extend(!0,this,t),t},createInstance:function(t){this._isTouchDevice=e.jqx.mobile.isTouchDevice();var i=e.data(document.body,"_tooltipIDArray"+this.name);i?this.ID_Array=i:(this.ID_Array=new Array,e.data(document.body,"_tooltipIDArray"+this.name,this.ID_Array));var s=this._generatekey(),r="jqxtooltip"+s;this.ID_Array.push({tooltipID:r,tooltipHost:this.host});var n=e('<div id="'+r+'"><div id ="'+r+'Main"><div id="'+r+'Text"></div></div><div id="'+r+'Arrow"></div></div>');e.jqx.browser.msie&&n.addClass(this.toThemeProperty("jqx-noshadow")),e("body").append(n),this._setTheme();var a=e("#"+r);a.css("visibility","hidden"),a.css("display","none"),a.css("opacity",0),a.css("z-index",99999),0==this.showArrow&&(e("#"+r+"Arrow").css("visibility","hidden"),e("#"+r+"Arrow").css("display","none")),this._setSize(),this._setContent(),0==this.disabled&&(this._trigger(),1==this.closeOnClick&&this._clickHide())},open:function(){if(arguments&&arguments.length&&2==arguments.length&&(this.position="absolute",this.left=arguments[0],this.top=arguments[1],this.absolutePositionX=arguments[0],this.absolutePositionY=arguments[1]),0==this.disabled&&"removed"!=this._id())if("mouse"==this.position||"mouseenter"==this.position){var e=this.position;this.position="default",this._raiseEvent("2"),this._setPosition(),this._animateShow(),this.position=e}else this._raiseEvent("2"),this._setPosition(),this._animateShow()},close:function(t){var i=this;"object"==typeof t&&e.isEmptyObject(t)&&(t=this.animationHideDelay);var s=new Number(e(this._id()).css("opacity")).toFixed(2),r=function(){clearTimeout(i.autoHideTimeout),i._raiseEvent("3"),e(i._id()).animate({opacity:0},t,function(){e(i._id()).css("visibility","hidden"),e(i._id()).css("display","none"),i._raiseEvent("1"),i._isOpen=!1})};if(0==this._isOpen&&0!=s)return e(i._id()).stop(),void r();1==this._isOpen&&s==this.opacity&&r()},destroy:function(){var t=this.ID_Array.length;this._removeHandlers(),e(this._id()).remove();for(var i=0;i<t;i++)if(this.ID_Array[i].tooltipHost===this.host){this.ID_Array.splice(i,1);break}e(this.element).removeData("jqxTooltip")},refresh:function(t){if(1!=t){this.rtl&&(e(this._id()+"Text").addClass(this.toThemeProperty("jqx-rtl")),e(this._id()+"Text").css({direction:"rtl"}));var i=this,s=new Number(e(this._id()).css("opacity")).toFixed(2);"removed"!=this._id()&&(1==this.disabled&&1==this._isOpen&&s==this.opacity&&(clearTimeout(this.autoHideTimeout),e(this._id()).stop(),e(this._id()).animate({opacity:0},this.animationHideDelay,function(){e(i._id()).css("visibility","hidden"),e(i._id()).css("display","none"),i._isOpen=!1})),this._setTheme(),this._setContent(),this._setSize(),"mouse"!=this.position&&"mouseenter"!=this.position&&this._setPosition(),this._removeHandlers(),0==this.disabled&&(this._trigger(),1==this.closeOnClick&&this._clickHide()))}},propertyChangedHandler:function(e,t,i,s){"content"==t&&(this.changeContentFlag=!0),e.refresh()},_raiseEvent:function(t,i){var s=this.events[t],r=new e.Event(s);r.owner=this,r.args=i;try{var n=this.host.trigger(r)}catch(e){}return n},_generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()},_id:function(){for(var e,t,i=this.ID_Array.length,s=0;s<i;s++)if(this.ID_Array[s].tooltipHost===this.host){e=this.ID_Array[s].tooltipID,t="#"+e;break}return void 0==t&&(t="removed"),t},_setPosition:function(t){if(0==this._isOpen&&0==e(this._id()).css("opacity")||1==this.changeContentFlag){if(!t&&("mouse"==this.position||"mouseenter"==this.position))return;e(this._id()).css("display","block"),this.changeContentFlag=!1,this.documentTop=e(document).scrollTop(),this.documentLeft=e(document).scrollLeft(),this.windowWidth=e(window).width(),this.windowHeight=e(window).height(),this.host_width=this.host.outerWidth(),this.host_height=this.host.outerHeight(),this.tooltip_width=e(this._id()).width(),this.tooltip_height=e(this._id()).height(),this.host_offset=this.host.offset(),this.tooltip_offset=e(this._id()).offset(),this.default_offset=30,this.offset_horizontal=parseInt(this.left),this.offset_vertical=parseInt(this.top);var i=e(this._id()+"Arrow"),s=e(this._id()+"Main");switch(this.arrow_size=5,this.tooltip_main_offset=s.offset(),this.tooltip_arrow_offset,this.position){case"top":this.tooltip_offset.left=this.host_offset.left+this.host_width/2-this.tooltip_width/2+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(s.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+s.height(),i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom":this.tooltip_offset.left=this.host_offset.left+this.host_width/2-this.tooltip_width/2+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(s.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"left":this.tooltip_offset.left=-1+this.host_offset.left-this.tooltip_width-this.arrow_size+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height/2-this.tooltip_height/2+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.css({"border-width":this.arrow_size+"px 0px "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_main_offset=s.offset(),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=1+this.tooltip_main_offset.left+s.width(),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+s.height()/2-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"right":this.tooltip_offset.left=this.host_offset.left+this.host_width+this.arrow_size+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height/2-this.tooltip_height/2+this.offset_vertical,this.tooltip_offset.top=parseInt(this.tooltip_offset.top),this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px "+this.arrow_size+"px 0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left-this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+s.height()/2-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"top-left":this.tooltip_offset.left=this.host_offset.left+this.default_offset-this.tooltip_width+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+s.width()-6*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+s.height(),i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom-left":this.tooltip_offset.left=this.host_offset.left+this.default_offset-this.tooltip_width+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+s.width()-6*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"top-right":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+s.height(),i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom-right":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"absolute":e(this._id()).offset({top:this.absolutePositionY,left:this.absolutePositionX}),i.css({"border-width":"0px"});break;case"mouse":var r=this;if(0==this._isTouchDevice)switch(this.trigger){case"hover":this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout),this.mouseHoverTimeout=setTimeout(function(){r.tooltip_offset.left=t.pageX+10,r.tooltip_offset.top=t.pageY+10,r._detectBrowserBounds()},this.showDelay);break;case"click":this.tooltip_offset.left=t.pageX+10,this.tooltip_offset.top=t.pageY+10,this._detectBrowserBounds()}else{var n=t.pageX,a=t.pageY;if(t.originalEvent){var o=null;if(t.originalEvent.touches&&t.originalEvent.touches.length)var o=t.originalEvent.touches[0];else if(t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length)var o=t.originalEvent.changedTouches[0];void 0!=o&&(n=o.pageX,a=o.pageY)}this.tooltip_offset.left=n+10,this.tooltip_offset.top=a+10,this._detectBrowserBounds()}i.css({"border-width":"0px"});break;case"mouseenter":var l={top:t.pageY,
left:t.pageX};l.top<this.host_offset.top+10&&l.top>this.host_offset.top-10?(this.tooltip_offset.left=l.left-this.tooltip_width/2,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(s.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+s.height(),i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):l.top<this.host_offset.top+this.host_height+10&&l.top>this.host_offset.top+this.host_height-10?(this.tooltip_offset.left=l.left-this.tooltip_width/2,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(s.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):l.left<this.host_offset.left+10&&l.left>this.host_offset.left-10?(this.tooltip_offset.left=this.host_offset.left-this.tooltip_width-this.arrow_size,this.tooltip_offset.top=l.top-this.tooltip_height/2,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.css({"border-width":this.arrow_size+"px 0px "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_main_offset=s.offset(),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+s.width(),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+s.height()/2-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):l.left<this.host_offset.left+this.host_width+10&&l.left>this.host_offset.left+this.host_width-10&&(this.tooltip_offset.left=this.host_offset.left+this.host_width+this.arrow_size,this.tooltip_offset.top=l.top-this.tooltip_height/2,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px "+this.arrow_size+"px 0px"}),this.tooltip_main_offset=s.offset(),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left-this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+s.height()/2-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left}));break;case"default":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})}}},_setContent:function(){e(this._id()+"Text").html(this.content)},opened:function(){return this._isOpen&&"block"==this.host.css("display")&&"visible"==this.host.css("visibility")},_animateShow:function(){this._closeAll(),clearTimeout(this.autoHideTimeout);var t=new Number(e(this._id()).css("opacity")).toFixed(2);if(0==this._isOpen&&0==t){var i=this,s=e(this._id());if(s.css("visibility","visible"),s.css("display","block"),s.stop(),s.css("opacity",0),this.opening){if(!1===this.opening(this))return}s.animate({opacity:this.opacity},this.animationShowDelay,function(){i._raiseEvent("0"),i._isOpen=!0;e.data(document.body,"_openedTooltip"+i.name);i.openedTooltip=i,e.data(document.body,"_openedTooltip"+i.name,i),i.autoHideTimeout&&clearTimeout(i.autoHideTimeout),i.autoHideDelay>0&&!0===i.autoHide&&(i.autoHideTimeout=setTimeout(function(){i._autoHide()},i.autoHideDelay))})}},_trigger:function(){if("removed"!=this._id()){this._enterFlag,this._leaveFlag;var t=this;if(0==this._isTouchDevice)switch(this.trigger){case"hover":"mouse"==this.position?(this.addHandler(this.host,"mousemove.tooltip",function(e){1==t._enterFlag&&(t._raiseEvent("2"),t._setPosition(e),clearTimeout(t.hoverShowTimeout),t.hoverShowTimeout=setTimeout(function(){t._animateShow(),t._enterFlag=0},t.showDelay))}),this.addHandler(this.host,"mouseenter.tooltip",function(){0!=t._leaveFlag&&(t._enterFlag=1)}),this.addHandler(this.host,"mouseleave.tooltip",function(i){t._leaveFlag=1,clearTimeout(t.hoverShowTimeout);var s=e(t._id()).offset(),r=e(t._id()).width(),n=e(t._id()).height();(parseInt(i.pageX)<parseInt(s.left)||parseInt(i.pageX)>parseInt(s.left)+r)&&t.close(),(parseInt(i.pageY)<parseInt(s.top)||parseInt(i.pageY)>parseInt(s.top)+n)&&t.close()}),this.addHandler(e(this._id()),"mouseleave.tooltip",function(e){t._checkBoundariesAuto(e),0!=t._clickFlag&&0!=t._autoFlag?t._leaveFlag=0:(t._leaveFlag=1,t.close())})):(this.addHandler(this.host,"mouseenter.tooltip",function(e){clearTimeout(t.hoverShowTimeout),t.hoverShowTimeout=setTimeout(function(){t._raiseEvent("2"),t._setPosition(e),t._animateShow()},t.showDelay)}),this.addHandler(this.host,"mouseleave.tooltip",function(i){if(t._leaveFlag=1,clearTimeout(t.hoverShowTimeout),t.autoHide){var s=i.pageX,r=i.pageY,n=e(t._id()).offset(),a=n.left,o=n.top,l=e(t._id()).width(),h=e(t._id()).height();(parseInt(s)<parseInt(a)||parseInt(s)>parseInt(a)+l||parseInt(r)<parseInt(o)||parseInt(r)>parseInt(o)+h)&&t.close()}}),this.addHandler(e(this._id()),"mouseleave.tooltip",function(e){t._checkBoundariesAuto(e),0!=t._clickFlag&&0!=t._autoFlag?t._leaveFlag=0:(t._leaveFlag=1,t.autoHide&&t.close())}));break;case"click":this.addHandler(this.host,"click.tooltip",function(e){"mouseenter"==t.position&&(t.position="mouse"),t._raiseEvent("2"),t._setPosition(e),t._animateShow()})}else"none"!=this.trigger&&this.addHandler(this.host,"touchstart.tooltip",function(e){"mouseenter"==t.position&&(t.position="mouse"),t._raiseEvent("2"),t._setPosition(e),t._animateShow()})}},_autoHide:function(){var t=this,i=new Number(e(this._id()).css("opacity")).toFixed(2);1==this.autoHide&&1==this._isOpen&&i>=this.opacity&&(t._raiseEvent("3"),e(t._id()).animate({opacity:0},t.animationHideDelay,function(){e(t._id()).css("visibility","hidden"),e(t._id()).css("display","none"),t._raiseEvent("1"),t._isOpen=!1}))},_clickHide:function(){var t=this;this.addHandler(e(this._id()),"click.tooltip",function(e){t._checkBoundariesClick(e),t.close()})},_setSize:function(){e(this._id()).css({width:this.width,height:this.height})},resize:function(){this._setSize()},_setTheme:function(){var t=this._id(),i=e(t+"Main"),s=e(t+"Text"),r=e(t+"Arrow");i.addClass(this.toThemeProperty("jqx-widget")),s.addClass(this.toThemeProperty("jqx-widget")),r.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-fill-state-normal")),s.addClass(this.toThemeProperty("jqx-fill-state-normal")),r.addClass(this.toThemeProperty("jqx-fill-state-normal")),e(t).addClass(this.toThemeProperty("jqx-tooltip")),e(t).addClass(this.toThemeProperty("jqx-popup")),i.addClass(this.toThemeProperty("jqx-tooltip-main")),s.addClass(this.toThemeProperty("jqx-tooltip-text")),r.addClass(this.toThemeProperty("jqx-tooltip-arrow"))},_initialPosition:function(){var e=this.position;this.position="default",this._setPosition(),this.position=e},_detectBrowserBounds:function(){var t=this._id();this.enableBrowserBoundsDetection?this.tooltip_offset.top<this.documentTop&&this.tooltip_offset.left<0?e(t).offset({top:this.documentTop,left:this.documentLeft}):this.tooltip_offset.top<this.documentTop&&this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?e(t).offset({top:this.documentTop,left:this.windowWidth+this.documentLeft-this.tooltip_width}):this.tooltip_offset.top<this.documentTop?e(t).offset({top:this.documentTop,left:this.tooltip_offset.left}):this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop&&this.tooltip_offset.left<0?e(t).offset({top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.documentLeft}):this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop&&this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?e(t).offset({top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.windowWidth+this.documentLeft-this.tooltip_width}):this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop?e(t).offset({top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.tooltip_offset.left}):this.tooltip_offset.left<0?e(t).offset({top:this.tooltip_offset.top,left:this.documentLeft}):this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?e(t).offset({top:this.tooltip_offset.top,left:this.windowWidth+this.documentLeft-this.tooltip_width}):e(t).offset({top:this.tooltip_offset.top,left:this.tooltip_offset.left}):e(t).offset({top:this.tooltip_offset.top,left:this.tooltip_offset.left})},_checkBoundaries:function(e){return e.pageX>=this.host_offset.left&&e.pageX<=this.host_offset.left+this.host_width&&e.pageY>=this.host_offset.top&&e.pageY<=this.host_offset.top+this.host_height},_checkBoundariesClick:function(e){this._checkBoundaries(e)?this._clickFlag=1:this._clickFlag=0},_checkBoundariesAuto:function(e){this._checkBoundaries(e)?this._autoFlag=1:this._autoFlag=0},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter.tooltip"),this.removeHandler(this.host,"mousemove.tooltip"),this.removeHandler(this.host,"mouseleave.tooltip"),this.removeHandler(this.host,"click.tooltip"),this.removeHandler(this.host,"touchstart.tooltip"),this.removeHandler(e(this._id()),"click.tooltip"),this.removeHandler(e(this._id()),"mouseleave.tooltip")},_closeAll:function(){for(var t=this.ID_Array.length,i=0;i<t;i++){var s="#"+this.ID_Array[i].tooltipID;s!=this._id()&&(e(s).css({opacity:0,visibility:"hidden",display:"none"}),this._isOpen=!1)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxPasswordInput","",{}),e.extend(e.jqx._jqxPasswordInput.prototype,{defineInstance:function(){var t={width:null,height:null,disabled:!1,rtl:!1,placeHolder:null,showStrength:!1,showStrengthPosition:"right",maxLength:null,minLength:null,showPasswordIcon:!0,strengthTypeRenderer:null,passwordStrength:null,changeType:null,localization:{passwordStrengthString:"Password strength",tooShort:"Too short",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong",showPasswordString:"Show Password"},strengthColors:{tooShort:"rgb(170, 0, 51)",weak:"rgb(170, 0, 51)",fair:"rgb(255, 204, 51)",good:"rgb(45, 152, 243)",strong:"rgb(118, 194, 97)"}};return e.extend(!0,this,t),t},createInstance:function(e){this.render()},render:function(){var t=this,i=e.jqx.browser.browser,s=e.jqx.browser.version;this._browserCheck="msie"!=i||"7.0"!=s&&"8.0"!=s,this.widgetID=t.element.id;if("password"!=t.host.attr("type"))throw"Invalid input type. Please set the type attribute of the input element to password.";t._hidden=!0,t._setTheme(),t._setAttributes(),t._showPassword(),t._showStrength()},refresh:function(t){var i=this;1!=t&&(i.removeHandler(i.host,"change.passwordinput"+i.widgetID),i.removeHandler(i.host,"focus.passwordinput"+i.widgetID),i.removeHandler(i.host,"blur.passwordinput"+i.widgetID),i.removeHandler(i.host,"click.passwordinput"+i.widgetID),i.removeHandler(e(window),"resize.passwordinput"+i.widgetID),i.removeHandler(i.host,"keyup.passwordinput"+i.widgetID),i.removeHandler(i.icon,"mousedown.passwordinput"+i.iconID),i.removeHandler(i.icon,"mouseup.passwordinput"+i.iconID),i.removeHandler(e(document),"mousedown.passwordinput"+i.iconID),i._setAttributes(),i._setTheme(),i._showPassword(),i._showStrength())},val:function(t){var i=this,s=i.element.value,r="placeholder"in i.element;if(e.isEmptyObject(t)&&""!=t)return r||s!==i.placeHolder||(s=""),s;if(!r||t!==s){if(!r){if(""===t)return void(s!==i.placeHolder&&(i.element.value=i.placeHolder,i.host.attr("type","text")));i.host.attr("type","password")}i.element.value=t,!0===i.showStrength&&i._evaluateStrength()}},propertyChangedHandler:function(t,i,s,r){var n=this.host;return"theme"===i?void e.jqx.utilities.setTheme(s,r,t.host):"disabled"==i?void(1==t.disabled?(t.host.attr("disabled","disabled"),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled"))):(t.host.removeAttr("disabled"),t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")))):void("placeHolder"==i?this._browserCheck&&("placeholder"in this.element?n.attr("placeholder",this.placeHolder):""==n.val()?(n.attr("type","text"),t.element.value=r):n.val()==s&&(t.element.value=r)):this.refresh())},resize:function(e,t){this.width=e,this.height=t,this.host.width(this.width),this.host.height(this.height)},_setAttributes:function(){var e=this,t=e.host;t.width(e.width),t.height(e.height),e.maxLength&&t.attr("maxlength",e.maxLength),e.minLength&&t.attr("minLength",e.minLength),e.placeHolder&&e._browserCheck&&("placeholder"in e.element?t.attr("placeholder",e.placeHolder):""==t.val()&&(t.attr("type","text"),e.element.value=e.placeHolder)),1==e.disabled?(t.attr("disabled","disabled"),t.addClass(this.toThemeProperty("jqx-fill-state-disabled"))):(t.removeAttr("disabled"),t.removeClass(e.toThemeProperty("jqx-fill-state-disabled")));var i=!1;e.addHandler(t,"change.passwordinput"+e.widgetID,function(t){i||(t.stopImmediatePropagation(),t.preventDefault(),t.stopPropagation(),i=!0,e._raiseEvent(),i=!1)}),e.addHandler(t,"click.passwordinput"+e.widgetID,function(){e.showPasswordIcon&&e.icon&&(e.icon.show(),e._positionIcon())}),e.interval=null,e.addHandler(t,"keydown.passwordinput"+e.widgetID,function(){if(e.changeType="keyboard",e.showPasswordIcon&&e.icon){e.interval&&clearInterval(e.interval);var t=0;e.interval=setInterval(function(){"none"!=e.icon[0].style.display?(e._positionIcon(),++t>5&&clearInterval(e.interval)):clearInterval(e.interval)},100)}}),e.addHandler(t,"focus.passwordinput"+e.widgetID,function(){if(e._focused=!0,e.host.addClass(e.toThemeProperty("jqx-fill-state-focus")),!e.placeHolder||!e._browserCheck||"placeholder"in e.element||t.val()!=e.placeHolder||(t.val(""),1==e._hidden&&t.attr("type","password")),e.val().length>0&&1==e.showStrength){t.jqxTooltip("content")&&t.jqxTooltip("open")}e.showPasswordIcon&&e.icon&&(e.icon.show(),e._positionIcon())}),e.addHandler(t,"blur.passwordinput"+e.widgetID,function(){e._focused=!1,e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus")),!e.placeHolder||!e._browserCheck||"placeholder"in e.element||""!=t.val()||(e.element.value=e.placeHolder,t.attr("type","text")),1==e.showPasswordIcon&&e._browserCheck&&(0==e.rtl?e.host.removeClass(e.toThemeProperty("jqx-passwordinput-password-icon-ltr")):e.host.removeClass(e.toThemeProperty("jqx-passwordinput-password-icon-rtl"))),1==e.showStrength&&t.jqxTooltip("close"),e.showPasswordIcon&&e.icon&&e.icon.hide()})},destroy:function(){this.host.jqxTooltip&&this.host.jqxTooltip("destroy"),this.host.remove()},_setTheme:function(){var e=this.host,t=this;e.addClass(t.toThemeProperty("jqx-widget")),e.addClass(t.toThemeProperty("jqx-widget-content")),e.addClass(t.toThemeProperty("jqx-input")),e.addClass(t.toThemeProperty("jqx-rc-all")),1==t.rtl?(e.addClass(t.toThemeProperty("jqx-rtl")),e.css("direction","rtl")):(e.removeClass(t.toThemeProperty("jqx-rtl")),e.css("direction","ltr"))},_showPassword:function(){if(1==this.showPasswordIcon&&this._browserCheck){var t=this;this.iconID=this.widgetID+"-password-icon",e("<span tabindex='-1' hasfocus='false' style='position: absolute; display: none;' id='"+t.iconID+"'></span>").insertAfter(t.host);var i=e("#"+t.iconID);t.icon=i,i.addClass(t.toThemeProperty("jqx-passwordinput-password-icon")),i.attr("title",t.localization.showPasswordString),t._positionIcon();var s=function(){t.host.attr("type","password"),t._hidden=!0,i.attr("title",t.localization.showPasswordString)},r=function(){0==t._hidden?s():1==t._hidden&&(t.host.attr("type","text"),t._hidden=!1)};e.jqx.mobile.isTouchDevice()?t.addHandler(t.icon,"mousedown.passwordinput"+t.iconID,function(e){return r(),!1}):(t.addHandler(t.icon,"mousedown.passwordinput"+t.iconID,function(e){return r(),!1}),t.addHandler(t.icon,"mouseup.passwordinput"+t.iconID,function(e){return s(),!1}),t.addHandler(e(document),"mousedown.passwordinput"+t.iconID,function(e){t._focused&&s()}))}},_positionIcon:function(){var e=this.host.offset(),t=this.host.outerWidth(),i=this.host.outerHeight();1==this.rtl?this.icon.offset({top:parseInt(e.top+i/2-5),left:e.left+2}):this.icon.offset({top:parseInt(e.top+i/2-5),left:e.left+t-18})},_showStrength:function(){var t=this;if(1==t.showStrength){if(void 0==t.host.jqxTooltip)throw new Error("jqxPasswordInput: Missing reference to jqxtooltip.js");var i,s=t.widgetID+"Strength",r=s+"Value",n=s+"Indicator";if(t.strengthTypeRenderer){var a=t.host.val();"placeholder"in t.element||!t._browserCheck||a!=t.placeHolder||(a=""),t._countCharacters();var o=t.localization.tooShort;i=t.strengthTypeRenderer(a,{letters:t.letters,numbers:t.numbers,specialKeys:t.specials},o)}else i="<div style='width: 220px;' id='"+s+"'><div><span style='font-weight: bold;'>"+t.localization.passwordStrengthString+": </span><span id='"+r+"'></span></div><div id='"+n+"'></div></div>";t.host.jqxTooltip({theme:t.theme,position:t.showStrengthPosition,content:i,trigger:"none",autoHide:!1,rtl:t.rtl}),t.strengthTypeRenderer||(e("#"+r).html(t.localization.tooShort),e("#"+n).addClass("jqx-passwordinput-password-strength-inicator").css("background-color",t.strengthColors.tooShort),0==t.rtl?e("#"+n).css("float","left"):e("#"+n).css("float","right")),t._checkStrength()}},_checkStrength:function(){var t=this;t.addHandler(e(window),"resize.passwordinput"+t.widgetID,function(){t.icon&&t.icon.hide()}),t.addHandler(t.host,"keyup.passwordinput"+t.widgetID,function(){t._evaluateStrength()})},_raiseEvent:function(t){var i=new e.Event("change");return i.args={type:this.changeType},this.changeType=null,i.owner=this,this.host.trigger(i)},_evaluateStrength:function(){var t=this,i=t.host.val(),s=i.length;if(t._countCharacters(),s>0&&1==t.showStrength){!t.host.jqxTooltip("opened")&&t.host.jqxTooltip("open")}var r,n=t.letters+t.numbers+2*t.specials+t.letters*t.numbers/2+s;if(r=s<8?t.localization.tooShort:n<20?t.localization.weak:n<30?t.localization.fair:n<40?t.localization.good:t.localization.strong,t.strengthTypeRenderer){var a=t.strengthTypeRenderer(i,{letters:t.letters,numbers:t.numbers,specialKeys:t.specials},r);t.host.jqxTooltip({content:a})}else{if(t.passwordStrength){var a=t.passwordStrength(i,{letters:t.letters,numbers:t.numbers,specialKeys:t.specials},r);e.each(t.localization,function(){if(a==this)return r=a,!1})}e("#"+t.widgetID+"StrengthValue").html(r);var o=e("#"+t.widgetID+"StrengthIndicator");switch(r){case t.localization.tooShort:o.css({width:"20%","background-color":t.strengthColors.tooShort});break;case t.localization.weak:o.css({width:"40%","background-color":t.strengthColors.weak});break;case t.localization.fair:o.css({width:"60%","background-color":t.strengthColors.fair});break;case t.localization.good:o.css({width:"80%","background-color":t.strengthColors.good});break;case t.localization.strong:o.css({width:"100%","background-color":t.strengthColors.strong})}}},_countCharacters:function(){var e=this;e.letters=0,e.numbers=0,e.specials=0;for(var t="<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-=",i=e.host.val(),s=i.length,r=0;r<s;r++){var n=i.charAt(r),a=i.charCodeAt(r);a>64&&a<91||a>96&&a<123||a>127&&a<155||a>159&&a<166?e.letters+=1:0!=isNaN(n)?-1==t.indexOf(n)||(e.specials+=1):e.numbers+=1}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxValidator","",{}),e.extend(e.jqx._jqxValidator.prototype,{defineInstance:function(){var t={rules:null,scroll:!0,focus:!0,scrollDuration:300,scrollCallback:null,position:"right",arrow:!0,animation:"fade",animationDuration:150,closeOnClick:!0,onError:null,onSuccess:null,ownerElement:null,_events:["validationError","validationSuccess"],hintPositionOffset:5,_inputHint:[],rtl:!1,hintType:"tooltip"};return e.extend(!0,this,t),t},createInstance:function(){"label"==this.hintType&&150==this.animationDuration&&(this.animationDuration=0),this._configureInputs(),this._removeEventListeners(),this._addEventListeners()},destroy:function(){this._removeEventListeners(),this.hide()},validate:function(t){var i,s,r,n,a=!0,o=1/0,l=[];this.updatePosition();for(var h=this,d=0,c=0;c<this.rules.length;c+=1)"function"==typeof this.rules[c].rule&&d++;this.positions=new Array;for(var c=0;c<this.rules.length;c+=1){e(this.rules[c].input);if("function"==typeof this.rules[c].rule){var u=function(c,u){if(0==(i=c)){a=!1;e(u.input);n=e(u.input),l.push(n);var f=n.offset();f&&(s=f.top,o>s&&(o=s,r=n))}0==--d&&"function"==typeof t&&(h._handleValidation(a,o,r,l),t&&t(a))};this._validateRule(this.rules[c],u)}else i=this._validateRule(this.rules[c]);if(0==i){a=!1,n=e(this.rules[c].input),l.push(n);var f=n.offset();f&&(s=f.top,o>s&&(o=s,r=n))}}return 0==d?(this._handleValidation(a,o,r,l),a):void 0},validateInput:function(e){for(var t=this._getRulesForInput(e),i=!0,s=0;s<t.length;s+=1)this._validateRule(t[s])||(i=!1);return i},hideHint:function(e){for(var t=this._getRulesForInput(e),i=0;i<t.length;i+=1)this._hideHintByRule(t[i])},hide:function(){for(var e=0;e<this.rules.length;e+=1)this.rules[e],this._hideHintByRule(this.rules[e])},updatePosition:function(){var t;this.positions=new Array;for(var i=0;i<this.rules.length;i+=1)t=this.rules[i],t.hint&&this._hintLayout(t.hint,e(t.input),t.position,t)},_getRulesForInput:function(e){for(var t=[],i=0;i<this.rules.length;i+=1)this.rules[i].input===e&&t.push(this.rules[i]);return t},_validateRule:function(t,i){var s,r=e(t.input),n=!0,a=this,o=function(n){if(n)a._hideHintByRule(t),i&&i(!0,t);else{var o=a.animation;if(a.animation=null,t.hint&&a._hideHintByRule(t),"none"==e(r).css("display"))return void a._hideHintByRule(t);if(0==e(r).parents().length)return void a._hideHintByRule(t);s=t.hintRender.apply(a,[t.message,r]),a._hintLayout(s,r,t.position,t),a._showHint(s),t.hint=s,a._removeLowPriorityHints(t),i&&i(!1,t),a.animation=o}},l=!1;return"function"==typeof t.rule&&1==(l=t.rule.call(this,r,o))&&i&&i(!0,t),"function"==typeof t.rule&&0==l?("function"!=typeof t.hintRender||t.hint||this._higherPriorityActive(t)||!r.is(":visible")||(s=t.hintRender.apply(this,[t.message,r]),this._removeLowPriorityHints(t),this._hintLayout(s,r,t.position,t),this._showHint(s),t.hint=s),n=!1,i&&i(!1,t)):this._hideHintByRule(t),n},_hideHintByRule:function(t){var i,s=e(t.input),r=this,n=function(){if("label"==r.hintType){var e=r;if("top"==e.position||"left"==e.position){if(s.prev().hasClass(".jqx-validator-error-label"))return}else if(s.next().hasClass(".jqx-validator-error-label"))return;"input"!=s[0].nodeName.toLowerCase()?s.find("input").length>0&&(s.find(".jqx-input").length>0?s.find(".jqx-input").removeClass(e.toThemeProperty("jqx-validator-error-element")):s.find(".jqx-text-area").length>0?s.find(".jqx-text-area").removeClass(e.toThemeProperty("jqx-validator-error-element")):s.is(".jqx-checkbox")&&s.find(".jqx-checkbox-default").removeClass(e.toThemeProperty("jqx-validator-error-element")),s.is(".jqx-radiobutton")?s.find(".jqx-radiobutton-default").removeClass(e.toThemeProperty("jqx-validator-error-element")):s.removeClass(e.toThemeProperty("jqx-validator-error-element"))):s.removeClass(e.toThemeProperty("jqx-validator-error-element"))}};t&&(i=t.hint,i&&(this.positions&&this.positions[Math.round(i.offset().top)+"_"+Math.round(i.offset().left)]&&(this.positions[Math.round(i.offset().top)+"_"+Math.round(i.offset().left)]=null),"fade"===this.animation?i.fadeOut(this.animationDuration,function(){i.remove(),n()}):(i.remove(),n())),t.hint=null)},_handleValidation:function(e,t,i,s){e?(this._raiseEvent(1),"function"==typeof this.onSuccess&&this.onSuccess()):(this._scrollHandler(t),this.focus&&i.focus(),this._raiseEvent(0,{invalidInputs:s}),"function"==typeof this.onError&&this.onError(s))},_scrollHandler:function(t){if(this.scroll){var i=this;e("html,body").animate({scrollTop:t},this.scrollDuration,function(){"function"==typeof i.scrollCallback&&i.scrollCallback.call(i)})}},_higherPriorityActive:function(e){for(var t,i=!1,s=this.rules.length-1;s>=0;s-=1){if(t=this.rules[s],i&&t.input===e.input&&t.hint)return!0;t===e&&(i=!0)}return!1},_removeLowPriorityHints:function(e){for(var t,i=!1,s=0;s<this.rules.length;s+=1)t=this.rules[s],i&&t.input===e.input&&this._hideHintByRule(t),t===e&&(i=!0)},_getHintRuleByInput:function(t){for(var i,s=0;s<this.rules.length;s+=1)if(i=this.rules[s],e(i.input)[0]===t[0]&&i.hint)return i;return null},_removeEventListeners:function(){for(var t,i,s,r=0;r<this.rules.length;r+=1){t=this.rules[r],s=t.action.split(","),i=e(t.input);for(var n=0;n<s.length;n+=1)this.removeHandler(i,e.trim(s[n])+".jqx-validator")}},_addEventListeners:function(){var t,i;if(this.host.parents(".jqx-window").length>0){var s=this,r=function(){s.updatePosition()},n=this.host.parents(".jqx-window");this.addHandler(n,"closed",function(){s.hide()}),this.addHandler(n,"moved",r),this.addHandler(n,"moving",r),this.addHandler(n,"resized",r),this.addHandler(n,"resizing",r),this.addHandler(e(document.parentWindow),"scroll",function(){s.scroll&&r()})}for(var a=0;a<this.rules.length;a+=1)t=this.rules[a],i=e(t.input),this._addListenerTo(i,t)},_addListenerTo:function(t,i){var s=this,r=i.action.split(","),n=!1;this._isjQWidget(t)&&(n=!0);for(var a=0;a<r.length;a+=1){var o=e.trim(r[a]);!n||"blur"!=o&&"focus"!=o||t&&"input"!=t[0].nodeName.toLowerCase()&&(t=t.find("input")),this.addHandler(t,o+".jqx-validator",function(e){s._validateRule(i)})}},_configureInputs:function(){this.rules=this.rules||[];for(var e=0;e<this.rules.length;e+=1)this._handleInput(e)},_handleInput:function(e){var t=this.rules[e];t.position||(t.position=this.position),t.message||(t.message="Validation Failed!"),t.action||(t.action="blur"),t.hintRender||(t.hintRender=this._hintRender),t.rule?this._handleRule(t):t.rule=null},_handleRule:function(e){var t,i,s=e.rule,r=!1;if("string"==typeof s?(s.indexOf("=")>=0&&(s=s.split("="),i=s[1].split(","),s=s[0]),t=this["_"+s],t?e.rule=function(e,s){return t.apply(this,[e].concat(i))}:r=!0):"function"!=typeof s?r=!0:e.rule=s,r)throw new Error("Wrong parameter!")},_required:function(t){switch(this._getType(t)){case"textarea":case"password":case"jqx-input":case"jqx-text-area":case"text":var i=e.data(t[0]);if(i.jqxMaskedInput){var s=t.jqxMaskedInput("promptChar"),r=t.jqxMaskedInput("value");return r&&r.indexOf(s)<0}return i.jqxNumberInput?""!==t.jqxNumberInput("inputValue"):!!i.jqxDateTimeInput||""!==e.trim(t.val());case"checkbox":case"radio":return t.is(":checked");case"div":return t.is(".jqx-checkbox")?t.jqxCheckBox("checked"):!!t.is(".jqx-radiobutton")&&t.jqxRadioButton("checked")}return!1},_notNumber:function(e){return this._validateText(e,function(e){return""==e||!/\d/.test(e)})},_startWithLetter:function(e){return this._validateText(e,function(e){return""==e||!/\d/.test(e.substring(0,1))})},_number:function(e){return this._validateText(e,function(e){if(""==e)return!0;var t=new Number(e);return!isNaN(t)&&isFinite(t)})},_phone:function(e){return this._validateText(e,function(e){return""==e||/^\(\d{3}\)(\d){3}-(\d){4}$/.test(e)})},_length:function(e,t,i){return this._minLength(e,t)&&this._maxLength(e,i)},_maxLength:function(e,t){return t=parseInt(t,10),this._validateText(e,function(e){return e.length<=t})},_minLength:function(e,t){return t=parseInt(t,10),this._validateText(e,function(e){return e.length>=t})},_email:function(e){return this._validateText(e,function(e){return""==e||/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)})},_zipCode:function(e){return this._validateText(e,function(e){return""==e||/^(^\d{5}$)|(^\d{5}-\d{4}$)|(\d{3}-\d{2}-\d{4})$/.test(e)})},_ssn:function(e){return this._validateText(e,function(e){return""==e||/\d{3}-\d{2}-\d{4}/.test(e)})},_validateText:function(e,t){var i;return!!this._isTextInput(e)&&(i=this._isjQWidget(e)&&e.find("input").length>0?e.find("input").val():e.val(),t(i))},_isjQWidget:function(t){var i=e.data(t[0]);return!!(i.jqxMaskedInput||i.jqxNumberInput||i.jqxDateTimeInput)},_isTextInput:function(e){var t=this._getType(e);return"text"===t||"textarea"===t||"password"===t||e.is(".jqx-input")||e.is(".jqx-text-area")},_getType:function(t){if(t[0]){var i=t[0].tagName.toLowerCase();return"textarea"===i?"textarea":t.is(".jqx-input")?"jqx-input":t.is(".jqx-text-area")?"jqx-text-area":"input"===i?e(t).attr("type")?e(t).attr("type").toLowerCase():"text":i}},_hintRender:function(t,i){if("label"==this.hintType){var s=e('<label class="'+this.toThemeProperty("jqx-validator-error-label")+'"></label>');s.html(t);var r=this;return this.closeOnClick&&s.click(function(){r.hideHint(i.selector)}),"left"==this.position||"top"==this.position?s.insertBefore(e(i)):s.insertAfter(e(i)),s}var s=e('<div class="'+this.toThemeProperty("jqx-validator-hint")+' jqx-rc-all"></div>'),n=this;return s.html(t),this.closeOnClick&&s.click(function(){n.hideHint(i.selector)}),null==this.ownerElement?s.appendTo(document.body):this.ownerElement.innerHTML?s.appendTo(e(this.ownerElement)):s.appendTo(this.ownerElement),s},_hintLayout:function(t,i,s,r){if(this._hintRender===r.hintRender){var n;if(n=this._getPosition(i,s,t,r),"label"==this.hintType){var a="2px";"left"!=this.position&&"top"!=this.position||(a="-2px"),"input"!=i[0].nodeName.toLowerCase()&&"textarea"!=i[0].nodeName.toLowerCase()?(i.find(".jqx-text-area").length>0&&i.find(".jqx-text-area").addClass(this.toThemeProperty("jqx-validator-error-element")),i.find("input").length>0&&(i.find(".jqx-input").length>0?i.find(".jqx-input").addClass(this.toThemeProperty("jqx-validator-error-element")):i.find(".jqx-text-area").length>0?i.find(".jqx-text-area").addClass(this.toThemeProperty("jqx-validator-error-element")):i.is(".jqx-checkbox")&&i.find(".jqx-checkbox-default").addClass(this.toThemeProperty("jqx-validator-error-element")),i.is(".jqx-radiobutton")?i.find(".jqx-radiobutton-default").addClass(this.toThemeProperty("jqx-validator-error-element")):i.addClass(this.toThemeProperty("jqx-validator-error-element")))):i.addClass(this.toThemeProperty("jqx-validator-error-element"));var o=e("<span></span>");o.addClass(this.toThemeProperty("jqx-validator-hint")),o.html(t.text()),o.appendTo(e(document.body));var l=o.outerWidth();return o.remove(),t.css({position:"relative",left:e(i).css("margin-left"),width:e(i).width(),top:a}),void("center"==s&&(t.css("width",l),t.css("left","0px"),t.css("margin-left","auto"),t.css("margin-right","auto")))}t.css({position:"absolute",left:n.left,top:n.top}),this.arrow&&this._addArrow(i,t,s,n)}},_showHint:function(e){e&&"fade"===this.animation&&(e.fadeOut(0),e.fadeIn(this.animationDuration))},_getPosition:function(t,i,s,r){var n,a,o=t.offset(),l=t.outerWidth(),h=t.outerHeight();if(this.rtl&&i.indexOf("left")>=0&&(i="right"),this.rtl&&i.indexOf("right")>=0&&(i="left"),null!=this.ownerElement&&(o={left:0,top:0},o.top=parseInt(o.top)+t.position().top,o.left=parseInt(o.left)+t.position().left),r&&r.hintPositionRelativeElement){
var d=e(r.hintPositionRelativeElement);o=d.offset(),l=d.width(),h=d.height()}return n=i.indexOf("top")>=0?o.top-h:i.indexOf("bottom")>=0?o.top+s.outerHeight()+this.hintPositionOffset+5:o.top,a=i.indexOf("center")>=0?o.left+this.hintPositionOffset+(l-s.outerWidth())/2:i.indexOf("left")>=0?o.left-s.outerWidth()-this.hintPositionOffset:i.indexOf("right")>=0?o.left+l+this.hintPositionOffset:o.left+this.hintPositionOffset,i.indexOf(":")>=0&&(i=i.split(":")[1].split(","),a+=parseInt(i[0],10),n+=parseInt(i[1],10)),this.positions||(this.positions=new Array),this.positions[Math.round(n)+"_"+Math.round(a)]&&this.positions[Math.round(n)+"_"+Math.round(a)].top==n&&(n+=t.outerHeight()),this.positions[Math.round(n)+"_"+Math.round(a)]={left:a,top:n},{left:a,top:n}},_addArrow:function(t,i,s,r){var n,a,o=e('<div class="'+this.toThemeProperty("jqx-validator-hint-arrow")+'"></div>');this.rtl&&s.indexOf("left")>=0&&(s="right"),this.rtl&&s.indexOf("right")>=0&&(s="left"),i.children(".jqx-validator-hint-arrow").remove(),i.append(o);var l=o.outerHeight(),h=o.outerWidth(),d=i.outerHeight(),c=i.outerWidth();this._addImage(o),a=s.indexOf("top")>=0?d-l:s.indexOf("bottom")>=0?-l:(d-l)/2-l/2,s.indexOf("center")>=0?n=(c-h)/2:s.indexOf("left")>=0?n=c-h/2-1:s.indexOf("right")>=0&&(n=-h/2),(s.indexOf("topright")>=0||s.indexOf("bottomright")>=0)&&(n=0),(s.indexOf("topleft")>=0||s.indexOf("bottomleft")>=0)&&(n=c-h),o.css({position:"absolute",left:n,top:a})},_addImage:function(e){var t=e.css("background-image");t=t.replace('url("',""),t=t.replace('")',""),t=t.replace("url(",""),t=t.replace(")",""),e.css("background-image","none"),e.append('<img src="'+t+'" alt="Arrow" style="position: relative; top: 0px; left: 0px; width: '+e.width()+"px; height: "+e.height()+'px;" />')},_raiseEvent:function(t,i){var s=e.Event(this._events[t]);return s.args=i,this.host.trigger(s)},propertyChangedHandler:function(e,t,i,s){"rules"===t&&(this._configureInputs(),this._removeEventListeners(),this._addEventListeners())}})}(jqxBaseFramework),function(e){function t(t,s){var r=t.nodeName.toLowerCase();if("area"===r){var n,a=t.parentNode,o=a.name;return!(!t.href||!o||"map"!==a.nodeName.toLowerCase())&&(!!(n=e("img[usemap=#"+o+"]")[0])&&i(n))}return(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"==r?t.href||s:s)&&i(t)}function i(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")||e.expr.filters.hidden(this)}).length}function s(i){var s=e.attr(i,"tabindex"),r=isNaN(s);return(r||s>=0)&&t(i,!r)}e.jqx.jqxWidget("jqxWindow","",{}),e.extend(e.jqx._jqxWindow.prototype,{defineInstance:function(){var t={height:"auto",width:200,minHeight:50,maxHeight:600,minWidth:50,maxWidth:800,showCloseButton:!0,disabled:!1,autoOpen:!0,keyboardCloseKey:"esc",title:"",content:"",draggable:!0,resizable:!0,animationType:"fade",closeAnimationDuration:250,showAnimationDuration:250,isModal:!1,position:"center",closeButtonSize:16,closeButtonAction:"hide",modalOpacity:.3,dragArea:null,okButton:null,cancelButton:null,dialogResult:{OK:!1,Cancel:!1,None:!0},collapsed:!1,showCollapseButton:!1,collapseAnimationDuration:150,collapseButtonSize:16,rtl:!1,keyboardNavigation:!0,headerHeight:null,_events:["created","closed","moving","moved","open","collapse","expand","open","close","resize"],initContent:null,enableResize:!0,restricter:null,autoFocus:!0,closing:null,_invalidArgumentExceptions:{invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"},_enableResizeCollapseBackup:null,_enableResizeBackup:void 0,_heightBeforeCollapse:null,_minHeightBeforeCollapse:null,_mouseDown:!1,_isDragging:!1,_rightContentWrapper:null,_leftContentWrapper:null,_headerContentWrapper:null,_closeButton:null,_collapseButton:null,_title:null,_content:null,_mousePosition:{},_windowPosition:{},_modalBackground:null,_SCROLL_WIDTH:21,_visible:!0,modalBackgroundZIndex:12990,modalZIndex:18e3,zIndex:9001,_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:e.jqx.mobile.getTouchEventName("touchstart")}};return e.extend(!0,this,t),t},createInstance:function(){this.host.attr("role","dialog"),this.host.removeAttr("data-bind"),this.host.detach(),e(document.body).append(this.host);var t=this;!function(e){for(var i=0;i<e.length;i++){var s=e[i];t[s]&&t[s].toString().indexOf("px")>=0&&(t[s]=parseInt(t[s],10))}}(["minWidth","minHeight","maxWidth","maxHeight","width","height"]);var i=function(){var i=parseInt(e(t.restricter).css("padding-top")),s=parseInt(e(t.restricter).css("padding-left")),r=parseInt(e(t.restricter).css("padding-bottom")),n=parseInt(e(t.restricter).css("padding-right")),a=e(t.restricter).coord();t.dragArea={left:s+a.left,top:i+a.top,width:1+n+e(t.restricter).width(),height:1+r+e(t.restricter).height()}};if(this.restricter&&i(),this.restricter&&(this.addHandler(e(window),"resize."+this.element.id,function(){i()}),this.addHandler(e(window),"orientationchanged."+this.element.id,function(){i()}),this.addHandler(e(window),"orientationchange."+this.element.id,function(){i()})),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._validateProperties(),this._createStructure(),this._refresh(),this.autoOpen||this.host.css("display","none"),e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.isModal||this._fixWindowZIndex(),this._setStartupSettings(),this._positionWindow(),this._raiseEvent(0),this.autoOpen){this._performLayout();var s=this;this.isModal&&this._fixWindowZIndex("modal-show"),s.initContent&&(s.initContent(),s._contentInitialized=!0),this._raiseEvent(7),this._raiseEvent(9)}},refresh:function(){this._performLayout()},_setStartupSettings:function(){this.disabled&&this.disable(),this.collapsed&&(this.collapsed=!1,this.collapse(0)),this.autoOpen||(this.hide(null,.001,!0),this._visible=!1),null!==this.title&&""!==this.title&&this.setTitle(this.title),null!==this.content&&""!==this.content&&this.setContent(this.content),this.title=this._headerContentWrapper.html(),this.content=this._content.html()},_fixWindowZIndex:function(t){var i=e.data(document.body,"jqxwindows-list")||[],s=this.zIndex;if(this.isModal){i&&(i=this._removeFromArray(this.host,i),e.data(document.body,"jqxwindows-list",i));var r=e.data(document.body,"jqxwindows-modallist");if(r)if("modal-show"==t)r.push(this.host);else{var n=r.indexOf(this.host);-1!=n&&r.splice(n,1)}else if("modal-show"==t){var a=new Array;a.push(this.host),e.data(document.body,"jqxwindows-modallist",a),r=a}else e.data(document.body,"jqxwindows-modallist",new Array),r=new Array;s=this.modalZIndex;return e.each(r,function(e){if(this.data()&&this.data().jqxWindow){var t=this.data().jqxWindow.instance;t._modalBackground.css("z-index",s),t.host.css("z-index",s+1),s+=2}}),void e.data(document.body,"jqxwindow-modal",this.host)}if(this._indexOf(this.host,i)<0&&i.push(this.host),e.data(document.body,"jqxwindows-list",i),i.length>1){var o=i[i.length-2];if("auto"==o.css("z-index"))s=this.zIndex+i.length+1;else{var l=this.zIndex;s=parseInt(o.css("z-index"),10)+1,s<l&&(s=l)}}this.host.css("z-index",s),this._sortByStyle("z-index",i)},_validateProperties:function(){try{if(this._validateSize(),this._validateAnimationProperties(),this._validateInteractionProperties(),this._validateModalProperties(),!this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize)<0)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize);if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize)<0)throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}catch(e){alert(e)}},_validateModalProperties:function(){if(this.modalOpacity<0||this.modalOpacity>1)throw new Error(this._invalidArgumentExceptions.invalidModalOpacity);if(this.isModal&&!this._singleModalCheck())throw new Error(this._invalidArgumentExceptions.invalidIsModal)},_validateSize:function(){if(this._validateSizeLimits(),"auto"!==this.height&&isNaN(parseInt(this.height)))throw new Error(this._invalidArgumentExceptions.invalidHeight);if("auto"!==this.width&&isNaN(parseInt(this.width)))throw new Error(this._invalidArgumentExceptions.invalidWidth);"auto"!==this.height&&this.height<this.minHeight&&(this.height=this.minHeight),this.width<this.minWidth&&(this.width=this.minWidth),"auto"!==this.height&&this.height>this.maxHeight&&(this.height=this.maxHeight),this.width>this.maxWidth&&(this.width=this.maxWidth),null!==this.dragArea&&(this.dragArea&&(null!==this.dragArea.height&&this.host.height()>this.dragArea.height||parseInt(this.height,10)>this.dragArea.height)||null!==this.dragArea.width&&this.width>this.dragArea.width||this.maxHeight>this.dragArea.height||(this.maxWidth,this.dragArea.width))},_validateSizeLimits:function(){if(null==this.maxHeight&&(this.maxHeight=9999),null==this.minWidth&&(this.minWidth=0),null==this.maxWidth&&(this.maxWidth=9999),null==this.minHeight&&(this.minHeight=0),isNaN(parseInt(this.minHeight)))throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(isNaN(parseInt(this.maxHeight)))throw new Error(this._invalidArgumentExceptions.invalidMaxHeight);if(isNaN(parseInt(this.minWidth)))throw new Error(this._invalidArgumentExceptions.invalidMinWidth);if(isNaN(parseInt(this.maxWidth)))throw new Error(this._invalidArgumentExceptions.invalidMaxWidth);if(this.minHeight&&this.maxHeight&&parseInt(this.minHeight)>parseInt(this.maxHeight)&&this.maxHeight!=Number.MAX_VALUE)throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(this.minWidth&&this.maxWidth&&parseInt(this.minWidth)>parseInt(this.maxWidth)&&this.maxWidth!=Number.MAX_VALUE)throw new Error(this._invalidArgumentExceptions.invalidMinWidth)},_validateAnimationProperties:function(){if("fade"!==this.animationType&&"slide"!==this.animationType&&"combined"!==this.animationType&&"none"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(isNaN(parseInt(this.closeAnimationDuration),10)||this.closeAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration);if(isNaN(parseInt(this.showAnimationDuration),10)||this.showAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||parseInt(this.keyCode,10)>130&&"esc"!==this.keyCode)throw new Error(this._invalidArgumentExceptions.invalidKeyCode);if(null!==this.dragArea&&(void 0===this.dragArea.width||void 0===this.dragArea.height||void 0===this.dragArea.left||void 0===this.dragArea.top))throw new Error(this._invalidArgumentExceptions.invalidDragArea);if(!this.dialogResult||!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)throw new Error(this._invalidArgumentExceptions.invalidDialogResult);if("hide"!==this.closeButtonAction&&"close"!==this.closeButtonAction)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)},_singleModalCheck:function(){for(var t=e.data(document.body,"jqxwindows-list")||[],i=t.length;i;)if(i-=1,e(t[i].attr("id")).length>0&&e(t[i].attr("id")).jqxWindow("isModal"))return!1;return!0},_createStructure:function(){var t=this.host.children("DIV");if(1===t.length)this._header=e("<div>"+this.host.attr("caption")+"</div>"),this.host.prepend(this._header),this.host.attr("caption",""),this._content=e(t[0]);else{if(2!==t.length)throw new Error("Invalid structure!");this._header=e(t[0]),this._content=e(t[1])}},_refresh:function(){this._render(),this._addStyles(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize()},_render:function(){this._addHeaderWrapper(),this._addCloseButton(),this._addCollapseButton(),this._removeModal(),this._makeModal()},_addHeaderWrapper:function(){this._headerContentWrapper||(this._header.wrapInner('<div style="float:left;"></div>'),this._headerContentWrapper=this._header.children(0),null!==this.headerHeight&&this._header.height(this.headerHeight))},_addCloseButton:function(){this._closeButton||(this._closeButtonWrapper=e('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),this._closeButton=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>'),this._closeButtonWrapper.append(this._closeButton),this._header.append(this._closeButtonWrapper))},_addCollapseButton:function(){this._collapseButton||(this._collapseButtonWrapper=e('<div class="'+this.toThemeProperty("jqx-window-collapse-button-background")+'"></div>'),this._collapseButton=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-collapse-button")+" "+this.toThemeProperty("jqx-icon-arrow-up")+'"></div>'),this._collapseButtonWrapper.append(this._collapseButton),this._header.append(this._collapseButtonWrapper))},_removeModal:function(){!this.isModal&&"object"==typeof this._modalBackground&&null!==this._modalBackground&&this._modalBackground.length>=1&&(e("."+this.toThemeProperty("jqx-window-modal")).remove(),this._modalBackground=null)},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},10)}catch(e){}},_makeModal:function(){if(this.isModal&&(!this._modalBackground||this._modalBackground.length<1)){var t=e.data(document.body,"jqxwindows-list");t&&(this._removeFromArray(this.host,t),e.data(document.body,"jqxwindows-list",t)),this._modalBackground=e("<div></div>"),this._modalBackground.addClass(this.toThemeProperty("jqx-window-modal")),this._setModalBackgroundStyles(),e(document.body).append(this._modalBackground),this.addHandler(this._modalBackground,this._getEvent("click"),function(){return!1});var i=this,s=function(t,i){var s=e(t).parents().get();for(j=0;j<s.length;j++)if(e(s[j]).is(i))return!0;return!1};this.addHandler(this._modalBackground,"mouseup",function(e){i._stopResizing(i),e.preventDefault()}),this.addHandler(this._modalBackground,"mousedown",function(e){var t=i._getTabbables();return t.length>0&&(t[0].focus(1),setTimeout(function(){t[0].focus(1)},100)),e.preventDefault(),!1}),this.addHandler(e(document),"keydown.window"+this.element.id,function(t){if(9===t.keyCode){var r=e.data(document.body,"jqxwindows-modallist");if(!(r.length>1&&r[r.length-1][0]!=i.element)){var n=i._getTabbables(),a=null,o=null;if(n.length>0&&(a=n[0],o=n[n.length-1]),t.target!=i.element&&null!=a)return s(t.target,i.host)&&(t.target!==o||t.shiftKey)?t.target===a&&t.shiftKey?(o.focus(1),!1):void 0:(a.focus(1),!1)}}})}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-window")),this.host.addClass(this.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-window-header")),this._content.addClass(this.toThemeProperty("jqx-window-content")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._content.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-disableselect")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this._content.addClass(this.toThemeProperty("jqx-rc-b")),this.host.attr("tabindex")||(this.element.tabIndex=0,this.host.children().css("tab-index",0)),this.host.attr("hideFocus","true").css("outline","none")},_performHeaderLayout:function(){this._handleHeaderButtons(),this._header.css("position","relative"),this.rtl?(this._headerContentWrapper.css("direction","rtl"),this._headerContentWrapper.css("float","right")):(this._headerContentWrapper.css("direction","ltr"),this._headerContentWrapper.css("float","left")),this._performHeaderCloseButtonLayout(),this._performHeaderCollapseButtonLayout(),this._centerElement(this._headerContentWrapper,this._header,"y","margin"),this.headerHeight&&(this._centerElement(this._closeButtonWrapper,this._header,"y","margin"),this._centerElement(this._collapseButtonWrapper,this._header,"y","margin"))},_handleHeaderButtons:function(){this._closeButtonWrapper&&(this.showCloseButton?(this._closeButtonWrapper.css("visibility","visible"),this._closeButtonWrapper.width(this.closeButtonSize),this._closeButtonWrapper.height(this.closeButtonSize)):this._closeButtonWrapper.css("visibility","hidden"),this.showCollapseButton?(this._collapseButtonWrapper.css("visibility","visible"),this._collapseButtonWrapper.width(this.collapseButtonSize),this._collapseButtonWrapper.height(this.collapseButtonSize)):this._collapseButtonWrapper.css("visibility","hidden"))},_performHeaderCloseButtonLayout:function(){if(this._closeButtonWrapper){var e=parseInt(this._header.css("padding-right"),10);isNaN(e)||(this._closeButtonWrapper.width(this._closeButton.width()),this.rtl?(this._closeButtonWrapper.css("margin-left",e),this._closeButtonWrapper.css("margin-right","0px")):(this._closeButtonWrapper.css("margin-right",e),this._closeButtonWrapper.css("margin-left","0px"))),this.rtl?this._closeButtonWrapper.css({position:"absolute",left:"0px",right:""}):this._closeButtonWrapper.css({position:"absolute",right:"0px",left:""})}},_performHeaderCollapseButtonLayout:function(){if(this._closeButtonWrapper){var e=parseInt(this._header.css("padding-right"),10);isNaN(e)||(this._collapseButtonWrapper.width(this.collapseButtonSize),this._collapseButtonWrapper.height(this.collapseButtonSize),this.rtl?(this._collapseButtonWrapper.css("margin-left",e),this._collapseButtonWrapper.css("margin-right","0px")):(this._collapseButtonWrapper.css("margin-right",e),this._collapseButtonWrapper.css("margin-left","0px"))),this.rtl?this._collapseButtonWrapper.css({position:"absolute",left:this.showCloseButton?this._closeButton.outerWidth(!0):0,right:""}):this._collapseButtonWrapper.css({position:"absolute",right:this.showCloseButton?this._closeButton.outerWidth(!0):0,left:""}),this._centerElement(this._collapseButton,this._collapseButton.parent(),"y")}},_performWidgetLayout:function(){var e;"auto"!==this.width&&this.host.css("width",this.width),this.collapsed||("auto"!==this.height?this.host.height(this.height):this.host.height(this.host.height()),this.host.css("min-height",this.minHeight)),this._setChildrenLayout(),e=this._validateMinSize(),this.host.css({"max-height":this.maxHeight,"min-width":this.minWidth,"max-width":this.maxWidth}),e||this._setChildrenLayout()},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth(!0)-this._header.width())),this._content.width(this.host.width()-(this._content.outerWidth(!0)-this._content.width())),this._content.height(this.host.height()-this._header.outerHeight(!0)-(this._content.outerHeight(!0)-this._content.height()))},_validateMinSize:function(){var e=!0;this.minHeight<this._header.height()&&(this.minHeight=this._header.height(),e=!1);var t=this._header.children(0).outerWidth(!0),i=this._header.children(1).outerWidth(!0),s=t+i;return this.minWidth<100&&(this.minWidth=Math.min(s,100),e=!1),e},_centerElement:function(e,t,i,s){"number"==typeof t.left&&"number"==typeof t.top&&"number"==typeof t.height&&"number"==typeof t.width?this._centerElementInArea(e,t,i):this._centerElementInParent(e,t,i,s)},_centerElementInParent:function(e,t,i,s){if(i=i.toLowerCase(),s?s+="-":s="",i.indexOf("y")>=0){var r=e.outerHeight(!0),n=t.height(),a=Math.max(0,n-r)/2;e.css(s+"top",a+"px")}if(i.indexOf("x")>=0){var o=e.outerWidth(!0),l=t.width(),h=Math.max(0,l-o)/2;e.css(s+"left",h+"px")}},_centerElementInArea:function(e,t,i){if(i=i.toLowerCase(),i.indexOf("y")>=0){var s=e.outerHeight(!0),r=t.height,n=(r-s)/2;e.css("top",n+t.top+"px")}if(i.indexOf("x")>=0){var a=e.outerWidth(!0),o=t.width,l=(o-a)/2;e.css("left",l+t.left+"px")}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown")),this.removeHandler(this._header,this._getEvent("mousemove")),this.removeHandler(this._header,"focus"),this.removeHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id")),this.removeHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id")),this.removeHandler(this.host,"keydown"),this.removeHandler(this._closeButton,this._getEvent("click")),this.removeHandler(this._closeButton,this._getEvent("mouseenter")),this.removeHandler(this._closeButton,this._getEvent("mouseleave")),this.removeHandler(this._collapseButton,this._getEvent("click")),this.removeHandler(this._collapseButton,this._getEvent("mouseenter")),this.removeHandler(this._collapseButton,this._getEvent("mouseleave")),this.removeHandler(this.host,this._getEvent("mousedown")),this.removeHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(this._header,this._getEvent("mouseenter")),this.removeHandler(this._header,this._getEvent("mouseleave")),this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(e,t){return this._indexOf(e,t)>=0?t.splice(this._indexOf(e,t),1):t},_sortByStyle:function(e,t){for(var i=0;i<t.length;i++)for(var s=t.length-1;s>i;s--){var r,n=t[s],a=t[s-1];parseInt(n.css(e),10)<parseInt(a.css(e),10)&&(r=n,t[s]=a,t[s-1]=r)}},_initializeResize:function(){if(this.resizable){var e=this;this.initResize({target:this.host,alsoResize:e._content,maxWidth:e.maxWidth,minWidth:e.minWidth,maxHeight:e.maxHeight,minHeight:e.minHeight,indicatorSize:10,resizeParent:e.dragArea})}},_removeResize:function(){this.removeResize()},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},_addEventHandlers:function(){this._addDragDropHandlers(),this._addCloseHandlers(),this._addCollapseHandlers(),this._addFocusHandlers(),this._documentResizeHandlers(),this._closeButtonHover(),this._collapseButtonHover(),this._addDialogButtonsHandlers(),this._addHeaderHoverEffect(),this._addResizeHandlers();var e=this;this.addHandler(this._header,this._getEvent("mousemove"),function(t){e._addHeaderCursorHandlers(e)})},_addResizeHandlers:function(){this.addHandler(this.host,"resizing",this._windowResizeHandler,{self:this})},_windowResizeHandler:function(e){var t=e.data.self;t._header.width(t.host.width()-(t._header.outerWidth(!0)-t._header.width())),t.width=e.args.width,t.height=e.args.height},_addHeaderHoverEffect:function(){var t=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){e(this).addClass(t.toThemeProperty("jqx-window-header-hover"))}),this.addHandler(this._header,this._getEvent("mouseleave"),function(){e(this).removeClass(t.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){this.okButton&&this.addHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"}),this.cancelButton&&this.addHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})},_documentResizeHandlers:function(){var t=this;this.isModal&&this.addHandler(e(window),"resize.window"+this.element.id,function(){"object"==typeof t._modalBackground&&null!==t._modalBackground&&(t.isOpen()&&t._modalBackground.hide(),t.restricter?(t._modalBackground.css("left",t.dragArea.left),t._modalBackground.css("top",t.dragArea.top),t._modalBackground.width(t.dragArea.width),t._modalBackground.height(t.dragArea.height)):(t._modalBackground.width(t._getDocumentSize().width),t._modalBackground.height(t._getDocumentSize().height)),t.isOpen()&&t._modalBackground.show())})},_setDialogResultHandler:function(e){var t=e.data.self;t._setDialogResult(e.data.result),t.closeWindow()},_setDialogResult:function(e){switch(this.dialogResult.OK=!1,this.dialogResult.None=!1,this.dialogResult.Cancel=!1,e=e.toLowerCase()){case"ok":this.dialogResult.OK=!0;break;case"cancel":this.dialogResult.Cancel=!0;break;default:this.dialogResult.None=!0}},_getDocumentSize:function(){var t=e.jqx.browser.msie&&e.jqx.browser.version<9,i=t?4:0,s=i;return document.body.scrollHeight>document.body.clientHeight&&t&&(i=this._SCROLL_WIDTH),document.body.scrollWidth>document.body.clientWidth&&t&&(s=this._SCROLL_WIDTH),{width:e(document).width()-i,height:e(document).height()-s}},_closeButtonHover:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){e._closeButton.addClass(e.toThemeProperty("jqx-window-close-button-hover"))}),this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){e._closeButton.removeClass(e.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){e._collapseButton.addClass(e.toThemeProperty("jqx-window-collapse-button-hover"))}),this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){e._collapseButton.removeClass(e.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){this.isModal&&(this._modalBackground.fadeTo(0,this.modalOpacity),this._modalBackground.css({position:"absolute",top:"0px",left:"0px",width:this._getDocumentSize().width,height:this._getDocumentSize().height,"z-index":this.modalBackgroundZIndex}),this.autoOpen||this._modalBackground.css("display","none"))},_addFocusHandlers:function(){var e=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){e.isModal||e.bringToFront()})},_indexOf:function(e,t){for(var i=0;i<t.length;i++)if(t[i][0]===e[0])return i;return-1},_addCloseHandlers:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("click"),function(t){return e._closeWindow(t)}),"none"!==this.keyboardCloseKey&&"number"!=typeof this.keyboardCloseKey&&"esc"===this.keyboardCloseKey.toLowerCase()&&(this.keyboardCloseKey=27),this.addHandler(this.host,"keydown",function(t){t.keyCode===e.keyboardCloseKey&&null!=e.keyboardCloseKey&&"none"!=e.keyboardCloseKey?e._closeWindow(t):e._handleKeys(t)},{self:this}),this.addHandler(this.host,"keyup",function(t){if(e.keyboardNavigation&&e._moved){var i=e.host.coord(),s=i.left,r=i.top;e._raiseEvent(3,s,r,s,r),e._moved=!1}})},_handleKeys:function(t){if(this.keyboardNavigation&&this._headerFocused&&!e(document.activeElement).ischildof(this._content)){var i=t.ctrlKey,s=t.keyCode,r=this.host.coord(),n=r.left,a=r.top,o=this._getDraggingArea(),l=this.host.width(),h=this.host.height(),d=!0,c=10;switch(s){case 37:i?this.resizable&&this.resize(l-c,h):this.draggable&&n-c>=0&&this.move(n-c,a),d=!1;break;case 38:i?this.resizable&&this.resize(l,h-c):this.draggable&&a-c>=0&&this.move(n,a-c),d=!1;break;case 39:i?this.resizable&&this.resize(l+c,h):this.draggable&&n+l+c<=o.width&&this.move(n+c,a),d=!1;break;case 40:i?this.resizable&&this.resize(l,h+c):this.draggable&&a+h+c<=o.height&&this.move(n,a+c),d=!1}return d||(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()),d}},_addCollapseHandlers:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){e.collapsed?e.expand():e.collapse()})},_closeWindow:function(e){return this.closeWindow(),!1},_addHeaderCursorHandlers:function(e){return e.resizeArea&&e.resizable&&!e.collapsed?void e._header.css("cursor",e._resizeWrapper.css("cursor")):e.draggable?void e._header.css("cursor","move"):(e._header.css("cursor","default"),void(e._resizeWrapper&&e._resizeWrapper.length>0&&e._resizeWrapper.css("cursor","default")))},_addDragDropHandlers:function(){if(this.draggable){var t=this;this.addHandler(this.host,"focus",function(){t._headerFocused=!0}),this.addHandler(this.host,"blur",function(){t._headerFocused=!1}),this.addHandler(this._header,"focus",function(){return t._headerFocused=!0,!1}),this.addHandler(this._header,this._getEvent("mousedown"),function(e,i,s){return i&&(e.pageX=i),s&&(e.pageY=s),t._headerMouseDownHandler(t,e),!0}),this.addHandler(this._header,"dragstart",function(e){return e.preventDefault&&e.preventDefault(),!1}),this.addHandler(this._header,this._getEvent("mousemove"),function(e){return t._headerMouseMoveHandler(t,e)}),this.addHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(e){return t._dragHandler(t,e)}),this.addHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(e){return t._dropHandler(t,e)});try{if(""!=document.referrer||window.frameElement){var i=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(i=document.referrer),i&&-1!=i.indexOf(document.location.host)){var s=function(e){t._dropHandler(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}}catch(e){}}},_headerMouseDownHandler:function(t,i){if(t.isModal||t.bringToFront(),null==t._resizeDirection){var s=e.jqx.mobile.getTouches(i),r=(s[0],e.jqx.position(i));t._mousePosition.x=r.left,t._mousePosition.y=r.top,t._mouseDown=!0,t._isDragging=!1}},_headerMouseMoveHandler:function(t,i){if(t._mouseDown&&!t._isDragging){var s=e.jqx.mobile.getTouches(i),r=s[0],n=r.pageX,a=r.pageY,o=e.jqx.position(i);return n=o.left,a=o.top,(n+3<t._mousePosition.x||n-3>t._mousePosition.x||a+3<t._mousePosition.y||a-3>t._mousePosition.y)&&(t._isDragging=!0,t._mousePosition={x:n,y:a},t._windowPosition={x:t.host.coord().left,y:t.host.coord().top},e(document.body).addClass(t.toThemeProperty("jqx-disableselect"))),!!t._isTouchDevice&&(i.preventDefault(),!0)}return!t._isDragging||!!t._isTouchDevice&&(i.preventDefault(),!0)},_dropHandler:function(t,i){var s=!0;if(t._isDragging&&!t.isResizing&&!t._resizeDirection){var r=parseInt(t.host.css("left"),10),n=parseInt(t.host.css("top"),10),a=t._isTouchDevice?0:i.pageX,o=t._isTouchDevice?0:i.pageY;t.enableResize=t._enableResizeBackup,t._enableResizeBackup="undefined",t._raiseEvent(3,r,n,a,o),s=!1,"undefined"!=i.preventDefault&&i.preventDefault(),null!=i.originalEvent&&(i.originalEvent.mouseHandled=!0),"undefined"!=i.stopPropagation&&i.stopPropagation()}return t._isDragging=!1,t._mouseDown=!1,e(document.body).removeClass(t.toThemeProperty("jqx-disableselect")),s},_dragHandler:function(t,i){if(t._isDragging&&!t.isResizing&&!t._resizeDirection){var s=t._isTouchDevice?i.originalEvent.which:i.which;if(void 0===t._enableResizeBackup&&(t._enableResizeBackup=t.enableResize),t.enableResize=!1,0===s&&e.jqx.browser.msie&&e.jqx.browser.version<8)return t._dropHandler(t,i);var r=e.jqx.mobile.getTouches(i),n=(r[0],e.jqx.position(i)),a=n.left,o=n.top,l=a-t._mousePosition.x,h=o-t._mousePosition.y,d=t._windowPosition.x+l,c=t._windowPosition.y+h;return t.move(d,c,i),i.preventDefault(),!1}return!0},_validateCoordinates:function(e,t,i,s){var r=this._getDraggingArea();e=e<r.left?r.left:e,t=t<r.top?r.top:t;var n=this.host.outerWidth(!0),a=this.host.outerHeight(!0);return e+n>=r.width+r.left-2*s&&(e=r.width+r.left-n-s),t+a>=r.height+r.top-i&&(t=r.height+r.top-a-i),{x:e,y:t}},_performLayout:function(){this._performHeaderLayout(),this._performWidgetLayout()},_parseDragAreaAttributes:function(){
null!==this.dragArea&&(this.dragArea.height=parseInt(this.dragArea.height,10),this.dragArea.width=parseInt(this.dragArea.width,10),this.dragArea.top=parseInt(this.dragArea.top,10),this.dragArea.left=parseInt(this.dragArea.left,10))},_positionWindow:function(){if(this._parseDragAreaAttributes(),this.position instanceof Array&&2===this.position.length&&"number"==typeof this.position[0]&&"number"==typeof this.position[1])this.host.css({left:this.position[0],top:this.position[1]});else if(this.position instanceof Object){if(this.position.left)this.host.offset(this.position);else if(void 0!==this.position.x&&void 0!=this.position.y)this.host.css({left:this.position.x,top:this.position.y});else if(this.position.center){this._centerElement(this.host,this.position.center,"xy");var e=this.position.center.coord(),t=parseInt(this.host.css("left")),i=parseInt(this.host.css("top"));this.host.css({left:t+e.left,top:i+e.top})}}else this._positionFromLiteral()},_getDraggingArea:function(){var e={};return e.left=this.dragArea&&this.dragArea.left?this.dragArea.left:0,e.top=this.dragArea&&this.dragArea.top?this.dragArea.top:0,e.width=this.dragArea&&this.dragArea.width?this.dragArea.width:this._getDocumentSize().width,e.height=this.dragArea&&this.dragArea.height?this.dragArea.height:this._getDocumentSize().height,e},_positionFromLiteral:function(){this.position instanceof Array||(this.position=this.position.split(","));for(var t=this.position.length,i=this._getDraggingArea();t;)switch(t-=1,this.position[t]=this.position[t].replace(/ /g,""),this.position[t]){case"top":this.host.css("top",i.top);break;case"left":this.host.css("left",i.left);break;case"bottom":this.host.css("top",i.height-this.host.height()+i.top);break;case"right":this.host.css("left",i.left+i.width-this.host.width());break;default:this.dragArea||(i=e(window)),this._centerElement(this.host,i,"xy")}},_raiseEvent:function(t){var i=this._events[t],s=e.Event(i),r={};return 2!==t&&3!==t||(r.x=arguments[1],r.y=arguments[2],r.pageX=arguments[3],r.pageY=arguments[4]),"closed"!==i&&"close"!==i||(r.dialogResult=this.dialogResult),s.args=r,this.host.trigger(s)},destroy:function(){this.removeHandler(e(window),"resize.window"+this.element.id),this._removeEventHandlers(),this._destroy()},_destroy:function(){this.restricter&&(this.removeHandler(e(window),"resize."+this.element.id),this.removeHandler(e(window),"orientationchanged."+this.element.id),this.removeHandler(e(window),"orientationchange."+this.element.id)),this.host.remove(),null!==this._modalBackground&&this._modalBackground.remove()},_toClose:function(e,t){return e&&t[0]===this.element||t[0]!==this.element&&"object"==typeof t[0]},propertyChangedHandler:function(t,i,s,r){switch(this._validateProperties(),i){case"rtl":this._performLayout();break;case"dragArea":this._positionWindow();break;case"collapseButtonSize":case"closeButtonSize":this._performLayout();break;case"isModal":this._refresh(),this._fixWindowZIndex();break;case"keyboardCloseKey":this._removeEventHandlers(),this._addEventHandlers();break;case"disabled":r?this.disable():(this.disabled=!0,this.enable());break;case"showCloseButton":case"showCollapseButton":case"height":case"width":this._performLayout();break;case"title":this.setTitle(r),this.title=r;break;case"content":this.setContent(r);break;case"draggable":this._removeEventHandlers(),this._addEventHandlers(),this._removeResize(),this._initializeResize();break;case"resizable":this.enableResize=r,r?this._initializeResize():this._removeResize();break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":r?this._addDialogButtonsHandlers():this.removeHandler(this.okButton);break;case"cancelButton":r?this._addDialogButtonsHandlers():this.removeHandler(this.cancelButton);break;case"collapsed":r?s||(this.collapsed=!1,this.collapse(0)):s&&(this.collapsed=!0,this.expand(0));case"theme":e.jqx.utilities.setTheme(s,r,this.host);break;case"enableResize":return;case"maxWidth":case"maxHeight":case"minWidth":case"minHeight":return t._performLayout(),t._removeResize(),void t._initializeResize();default:return}},collapse:function(t){if(!this.collapsed&&!this.host.is(":animated")){if("none"==this.host.css("display"))return;var i=this,s=this._header.outerHeight(!0),r=parseInt(this._header.css("border-bottom-width"),10),n=parseInt(this._header.css("margin-bottom"),10),t=isNaN(parseInt(t))?this.collapseAnimationDuration:t;isNaN(r)||(s-=2*r),isNaN(n)||(s+=n),this._heightBeforeCollapse=this.host.height(),this._minHeightBeforeCollapse=this.host.css("min-height"),this.host.css("min-height",s),this.host.animate({height:s},t,function(){i.collapsed=!0,i._collapseButton.addClass(i.toThemeProperty("jqx-window-collapse-button-collapsed")),i._collapseButton.addClass(i.toThemeProperty("jqx-icon-arrow-down")),i._content.css("display","none"),i._raiseEvent(5),i._raiseEvent(9),e.jqx.aria(i,"aria-expanded",!1)})}},expand:function(t){if(this.collapsed&&!this.host.is(":animated")){var i=this,t=isNaN(parseInt(t))?this.collapseAnimationDuration:t;this.host.animate({height:this._heightBeforeCollapse},t,function(){i.collapsed=!1,i.host.css("min-height",i._minHeightBeforeCollapse),i._collapseButton.removeClass(i.toThemeProperty("jqx-window-collapse-button-collapsed")),i._collapseButton.removeClass(i.toThemeProperty("jqx-icon-arrow-down")),i._content.css("display","block"),i._raiseEvent(6),i._performWidgetLayout(),i._raiseEvent(9),e.jqx.aria(i,"aria-expanded",!0)})}},closeAll:function(t){for(var i=e.data(document.body,"jqxwindows-list"),s=i.length,r=e.data(document.body,"jqxwindow-modal")||[];s;)s-=1,this._toClose(!0,i[s])&&(i[s].jqxWindow("closeWindow","close"),i.splice(s,1));this._toClose(!0,r)&&(r.jqxWindow("closeWindow","close"),e.data(document.body,"jqxwindow-modal",[])),e.data(document.body,"jqxwindows-list",i)},setTitle:function(t){e.jqx.utilities.html(this._headerContentWrapper,t),this.title=t,this._performLayout()},setContent:function(t){this._contentInitialized=!1;for(var i=this._content,s=!1;!s;)i.css("height","auto"),i.css("width","auto"),i.is(".jqx-window")?s=!0:i=i.parent();e.jqx.utilities.html(this._content,t),this._performLayout()},disable:function(){this.disabled=!0,this._removeEventHandlers(),this._header.addClass(this.toThemeProperty("jqx-window-header-disabled")),this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this._content.addClass(this.toThemeProperty("jqx-window-content-disabled")),this.host.addClass(this.toThemeProperty("jqx-window-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._removeResize()},enable:function(){this.disabled&&(this._addEventHandlers(),this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled")),this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled")),this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this.host.removeClass(this.toThemeProperty("jqx-window-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1,this._initializeResize())},isOpen:function(){return this._visible},closeWindow:function(e){var t=this;e=void 0===e?this.closeButtonAction:e,this.hide(function(){"close"===e&&t._destroy()})},bringToFront:function(){var t=e.data(document.body,"jqxwindows-list");if(this.isModal)return t=e.data(document.body,"jqxwindows-modallist"),this._fixWindowZIndex("modal-hide"),void this._fixWindowZIndex("modal-show");for(var i=t[t.length-1],s=parseInt(i.css("z-index"),10),r=this._indexOf(this.host,t),n=t.length-1;n>r;n-=1){var a=parseInt(t[n].css("z-index"),10)-1;t[n].css("z-index",a)}this.host.css("z-index",s),this._sortByStyle("z-index",t)},hide:function(e,t,i){if(this.closing){if(0==this.closing())return}switch(t=t||this.closeAnimationDuration,this.animationType){case"none":this.host.css("display","none");break;case"fade":this.host.fadeOut(t,function(){e instanceof Function&&e()});case"slide":this.host.slideUp(t,function(){e instanceof Function&&e()});case"combined":this.host.hide(t,function(){e instanceof Function&&e()})}this._visible=!1,this.isModal&&(this._modalBackground.hide(),this._fixWindowZIndex("modal-hide")),!0!==i&&(this._raiseEvent(1),this._raiseEvent(8))},open:function(e,t){this.show(e,t)},close:function(e,t,i){this.hide(e,t,i)},show:function(e,t){switch(this._setDialogResult("none"),t=t||this.showAnimationDuration,this.animationType){case"none":this.host.css("display","block");break;case"fade":this.host.fadeIn(t,function(){e instanceof Function&&e()});break;case"slide":this.host.slideDown(t,function(){e instanceof Function&&e()});break;case"combined":this.host.show(t,function(){e instanceof Function&&e()})}this.isModal&&(this._modalBackground.show(),this._fixWindowZIndex("modal-show"));var i=this;if(this._visible||(t>150&&"none"!=this.animationType?setTimeout(function(){i._contentInitialized||i.initContent&&(i.initContent(),i._contentInitialized=!0),i._raiseEvent(7),i._raiseEvent(9)},t-150):(i._contentInitialized||i.initContent&&(i.initContent(),i._contentInitialized=!0),this._raiseEvent(7),i._raiseEvent(9))),this._visible=!0,this._performLayout(),this.autoFocus){var s=function(){i._isTouchDevice||i._content.focus()};s(),setTimeout(function(){s()},100)}},_getTabbables:function(){var t=this._content.find("*"),i=new Array;return e.each(t,function(){s(this)&&(i[i.length]=this)}),i},move:function(t,i,s,r){var n,a,o,l=0,h=0,t=parseInt(t,10),i=parseInt(i,10);if(e.jqx.browser.msie&&(e(window).width()>e(document).width()&&!this.dragArea&&(h=this._SCROLL_WIDTH),e(window).height()<e(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea&&(l=this._SCROLL_WIDTH)),n=this._validateCoordinates(t,i,h,l),parseInt(this.host.css("left"),10)!==n.x||parseInt(this.host.css("top"),10)!==n.y){if(s){var d=e.jqx.mobile.getTouches(s),c=(d[0],e.jqx.position(s));a=c.left,o=c.top}void 0==a&&(a=t),void 0==o&&(o=i),!1!==r&&this._raiseEvent(2,n.x,n.y,a,o)}this.element.style.left=n.x+"px",this.element.style.top=n.y+"px",this._moved=!0}})}(jqxBaseFramework),function(e){var t=function(e){return{resizeConfig:function(){this.resizeTarget=null,this.resizeIndicatorSize=5,this.resizeTargetChildren=null,this.isResizing=!1,this.resizeArea=!1,this.minWidth=1,this.maxWidth=100,this.minHeight=1,this.maxHeight=100,this.resizeParent=null,this.enableResize=!0,this._cursorBackup,this._resizeEvents=["resizing","resized","resize"],this._resizeMouseDown=!1,this._resizeCurrentMode=null,this._mouseResizePosition={},this._resizeMethods=null,this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var t=e(this.resizeTarget.children(".jqx-resize"));t.detach();var i=t.children();this._removeResizeEventListeners();for(var s=0;s<i.length;s+=1)e(i[s]).detach(),this.resizeTarget.append(i[s]);t.remove()}},initResize:function(t){this.resizeConfig(),this.resizeTarget=e(t.target),this.resizeIndicatorSize=t.indicatorSize||10,this.maxWidth=t.maxWidth||100,this.minWidth=t.minWidth||1,this.maxHeight=t.maxHeight||100,this.minHeight=t.minHeight||1,this.resizeParent=t.resizeParent,this._parseResizeParentProperties(),this._validateResizeProperties(),this._validateResizeTargetDimensions(),this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,t.alsoResize),this._refreshResize(),this._cursorBackup=this.resizeTarget.css("cursor"),"auto"===this._cursorBackup&&(this._cursorBackup="default")},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth,this.resizeTarget.minWidth=3*this.resizeIndicatorSize>this.minWidth?3*this.resizeIndicatorSize:this.minWidth,this.resizeTarget.maxHeight=this.maxHeight,this.resizeTarget.minHeight=3*this.resizeIndicatorSize>this.minHeight?3*this.resizeIndicatorSize:this.minHeight},_parseResizeParentProperties:function(){this.resizeParent&&(this.resizeParent.left=parseInt(this.resizeParent.left,10),this.resizeParent.top=parseInt(this.resizeParent.top,10),this.resizeParent.width=parseInt(this.resizeParent.width,10),this.resizeParent.height=parseInt(this.resizeParent.height,10))},_getChildren:function(t,i,s,r,n){this.resizeTargetChildren=e(n),this.resizeTargetChildren.toArray();for(var a=this.resizeTargetChildren.length;a;)a-=1,this.resizeTargetChildren[a]=e(this.resizeTargetChildren[a])},_refreshResize:function(){this._renderResize(),this._performResizeLayout(),this._removeResizeEventListeners(),this._addResizeEventHandlers()},_renderResize:function(){this.resizeTarget.wrapInner(e("<div></div>")),this._resizeWrapper=this.resizeTarget.children(0),this._resizeWrapper.addClass("jqx-resize"),this._resizeWrapper.addClass("jqx-rc-all"),this._resizeWrapper.css("z-index",8e3)},_performResizeLayout:function(){this._resizeWrapper.height(this.resizeTarget.height()),this._resizeWrapper.width(this.resizeTarget.width())},_removeResizeEventListeners:function(){var t=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+t),this.removeHandler(this._resizeWrapper,"mousedown.resize"+t),this.removeHandler(e(document),"mousemove.resize"+t),this.removeHandler(e(document),"mouseup.resize"+t)},_addResizeEventHandlers:function(){var t=this.resizeTarget.attr("id"),i=this;this.addHandler(this._resizeWrapper,"mousemove.resize."+t,function(e){i._resizeCursorChangeHandler(i,e)}),this.addHandler(this._resizeWrapper,"mousedown.resize."+t,function(e){i._resizeMouseDownHandler(i,e)}),this.addHandler(e(document),"mousemove.resize."+t,function(e){return i._resizeHandler(i,e)}),this.addHandler(e(document),"mouseup.resize."+t,function(e){i._stopResizing(i,e)});try{if(""!=document.referrer||window.frameElement){var s=function(e){i._stopResizing(i,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}catch(e){}},_stopResizing:function(e,t){e.enableResize&&(e.isResizing&&e._raiseResizeEvent(1),e._resizeMouseDown=!1,e.isResizing=!1,e._resizeDirection=null,e.resizeTarget&&e.resizeTarget.removeClass("jqx-disableselect")),"undefined"==e._cursorBackup&&(e._cursorBackup="default"),e._resizeWrapper&&e._resizeWrapper.css("cursor",e._cursorBackup)},_resizeHandler:function(t,i){if(t.enableResize&&!t.collapsed)return t.isResizing&&t._resizeDirection?(0===i.which&&e.jqx.browser.msie&&e.jqx.browser.version<9&&t._stopResizing(i),t._performResize(i.pageX,i.pageY),!1):t._resizeCaptureCursor(i.pageX,i.pageY)},_resizeCaptureCursor:function(e,t){if(this._resizeMouseDown&&!this.isResizing&&this._resizeDirection&&(e+3<this._mouseResizePosition.x||e-3>this._mouseResizePosition.x||t+3<this._mouseResizePosition.y||t-3>this._mouseResizePosition.y))return this._changeCursor(e-parseInt(this.resizeTarget.css("left")),t-parseInt(this.resizeTarget.css("top"))),this._mouseResizePosition={x:e,y:t},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width(),this.resizeTarget.lastHeight=this.resizeTarget.height(),this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10),this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10),this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){for(var e,t=this.resizeTargetChildren.length;t;)t-=1,e=this.resizeTargetChildren[t],this.resizeTargetChildren[t].lastWidth=e.width(),this.resizeTargetChildren[t].lastHeight=e.height()},_performResize:function(e,t){var i=e-this._mouseResizePosition.x,s=t-this._mouseResizePosition.y;this._resizeDirection&&this._resize(this.resizeTarget,i,s)},_resizeCursorChangeHandler:function(e,t){e.enableResize&&!e.collapsed&&(e.isResizing||e._changeCursor(t.pageX-parseInt(e.resizeTarget.css("left")),t.pageY-parseInt(e.resizeTarget.css("top"))))},_resizeMouseDownHandler:function(e,t){e.enableResize&&null!==e._resizeDirection&&(e._resizeMouseDown=!0,e._mouseResizePosition.x=t.pageX,e._mouseResizePosition.y=t.pageY,t.preventDefault())},_validateResizeProperties:function(){try{if(!this.resizeTarget||1!==this.resizeTarget.length)throw new Error(this._resizeExceptions.invalidTarget);if(this.minHeight<0||isNaN(parseInt(this.minHeight)))throw new Error(this._resizeExceptions.invalidMinHeight);if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight)))throw new Error(this._resizeExceptions.invalidMaxHeight);if(this.minWidth<0||isNaN(parseInt(this.minWidth)))throw new Error(this._resizeExceptions.invalidMinWidth);if(this.maxWidth<0||isNaN(parseInt(this.maxWidth)))throw new Error(this._resizeExceptions.invalidMaxWidth);if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize)))throw new Error(this._resizeExceptions.invalidIndicatorSize);if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth)throw new Error(this._resizeExceptions.invalidSize)}catch(e){alert(e)}},_changeCursor:function(e,t){this.isResizing||this._resizeMouseDown||(this.resizeArea=!0,e<=this.resizeIndicatorSize&&e>=0&&t<=this.resizeIndicatorSize&&t>0?(this._resizeWrapper.css("cursor","nw-resize"),this._resizeDirection="topleft"):t<=this.resizeIndicatorSize&&t>0&&e>=this.resizeTarget.width()-this.resizeIndicatorSize?(this._resizeWrapper.css("cursor","ne-resize"),this._resizeDirection="topright"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e<=this.resizeIndicatorSize&&e>=0?(this._resizeWrapper.css("cursor","sw-resize"),this._resizeDirection="bottomleft"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","se-resize"),this._resizeDirection="bottomright"):e<=this.resizeIndicatorSize&&e>=0?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="left"):t<=this.resizeIndicatorSize&&t>0?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="top"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="bottom"):e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="right"):(this._resizeWrapper.css("cursor",this._cursorBackup),this._resizeDirection=null,this.resizeArea=!1))},_prepareResizeMethods:function(e){this._resizeMethods=[],e.indexOf("left")>=0&&this._resizeMethods.push(this._resizeLeft),e.indexOf("top")>=0&&this._resizeMethods.push(this._resizeTop),e.indexOf("right")>=0&&this._resizeMethods.push(this._resizeRight),e.indexOf("bottom")>=0&&this._resizeMethods.push(this._resizeBottom)},_validateResize:function(e,t,i,s,r){return"horizontal"===i||"both"===i?this._validateWidth(e,s,r):"vertical"===i||"both"===i?this._validateHeight(t,s,r):{result:!1,fix:0}},_getParent:function(){return null!==this.resizeParent&&"undefined"!==this.resizeParent&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left?this.resizeParent:{left:0,top:0,width:e(document).width(),height:e(document).height()}},_validateHeight:function(t,i,s){var r=0,n=this._getParent();return e(window).width()>e(document).width()&&e.jqx.browser.msie&&n.height===e(document).height()&&(r=this._SCROLL_WIDTH),"bottom"===s&&t+i.position().top+r+2>n.height+n.top?{fix:n.height-i.position().top-r-2+n.top,result:!1}:"top"===s&&i.lastHeight-t+i.y<n.top?{fix:t+(i.lastHeight-t+i.y)-n.top,result:!1}:t<i.minHeight?{fix:i.minHeight,result:!1}:t>i.maxHeight?{fix:i.maxHeight,result:!1}:{result:!0,fix:t}},_validateWidth:function(t,i,s){var r=0,n=this._getParent();return e(window).height()<e(document).height()&&e.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&n.width===e(document).width()&&(r=this._SCROLL_WIDTH),"right"===s&&t+i.position().left+r+2>n.width+n.left?{fix:n.width-i.position().left-r-2+n.left,result:!1}:"left"===s&&i.lastWidth-t+i.x<n.left?{fix:t+(i.lastWidth-t+i.x)-n.left,result:!1}:t<i.minWidth?{fix:i.minWidth,result:!1}:t>i.maxWidth?{fix:i.maxWidth,result:!1}:{result:!0,fix:t}},_resize:function(e,t,i){for(var s=(this._resizeDirection,this._resizeMethods.length),r=0;r<s;r++)if(this._resizeMethods[r]instanceof Function){var n={element:e,x:t,y:i,self:this};this._resizeMethods[r](n)}this._performResizeLayout()},resize:function(e,t){if(this.resizable){var i=e-this.host.width(),s=t-this.host.height(),r="right";0!=s&&(r="bottom"),this._resizeDirection=r,this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this._resize(this.resizeTarget,i,s),this.isResizing=!1}},_setResizeChildrenSize:function(e,t){for(var i=this.resizeTargetChildren.length;i;)if(i--,"width"===t){var s=this.resizeTargetChildren[i].lastWidth-(this.resizeTarget.lastWidth-e);s<this.resizeTarget.maxWidth&&s>0&&this.resizeTargetChildren[i].width(s)}else{var r=this.resizeTargetChildren[i].lastHeight-(this.resizeTarget.lastHeight-e);r<this.resizeTarget.maxHeight&&r>0&&this.resizeTargetChildren[i].height(r)}},_resizeRight:function(e){var t=e.element.lastWidth+e.x,i=e.self._validateResize(t,0,"horizontal",e.element,"right");return i.result||(t=i.fix),e.element.width()!==t&&(e.self._setResizeChildrenSize(t,"width"),e.element.width(t),e.self._raiseResizeEvent(0)),t},_resizeLeft:function(e){var t=e.element.lastWidth-e.x,i=e.self._validateResize(t,0,"horizontal",e.element,"left"),s=e.element.x+e.x;return i.result?(e.element.width()!==t&&(e.self._setResizeChildrenSize(t,"width"),e.element.width(t),e.element.css("left",s),e.self._raiseResizeEvent(0)),t):(s=e.element.x+(e.element.lastWidth-i.fix),void(t=i.fix))},_resizeBottom:function(e){var t=e.element.lastHeight+e.y,i=e.self._validateResize(0,t,"vertical",e.element,"bottom");return i.result||(t=i.fix),e.element.height()!==t&&(e.self._setResizeChildrenSize(t,"height"),e.element.height(t),e.self._raiseResizeEvent(0)),t},_resizeTop:function(e){var t=e.element.lastHeight-e.y,i=e.self._validateResize(0,t,"vertical",e.element,"top"),s=e.element.y+e.y;return i.result?(e.element.height()!==t&&(e.self._setResizeChildrenSize(t,"height"),e.element.height(t),e.element.css("top",s),e.self._raiseResizeEvent(0)),t):(s=e.element.y+(e.element.lastHeight-i.fix),void(t=i.fix))},_raiseResizeEvent:function(t){var i=this._resizeEvents[t],s=e.Event(i),r={};if(r.width=parseInt(this.resizeTarget[0].style.width),r.height=parseInt(this.resizeTarget[0].style.height),s.args=r,0==t){var i=this._resizeEvents[2],n=e.Event(i);n.args=r,this.resizeTarget.trigger(n)}return this.resizeTarget.trigger(s)}}}(jqxBaseFramework);e.extend(e.jqx._jqxWindow.prototype,t)}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDateTimeInput","",{}),e.extend(e.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){var t={value:e.jqx._jqxDateTimeInput.getDateTime(new Date),minDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),rowHeaderWidth:25,enableViews:!0,views:["month","year","decade"],selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],change:null,changing:null,template:"default",columnHeaderHeight:20,titleHeight:30,firstDayOfWeek:0,showWeekNumbers:!1,showTimeButton:!1,cookies:!1,cookieoptions:null,showFooter:!1,formatString:"dd/MM/yyyy",width:200,height:25,dayNameFormat:"firstTwoLetters",textAlign:"left",readonly:!1,culture:"default",activeEditor:null,showCalendarButton:!0,openDelay:250,closeDelay:300,closeCalendarAfterSelection:!0,isEditing:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",enableAbsoluteSelection:!1,disabled:!1,buttonSize:18,animationType:"slide",dropDownWidth:"200px",restrictedDates:new Array,dropDownHeight:"205px",selectionMode:"default",renderMode:"full",rtl:!1,timeRange:null,_editor:!1,todayString:"Today",clearString:"Clear",popupZIndex:9999999999999,allowNullDate:!0,changeType:null,placeHolder:"",enableHover:!0,allowKeyboardDelete:!0,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close","change"],aria:{"aria-valuenow":{name:"getDate",type:"date"},"aria-valuetext":{name:"getText",type:"string"},"aria-valuemin":{name:"min",type:"date"},"aria-valuemax":{name:"max",type:"date"},"aria-disabled":{name:"disabled",type:"boolean"}}};return e.extend(!0,this,t),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(1),this.minDate._setMinutes(1),this.minDate._setSeconds(1),this.minDate._setMilliseconds(1),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(1),this.maxDate._setMinutes(1),this.maxDate._setSeconds(1),this.maxDate._setMilliseconds(1),this.defaultMinDate=this.minDate,this.defaultMaxDate=this.maxDate,t},createInstance:function(t){var i="",s=this;if(!s.host.jqxCalendar)throw new Error("jqxDateTimeInput: Missing reference to jqxcalendar.js.");if("dd/MM/yyyy"!=s.formatString){var r=s.formatString.split(" ");if(r&&r.length>1){for(var n="",a=0;a<r.length;a++)"1"==r[a].length?n+=s._getFormatValue(r[a]):n+=r[a],a<r.length-1&&(n+=" ");s.formatString=n}}if("input"==s.element.nodeName.toLowerCase()){var o=s.element.getAttribute("type");if(o&&"dd/MM/yyyy"==s.formatString){if("date"==o&&(s.formatString="d"),"datetime"==o){var l=s._getFormatValue("d")+" "+s._getFormatValue("t");s.formatString=l,s.showTimeButton=!0}"time"==o&&(s.formatString="t",s.showTimeButton=!0,s.showCalendarButton=!1)}if(s.field=s.element,s.field.getAttribute("min")){var h=new Date(s.field.getAttribute("min"));"Invalid Date"!=h&&(s.min=h)}if(s.field.getAttribute("max")){var d=new Date(s.field.getAttribute("max"));"Invalid Date"!=d&&(s.max=d)}s.field.className&&(s._className=s.field.className);var c={title:s.field.title};s.field.value&&(c.value=s.field.value),s.field.id.length?c.id=s.field.id.replace(/[^\w]/g,"_")+"_jqxDateTimeInput":c.id=e.jqx.utilities.createId()+"_jqxDateTimeInput";var u=e("<div></div>",c);u[0].style.cssText=s.field.style.cssText,s.width||(s.width=e(s.field).width()),s.height||(s.height=e(s.field).outerHeight()),e(s.field).hide().after(u);var f=s.host.data();if(s.host=u,s.host.data(f),s.element=u[0],s.element.id=s.field.id,s.field.id=c.id,s._className&&(s.host.addClass(s._className),e(s.field).removeClass(s._className)),s.field.tabIndex){var p=s.field.tabIndex;s.field.tabIndex=-1,s.element.tabIndex=p}}if(s.host.attr("value")){i=!0;var m=s.host.attr("value");if("range"!=s.selectionMode){var g=new Date(m);void 0==g||isNaN(g)||(s.value=e.jqx._jqxDateTimeInput.getDateTime(g))}}if(null!=s.value&&s.value instanceof Date)s.value=e.jqx._jqxDateTimeInput.getDateTime(s.value);else if(null!=s.value&&"string"==typeof s.value){var g=new Date(s.value);if(void 0==g||isNaN(g)){if(s.value.indexOf(",")>=0){s.value=s.value.replace(/\,/g,"/");var g=new Date(s.value);void 0==g||isNaN(g)||(s.value=e.jqx._jqxDateTimeInput.getDateTime(g))}}else s.value=e.jqx._jqxDateTimeInput.getDateTime(g)}if(this._initTimeRange(),this._validateTimeRange(),s.host.attr("data-role","input"),s.render(),e.jqx.aria(this),null!=s.getDate()?e.jqx.aria(this,"aria-label","Current focused date is "+s.getDate().toLocaleString()):e.jqx.aria(this,"aria-label","Current focused date is Null"),s.minDate!==s.defaultMinDate&&(s.min=s.minDate),s.maxDate!==s.defaultMaxDate&&(s.max=s.maxDate),s.setMaxDate(s.max,!1),s.setMinDate(s.min,!1),"range"==s.selectionMode)if(i){var m=s.host.attr("value"),v=m.substring(0,m.indexOf("-")),x=m.substring(m.indexOf("-")+1),y=new Date(v),w=new Date(x);void 0==y||isNaN(y)||void 0==w||isNaN(w)||s.setRange(y,w)}else null!=s.getDate()&&s.setRange(s.getDate(),s.getDate())},_validateTimeRange:function(){if(this.timeRange){var e=this.value.dateTime.getHours(),t=this.value.dateTime.getMinutes();e<=this.timeRange.minHour&&(this.value._setHours(this.timeRange.minHour),t<this.timeRange.minMinute?(this.value._setMinutes(this.timeRange.minMinute),this._updateEditorsValue()):this._updateEditorsValue()),e>=this.timeRange.maxHour&&(this.value._setHours(this.timeRange.maxHour),t>this.timeRange.maxMinute?(this.value._setMinutes(this.timeRange.maxMinute),this._updateEditorsValue()):this._updateEditorsValue())}},_initTimeRange:function(){if(this.timeRange){if(this.timeRange.min){var e=null;(this.timeRange.min.indexOf("AM")>=0||this.timeRange.min.indexOf("PM")>=0)&&(e=this.timeRange.min.indexOf("AM")>=0?"AM":"PM");var t=this.timeRange.min.split(":"),i=parseInt(t[0]),s=parseInt(t[1]);e&&(this.timeRange.minDefaultHour=i,this.timeRange.minMeridian=e),e&&"PM"==e&&(i+=12),this.timeRange.minHour=i,this.timeRange.minMinute=s}if(this.timeRange.max){var e=null;(this.timeRange.max.indexOf("AM")>=0||this.timeRange.max.indexOf("PM")>=0)&&(e=this.timeRange.max.indexOf("AM")>=0?"AM":"PM");var r=this.timeRange.max.split(":"),i=parseInt(r[0]),s=parseInt(r[1]);e&&(this.timeRange.maxDefaultHour=i,this.timeRange.maxMeridian=e),e&&"PM"==e&&(i+=12),this.timeRange.maxHour=i,this.timeRange.maxMinute=s}}},_format:function(t,i,s){var r=!1;try{void 0!=Globalize&&(r=!0)}catch(e){}if(e.global)return e.global.format(t,i,this.culture);if(!r){if(e.jqx.dataFormat)return t instanceof Date?e.jqx.dataFormat.formatdate(t,i,this.localization.calendar):"number"==typeof t?e.jqx.dataFormat.formatnumber(t,i,this.localization.calendar):e.jqx.dataFormat.formatdate(t,i,this.localization.calendar);throw new Error("jqxDateTimeInput: Missing reference to globalize.js.")}try{var i=Globalize.format(t,i,this.culture);return i}catch(e){return Globalize.format(t,i)}},render:function(){var t=this;t._removeHandlers(),t.element.innerHTML="",t.host.attr({role:"textbox"}),t.id=e.jqx.utilities.createId();e.jqx.utilities.createId(),e.jqx.utilities.createId();t._setSize(),null==t.width&&(t.width=t.host.width(),t.host.width(t.width)),t.touch=e.jqx.mobile.isTouchDevice();var i=e("<div class='jqx-max-size jqx-position-relative'></div>").appendTo(t.host);t.dateTimeInput=e("<input style='border: none; padding-left: 3px; padding-right: 3px;' class='jqx-position-absolute' id='input"+t.element.id+"' autocomplete='off' type='textarea'/>").appendTo(i),t.dateTimeInput.addClass(t.toThemeProperty("jqx-reset")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-clear")),
t.dateTimeInput.addClass(t.toThemeProperty("jqx-input-content")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-widget-content")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-rc-all")),t.dateTimeInput.attr("placeHolder",t.placeHolder),"full"!=t.renderMode&&t.dateTimeInput.remove();var s=t.host.attr("name");s&&t.dateTimeInput.attr("name",s),t.host.attr("tabindex")&&(t.dateTimeInput.attr("tabindex",t.host.attr("tabindex")),t.host.removeAttr("tabindex")),t.rtl&&(t.dateTimeInput.css("direction","rtl"),t.dateTimeInput.addClass("jqx-rtl")),t.calendarButton=e("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(i),t.rtl?t.calendarButton.addClass(t.toThemeProperty("jqx-action-button-rtl")):t.calendarButton.addClass(t.toThemeProperty("jqx-action-button")),t.calendarButtonIcon=e(t.calendarButton.children()[0]),t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon")),t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon-calendar")),t.calendarButton.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl?t.calendarButton.addClass(t.toThemeProperty("jqx-rc-l")):t.showTimeButton||t.calendarButton.addClass(t.toThemeProperty("jqx-rc-r")),t.timeButton=e("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(i),t.rtl?t.timeButton.addClass(t.toThemeProperty("jqx-action-button-rtl")):t.timeButton.addClass(t.toThemeProperty("jqx-action-button")),t.template&&(t.timeButton.addClass(t.toThemeProperty("jqx-"+t.template)),t.calendarButton.addClass(t.toThemeProperty("jqx-"+t.template))),t.timeButtonIcon=e(t.timeButton.children()[0]),t.timeButtonIcon.addClass(t.toThemeProperty("jqx-icon")),t.timeButtonIcon.addClass(t.toThemeProperty("jqx-icon-time")),t.timeButton.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl?t.timeButton.addClass(t.toThemeProperty("jqx-rc-l")):t.timeButton.addClass(t.toThemeProperty("jqx-rc-r"));var r=this;if(t._arrange(),null!=e.jqx._jqxCalendar&&void 0!=e.jqx._jqxCalendar)try{var n="calendar"+t.id,a=e(e.find("#"+n));a.length>0&&a.remove(),e.jqx.aria(this,"aria-owns",n),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-readonly","range"==t.selectionMode);var o=e("<div style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+t.id+"'><div id='innerCalendar"+t.id+"'></div><div id='innerTime"+t.id+"'></div></div>");"opera"==e.jqx.utilities.getBrowser().browser&&o.hide(),o.appendTo(document.body),t.container=o,t.calendarContainer=e(e.find("#innerCalendar"+t.id)).jqxCalendar({restrictedDates:this.restrictedDates,changing:t.changing,change:t.change,enableViews:t.enableViews,selectableDays:t.selectableDays,views:t.views,rowHeaderWidth:t.rowHeaderWidth,titleHeight:t.titleHeight,columnHeaderHeight:t.columnHeaderHeight,_checkForHiddenParent:!1,enableAutoNavigation:!1,canRender:!1,localization:t.localization,todayString:t.todayString,clearString:t.clearString,dayNameFormat:t.dayNameFormat,rtl:t.rtl,culture:t.culture,showFooter:t.showFooter,selectionMode:t.selectionMode,firstDayOfWeek:t.firstDayOfWeek,showWeekNumbers:t.showWeekNumbers,width:t.dropDownWidth,height:t.dropDownHeight,theme:t.theme}),t.calendarContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.calendarContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.calendarContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.timeContainer=e(e.find("#innerTime"+t.id)),t.timeContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.timeContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.timeContainer.addClass(t.toThemeProperty("jqx-noshadow")),t._calendar=e.data(t.calendarContainer[0],"jqxCalendar").instance;var r=this;t._calendar.today=function(){r.today()},t._calendar.clear=function(){r.clear()},"opera"==e.jqx.utilities.getBrowser().browser&&o.show(),o.height(parseInt(t.calendarContainer.height())+25),o.width(parseInt(t.calendarContainer.width())+25),"range"==t.selectionMode&&(t.readonly=!0),"none"==t.animationType?t.container.css("display","none"):t.container.hide()}catch(e){}if(e.global&&e.global.preferCulture(t.culture),t.selectedText="",t._addHandlers(),t.self=this,t.oldValue=t.getDate(),t.items=new Array,t.editors=new Array,t._loadItems(),t.editorText="",1==t.readonly&&t.dateTimeInput.css("readonly",t.readonly),t.dateTimeInput.css("text-align",t.textAlign),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-datetimeinput")),t.host.addClass(t.toThemeProperty("jqx-input")),t.host.addClass(t.toThemeProperty("jqx-overflow-hidden")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-clear")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.propertyChangeMap.disabled=function(t,i,s,n){n?(t.host.addClass(r.toThemeProperty("jqx-input-disabled")),t.host.addClass(r.toThemeProperty("jqx-fill-state-disabled"))):(t.host.removeClass(r.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(r.toThemeProperty("jqx-input-disabled"))),e.jqx.aria(this,"aria-disabled",n)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-input-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dateTimeInput.attr("disabled",!0)),t.host.parents("form").length>0&&t.addHandler(t.host.parents("form"),"reset",function(){setTimeout(function(){r.setDate(new Date)},10)}),t.cookies){var l=e.jqx.cookie.cookie("jqxDateTimeInput"+t.element.id);null!=l&&t.setDate(new Date(l))}if(e.jqx.browser.msie&&e.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0){var h=t.host.parents(".jqx-window").css("z-index");t.container.css("z-index",h+10),t.calendarContainer.css("z-index",h+10)}"default"!=t.culture&&t._applyCulture(),t.value&&(t.calendarContainer.jqxCalendar("_isDisabled",t.value.dateTime)?t.dateTimeInput.addClass(t.toThemeProperty("jqx-input-invalid")):t.dateTimeInput.removeClass(t.toThemeProperty("jqx-input-invalid")))},val:function(e){var t=this;if(0!=arguments.length){if(null==e&&t.setDate(null),"range"==t.selectionMode)return t.setRange(arguments[0],arguments[1]),t.getText();if(e instanceof Date&&t.setDate(e),"string"==typeof e){if("date"==e)return t.getDate();t.setDate(e)}t._calendar.getDate()!=t.getDate()&&t._calendar.setDate(t.getDate())}return t.getText()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)+"px":void 0==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)+"px":void 0==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)+"px");var t=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.host.height(this.height));var i=this,s=function(){i.calendarContainer&&i._arrange()};if(t&&this.calendarContainer){this._arrange();var r=this.host.width();"auto"!=this.dropDownWidth&&(r=this.dropDownWidth),this.calendarContainer.jqxCalendar({width:r}),this.container.width(parseInt(r)+25)}e.jqx.utilities.resize(this.host,function(){s()})},_arrange:function(){null==this.height&&(this.height=27,this.host.height(27));var t=parseInt(this.host.width()),i=parseInt(this.host.height()),s=this.buttonSize,r=2;this.showCalendarButton||this.showTimeButton||(s=0,buttonHeight=0,this.calendarButton.hide(),r=0),this.showCalendarButton?this.calendarButton.show():this.calendarButton.hide(),this.showTimeButton?this.timeButton.show():this.timeButton.hide();var n=t-s-1*r;if(this.showTimeButton&&this.showCalendarButton)var n=t-2*s-1*r;else if(this.showTimeButton||this.showCalendarButton)var n=t-s-1*r;n>0&&(this.dateTimeInput[0].style.width=n+"px"),this.rtl&&(this.dateTimeInput[0].style.width=-1+n+"px"),this.dateTimeInput[0].style.left="0px",this.dateTimeInput[0].style.top="0px",this.calendarButton[0].style.width=s+1+"px",this.calendarButton[0].style.left=1+n+"px",this.timeButton[0].style.width=s+1+"px",this.showCalendarButton?this.timeButton[0].style.left=1+this.calendarButton.width()+n+"px":this.timeButton[0].style.left=1+n+"px","full"!=this.renderMode&&(this.calendarButton[0].style.width="100%",this.calendarButton[0].style.left="0px",this.calendarButton.css("border","none"),this.timeButton[0].style.width="100%",this.timeButton[0].style.left="0px",this.timeButton.css("border","none"));var a=this.dateTimeInput.height();0==a&&"full"!=this.renderMode?(a=parseInt(this.dateTimeInput.css("font-size"))+3,this.calendarButton.addClass(this.toThemeProperty("jqx-rc-all")),this.timeButton.addClass(this.toThemeProperty("jqx-rc-all"))):a=17,-1==this.dateTimeInput[0].className.indexOf("jqx-rc-all")&&this.dateTimeInput.addClass(this.toThemeProperty("jqx-rc-all"));var o=parseInt(i)/2-parseInt(a)/2;if(o>0){var l=this.dateTimeInput.css("font-size");""==l&&(l=13);var o=i-2-parseInt(l)-2;isNaN(o)&&(o=0),o<0&&(o=0);var h=o/2;e.jqx.browser.msie&&e.jqx.browser.version<8&&(h=o/4),this.dateTimeInput[0].style.paddingTop=Math.round(h)+"px",this.dateTimeInput[0].style.paddingBottom=Math.round(h)+"px"}this.rtl&&(this.calendarButton[0].style.width=s+"px",this.timeButton[0].style.width=s+"px",this.calendarButton.css("left","0px"),this.showCalendarButton?this.timeButton.css("left",s+"px"):this.timeButton.css("left","0px"),this.dateTimeInput.css("left",this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",this.timeButton.width()+this.calendarButton.width()),e.jqx.browser.msie&&e.jqx.browser.version<=8&&(this.dateTimeInput.css("left",1+this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",1+this.timeButton.width()+this.calendarButton.width())))},_removeHandlers:function(){this.removeHandler(e(document),"mousedown."+this.id),this.dateTimeInput&&(this.removeHandler(this.dateTimeInput,"keydown."+this.id),this.removeHandler(this.dateTimeInput,"blur"),this.removeHandler(this.dateTimeInput,"focus"),this.removeHandler(this.host,"focus"),this.removeHandler(this.dateTimeInput,"mousedown"),this.removeHandler(this.dateTimeInput,"mouseup"),this.removeHandler(this.dateTimeInput,"keydown"),this.removeHandler(this.dateTimeInput,"keyup"),this.removeHandler(this.dateTimeInput,"keypress")),null!=this.calendarButton&&this.removeHandler(this.calendarButton,"mousedown"),null!=this.timeButton&&this.removeHandler(this.timeButton,"mousedown"),null!=this.calendarContainer&&(this.removeHandler(this.calendarContainer,"cellSelected"),this.removeHandler(this.calendarContainer,"cellMouseDown")),this.removeHandler(e(window),"resize."+this.id)},isOpened:function(){var t=this,i=e.data(document.body,"openedJQXCalendar"+this.id);return null!=i&&i==t.calendarContainer},wheel:function(e,t){if(t.isEditing){t.changeType="mouse";var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return!s&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1}},_handleDelta:function(e){return e<0?this.spinDown():this.spinUp(),!1},focus:function(){try{var e=this;this._setSelectionStart(0),this._selectGroup(-1),this.dateTimeInput.focus(),setTimeout(function(){e._setSelectionStart(0),e._selectGroup(-1),e.dateTimeInput.focus()},25)}catch(e){}},_addHandlers:function(){var t=(this.element.id,this.element,this);this.host.parents()&&this.addHandler(this.host.parents(),"scroll.datetimeinput"+this.element.id,function(e){t.isOpened()&&t.close()}),this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&(hovered=!0,t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon-calendar-hover")),t.calendarButton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t.showTimeButton&&(t.timeButtonIcon.addClass(t.toThemeProperty("jqx-icon-time-hover")),t.timeButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&(t.calendarButtonIcon.removeClass(t.toThemeProperty("jqx-icon-calendar-hover")),t.calendarButton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.showTimeButton&&(t.timeButtonIcon.removeClass(t.toThemeProperty("jqx-icon-time-hover")),t.timeButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(this.host,"mousewheel",function(e){t.wheel(e,t)}),this.addHandler(e(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this}),e.jqx.mobile.isTouchDevice()&&this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,this._closeOpenedCalendar,{me:this}),this.addHandler(this.dateTimeInput,"keydown."+this.id,function(i){var s=e.data(document.body,"openedJQXCalendar"+t.id);if(null!=s&&s==t.calendarContainer){return t.handleCalendarKey(i,t)}}),null!=this.calendarContainer&&(this.addHandler(this.calendarContainer,"keydown",function(e){if(13==e.keyCode)return!(t.isOpened()&&!t._calendar._viewAnimating&&"month"==t._calendar.view)||(t.hideCalendar("selected","keyboard"),t.dateTimeInput.focus(),!1);if(9==e.keyCode){if(t.isOpened())return t.hideCalendar("selected","keyboard"),!0}else if(27==e.keyCode)return!t.isOpened()||(t.hideCalendar(null,"keyboard"),t.dateTimeInput.focus(),!1);if(t.timePopup=!1,84==e.keyCode&&(t.timePopup=!0),115==e.keyCode){if(t.isOpened())return t.hideCalendar("keyboard","keyboard"),t.dateTimeInput.focus(),!1;if(!t.isOpened())return t.showCalendar("keyboard","keyboard"),t.dateTimeInput.focus(),!1}if(e.altKey)if(38==e.keyCode){if(t.isOpened())return t.hideCalendar("keyboard","keyboard"),t.dateTimeInput.focus(),!1}else if(40==e.keyCode&&!t.isOpened())return t.showCalendar("keyboard","keyboard"),t.dateTimeInput.focus(),!1}),this.addHandler(this.calendarContainer,"cellSelected",function(i){if(t.closeCalendarAfterSelection){e.data(document.body,"openedJQXCalendarValue");"mouse"==i.args.selectionType&&("range"!=t.selectionMode?t.hideCalendar("selected","mouse"):0==t._calendar._clicks&&t.hideCalendar("selected","mouse"))}}),this.addHandler(this.calendarContainer,"cellMouseDown",function(i){t.closeCalendarAfterSelection&&t._calendar.value&&e.data(document.body,"openedJQXCalendarValue",new e.jqx._jqxDateTimeInput.getDateTime(t._calendar.value.dateTime))})),this.addHandler(this.dateTimeInput,"blur",function(e){if(null!=t.value){t.isEditing=!1;t.value.dateTime.getDay(),t._oldDT;t._validateValue(!0),e.stopPropagation&&e.stopPropagation(),t._updateText(),t._raiseEvent(9,e)}t.isOpened()||t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){t.focus()}),this.addHandler(this.dateTimeInput,"focus",function(e){if(null!=t.value?("range"!=t.selectionMode?t._oldDT=new Date(t.value.dateTime):t._oldDT=t.getRange(),setTimeout(function(){var e=t._selection();t.isEditing=!0,t._validateValue(),t._updateText(),t._setSelectionStart(0),t._selectGroup(-1,e),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))})):(t._setSelectionStart(0),t._selectGroup(-1),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))),e.stopPropagation&&e.stopPropagation(),e.preventDefault)return e.preventDefault(),!1});var i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.calendarButton,i,function(e){var i=t.container,s="block"==i.css("display");if(t.timePopup=!1,t.calendarPopup=!0,!t.disabled&&!t.isanimating){if(s)return t.hideCalendar(),!1;t.showCalendar("mouse"),e.preventDefault()}}),this.addHandler(this.timeButton,i,function(e){var i=t.container,s="block"==i.css("display");if(t.timePopup=!0,t.calendarPopup=!1,!t.disabled&&!t.isanimating){if(s)return t.hideCalendar("mouse","mouse"),!1;t.showCalendar("mouse"),e.preventDefault()}}),this.addHandler(this.dateTimeInput,"mousedown",function(e){return t._raiseEvent(2,e)}),this.addHandler(this.dateTimeInput,"mouseup",function(e){return t._raiseEvent(3,e)}),this.addHandler(this.dateTimeInput,"keydown",function(e){return t._raiseEvent(4,e)}),this.addHandler(this.dateTimeInput,"keyup",function(e){return t._raiseEvent(5,e)}),this.addHandler(this.dateTimeInput,"keypress",function(e){return t._raiseEvent(6,e)})},createID:function(){var e=Math.random()+"";return e=e.replace(".",""),e="99"+e,"dateTimeInput"+(e/=1)},setMaxDate:function(t,i){null!=t&&(null!=t&&"string"==typeof t&&"Invalid Date"==(t=new Date(t))||(this.maxDate=e.jqx._jqxDateTimeInput.getDateTime(t),null!=this._calendar&&this._calendar.setMaxDate(t),0!=i&&(null!=this.getDate()&&this.getDate()>t&&this.setDate(t),e.jqx.aria(this,"aria-valuemax",t),this._refreshValue(),this._updateText())))},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(t,i){null!=t&&(null!=t&&"string"==typeof t&&"Invalid Date"==(t=new Date(t))||(this.minDate=e.jqx._jqxDateTimeInput.getDateTime(t),null!=this._calendar&&this._calendar.setMinDate(t),0!=i&&(null!=this.getDate()&&this.getDate()<t&&this.setDate(t),e.jqx.aria(this,"aria-valuemin",t),this._refreshValue(),this._updateText())))},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},_applyCulture:function(){var t=!1;try{void 0!=Globalize&&(t=!0)}catch(e){}try{if(e.global)e.global.preferCulture(this.culture),this.localization.calendar=e.global.culture.calendar;else if(t){var i=Globalize.culture(this.culture);this.localization.calendar=i.calendar}this._loadItems(),null!=this._calendar&&(this._calendar.culture=this.culture,this._calendar.localization=this.localization,this._calendar.render())}catch(e){}},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.refresh(),e.close())},propertyChangedHandler:function(t,i,s,r){if(void 0!=t.isInitialized&&0!=t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.timeButton.removeClass(t.toThemeProperty("jqx-"+s)),t.calendarButton.removeClass(t.toThemeProperty("jqx-"+s)),t.timeButton.addClass(t.toThemeProperty("jqx-"+t.template)),t.calendarButton.addClass(t.toThemeProperty("jqx-"+t.template))),"restrictedDates"==i&&t.calendarContainer.css({restrictedDates:r}),"popupZIndex"==i&&t.calendarContainer.css({zIndex:r}),"showCalendarButton"==i&&t._arrange(),"showTimeButton"==i&&(t._arrange(),t.timePopupElement&&(t.timePopupElement.remove(),t.timePopupElement=null)),"selectionMode"==i&&(t._calendar.selectionMode=r,t.refreshValue()),"min"==i&&("string"==typeof r?t.setMinDate(new Date(r)):t.setMinDate(r)),"max"==i&&("string"==typeof r?t.setMaxDate(new Date(r)):t.setMaxDate(r)),"value"==i)if(null!=r&&r instanceof Date){if(isNaN(r.getFullYear())||isNaN(r.getMonth())||isNaN(r.getDate()))return void(this.value=s);r=e.jqx._jqxDateTimeInput.getDateTime(r)}else if(null!=r&&"string"==typeof r){var n=new Date(r);void 0==n||isNaN(n)||(this.value=e.jqx._jqxDateTimeInput.getDateTime(n))}if("views"==i&&t.calendarContainer.jqxCalendar({views:r}),"enableViews"==i&&t.calendarContainer.jqxCalendar({enableViews:r}),"selectableDays"==i&&t.calendarContainer.jqxCalendar({selectableDays:r}),"showFooter"==i&&t.calendarContainer.jqxCalendar({showFooter:r}),"rtl"==i&&(t.calendarContainer.jqxCalendar({rtl:r}),r?(t.dateTimeInput.css("direction","rtl"),t.dateTimeInput.addClass("jqx-rtl")):(t.dateTimeInput.css("direction","ltr"),t.dateTimeInput.removeClass("jqx-rtl"))),"todayString"!=i&&"clearString"!=i||t.calendarContainer.jqxCalendar({clearString:t.clearString,todayString:t.todayString}),"dayNameFormat"==i&&t.calendarContainer.jqxCalendar({dayNameFormat:r}),"firstDayOfWeek"==i&&t.calendarContainer.jqxCalendar({firstDayOfWeek:r}),"showWeekNumbers"==i&&t.calendarContainer.jqxCalendar({showWeekNumbers:r}),"culture"==i||"localization"==i?t._applyCulture():"formatString"==i&&(t.items=new Array,t._loadItems()),"theme"==i&&(e.jqx.utilities.setTheme(s,r,t.host),t.calendarContainer.jqxCalendar({theme:r})),"width"==i||"height"==i)return t.close(),void t.refresh();t._setOption(i,r,s),"dropDownWidth"!=i&&"dropDownHeight"!=i||(t.calendarContainer.jqxCalendar({width:t.dropDownWidth,height:t.dropDownHeight}),t._calendar.render(),t.container.height(t.calendarContainer.height()),t.container.width(t.calendarContainer.width()))}},clear:function(){this.allowNullDate?("range"!=this.selectionMode?this.setDate(null):(this._calendar._clicks=1,this.setRange(null,null)),this._calendar._clicks=0):"range"!=this.selectionMode?this.setDate(me.getMinDate()):(this._calendar._clicks=1,this.setRange(me.getMinDate(),me.getMinDate()),this._calendar._clicks=0),this.hideCalendar()},today:function(){var e=new Date;if(e.setHours(0,0,0,0),"range"!=this.selectionMode)this.setDate(e);else{this._calendar._clicks=0;var t=new Date;t.setHours(23,59,59,0),this.setRange(e,t),this._calendar._clicks=0}this.hideCalendar()},setDate:function(t){var i=this.getDate();if(null!=t&&"string"==typeof t){var s=t;if(t.toString().indexOf(",")>=0&&(t=t.replace(/\,/g,"/"),"Invalid Date"==(t=new Date(t))&&(t=s)),t.toString().indexOf("-")>=0&&(t=t.replace(/\-/g,"/"),"Invalid Date"==(t=new Date(t))&&(t=s)),""!=t){var r=t;if("Invalid Date"==(t=void 0!=Globalize?Globalize.parseDate(r,this.formatString,this.culture):e.jqx.dataFormat?e.jqx.dataFormat.parsedate(r,this.formatString,this.localization.calendar):new Date(t)))return;null===t&&null!==r&&"Invalid Date"!=r&&(t=r)}}if(null!=t&&"null"!=t&&"undefined"!=t||this.allowNullDate||(t=this.min),"Invalid Date"==t&&(t=null),null==t||"null"==t||"undefined"==t||""===t)return void(null!=this.value&&(this.value=null,this._calendar.setDate(null),this._refreshValue(),this.cookies&&null!=this.value&&e.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._setSelectionStart(0),this._selectGroup(-1),this._raiseEvent("0",t,i),this._raiseEvent("9",t,i)));if(!(t<this.getMinDate()||t>this.getMaxDate())){null==this.value&&(this.value=new e.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),t.getFullYear&&(this.value._setYear(t.getFullYear()),this.value._setDay(1),this.value._setMonth(t.getMonth()+1),this.value._setHours(t.getHours()),this.value._setMinutes(t.getMinutes()),this.value._setSeconds(t.getSeconds()),this.value._setMilliseconds(t.getMilliseconds()),this.value._setDay(t.getDate())),this._validateTimeRange(),this._refreshValue(),this.cookies&&null!=this.value&&e.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions);return 0!=this.getDate()-i?(this._raiseEvent("0",t,i),this._raiseEvent("9",t,i),!0):void 0}},getDate:function(){return void 0==this.value?null:new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(t,i){if("Invalid Date"==t&&(t=null),"Invalid Date"==i&&(i=null),!(null!=t&&"string"==typeof t&&"Invalid Date"==(t=new Date(t))||null!=i&&"string"==typeof i&&"Invalid Date"==(i=new Date(i))||t&&isNaN(t)&&"NaN"==t.toString()&&"string"!=typeof t||i&&isNaN(i)&&"NaN"==i.toString()&&"string"!=typeof i)){this._calendar.setRange(t,i),i&&t&&i.valueOf()!=t.valueOf()?this._range={from:t,to:i}:this._range=this._calendar.getRange();var s=t;null!=s&&s.getFullYear&&(null==this.value&&(this.value=new e.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),this.value._setYear(s.getFullYear()),this.value._setMonth(s.getMonth()+1),this.value._setHours(s.getHours()),this.value._setMinutes(s.getMinutes()),this.value._setSeconds(s.getSeconds()),this.value._setMilliseconds(s.getMilliseconds()),this.value._setDay(s.getDate())),this._refreshValue(),this.value?this._raiseEvent("0",this.value.dateTime):this._raiseEvent("0",null)}},getRange:function(){var e=this._calendar.getRange();if(this._range){var t=this._range.from,i=this._range.to;i&&t&&i.valueOf()!=t.valueOf()&&(e.from&&e.from.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.to&&e.to.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))}return e},_validateValue:function(e){for(var t=0;t<this.items.length;t++){var i=this.editors[t].value;switch(this.items[t].type){case"FORMAT_AMPM":i<0?i=0:i>1&&(i=1);break;case"Character":break;case"Day":i<1?i=1:i>31&&(i=31);break;case"FORMAT_hh":i<1?i=1:i>12&&(i=12);break;case"FORMAT_HH":i<0?i=0:i>23&&(i=23);break;case"Millisecond":i<0?i=0:i>999&&(i=999);break;case"Minute":i<0?i=0:i>59&&(i=59);break;case"Month":i<1?i=1:i>12&&(i=12);break;case"ReadOnly":break;case"Second":i<0?i=0:i>59&&(i=59);break;case"Year":i<this.minDate.year?i=this.minDate.year:i>this.maxDate.year&&(i=this.maxDate.year)}this.editors[t].value!=i&&(this.editors[t].value=i,!0)}this.updateValue(e),null!=this.value&&!0===e&&(this.value.dateTime>this.maxDate.dateTime?(this._internalSetValue(this.maxDate),this._updateEditorsValue()):this.value.dateTime<this.minDate.dateTime&&(this._internalSetValue(this.minDate),this._updateEditorsValue()),this._updateText())},spinUp:function(){if(null!=this.value){if(null!=this.activeEditor){var e=this.editors.indexOf(this.activeEditor);if(-1==e)return;"Day"==this.items[e].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var t=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=t}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var i=this.editors.indexOf(this.activeEditor);i>=0&&this._selectGroup(i)}},spinDown:function(){if(null!=this.value){if(null!=this.activeEditor){var e=this.editors.indexOf(this.activeEditor);if(-1==e)return;"Day"==this.items[e].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var t=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=t}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var i=this.editors.indexOf(this.activeEditor);i>=0&&this._selectGroup(i)}},_passKeyToCalendar:function(e){if(13==e.keyCode||9==e.keyCode)return this.hideCalendar("selected","keyboard"),!0;if(27==e.keyCode){var t=(this.calendarContainer,this._calendar),i=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1,t.setDate(this.value.dateTime),this.closeCalendarAfterSelection=i,this.hideCalendar()}var i=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1;var s=this._calendar._handleKey(e);return this.closeCalendarAfterSelection=i,s},handleCalendarKey:function(t,i){var s=(e(t.target),e.data(document.body,"openedJQXCalendar"+this.id));if(null!=s&&s.length>0){return i._passKeyToCalendar(t)}return!0},_findPos:function(t){if(null!=t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]}},testOffset:function(t,i,s){var r=t.outerWidth(),n=t.outerHeight(),a=e(window).width()+e(window).scrollLeft(),o=e(window).height()+e(window).scrollTop();if(i.left+r>a&&r>this.host.width()){var l=this.host.coord().left,h=r-this.host.width();i.left=l-h+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+n>o&&o>n?Math.abs(n+s+23):0),i},open:function(e){this.timePopup="time"==e,this.showCalendar()},close:function(e){this.hideCalendar()},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},initTimePopup:function(){this.timePopupElement=e("<div style='border-style: solid; border-width: 0px;'></div>").appendTo(this.timeContainer),this.timePopupElement.addClass(this.toThemeProperty("jqx-widget-content jqx-widget jqx-date-time-input-popup"));var t="";t+="<table><tbody><tr><td><a class='increment-hour-column' href='javascript:;' data-action='incrementHour'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-minute-column' href='javascript:;' data-action='incrementMinute'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-second-column' href='javascript:;' data-action='incrementSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-millisecond-column' href='javascript:;' data-action='incrementMSSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td class='increment-meridian-column'><a href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-up'></div></a></td></tr><tr><td><input type='text' class='jqx-timepicker-hour' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-minute' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-second' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-millisecond' maxlength='3'></td><td class='separator'>&nbsp;</td><td><input type='text' class='jqx-timepicker-meridian' maxlength='2'></td></tr><tr><td><a class='decrement-hour-column' href='javascript:;' data-action='decrementHour'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-minute-column' href='javascript:;' data-action='decrementMinute'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-second-column' href='javascript:;' data-action='decrementSecond'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-millisecond-column' href='javascript:;' data-action='decrementMillisecond'><div class='jqx-icon-down'></div></a></td><td class='separator'>&nbsp;</td><td><a class='decrement-meridian-column' href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-down'></div></a></td></tr></tbody></table>";var i=this._getFormatValue(this.formatString);"range"!=this.selectionMode?this.timePopupElement[0].innerHTML=t:this.timePopupElement[0].innerHTML="<table><tr><td>"+t+"</td><td>-</td><td>"+t+"</td></tr></table>",this.timePopupElement.find(".jqx-icon-down").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-down")),this.timePopupElement.find(".jqx-icon-up").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-up"));var s=this.timePopupElement.find("input");s.addClass(this.toThemeProperty("jqx-input")),s.addClass(this.toThemeProperty("jqx-rc-all")),this.addHandler(s,"mousedown",function(e){e.stopPropagation()});var r=function(t){t.target.className.indexOf("hour")>=0&&o._decrementHour(e(t.target)),t.target.className.indexOf("minute")>=0&&o._decrementMinuteSecond(e(t.target)),t.target.className.indexOf("second")>=0&&o._decrementMinuteSecond(e(t.target)),t.target.className.indexOf("millisecond")>=0&&o._decrementMillisecond(e(t.target)),t.target.className.indexOf("meridian")>=0&&o._decrementMeridian(e(t.target))},n=function(t){t.target.className.indexOf("hour")>=0&&o._incrementHour(e(t.target)),t.target.className.indexOf("minute")>=0&&o._incrementMinuteSecond(e(t.target)),t.target.className.indexOf("second")>=0&&o._incrementMinuteSecond(e(t.target)),t.target.className.indexOf("millisecond")>=0&&o._incrementMillisecond(e(t.target)),t.target.className.indexOf("meridian")>=0&&o._incrementMeridian(e(t.target))},a=function(e,t){if(t.isEditing){var i=0;e||(e=window.event),
e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.originalEvent&&void 0!=e.originalEvent.deltaY&&(i=-e.originalEvent.deltaY),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i&&(document.activeElement==e.target&&"input"==e.target.nodeName.toLowerCase()&&(i<0?r(e):n(e)),e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventDefault&&e.preventDefault(),e.returnValue=!1}};this.addHandler(s,"wheel",function(e){a(e,o)}),this.addHandler(s,"keydown",function(t){e(t.target);if(t.ctrlKey)if(38==t.keyCode){if(o.isOpened())return o.hideCalendar("keyboard","keyboard"),o.dateTimeInput.focus(),!1}else if(40==t.keyCode&&!o.isOpened())return o.showCalendar("keyboard","keyboard"),o.dateTimeInput.focus(),!1;40==t.keyCode?(r(t),t.preventDefault()):38==t.keyCode?(n(t),t.preventDefault()):13==t.keyCode?(t.preventDefault(),o.hideCalendar("keyboard","keyboard"),o.dateTimeInput.focus()):27==t.keyCode&&(t.preventDefault(),o.hideCalendar("cancel"),o.dateTimeInput.focus())}),this.hourInput=e(s[0]),this.minuteInput=e(s[1]),this.secondInput=e(s[2]),this.mssecondInput=e(s[3]),this.meridianInput=e(s[4]),this.hourInput2=e(s[5]),this.minuteInput2=e(s[6]),this.secondInput2=e(s[7]),this.mssecondInput2=e(s[8]),this.meridianInput2=e(s[9]);var o=this,l=this.timePopupElement.find(".increment-hour-column");this.hourIncrement=e(l[0]),this.hourIncrement2=e(l[1]),this.addHandler(s,"change",function(t){var s=e(t.target);if(s.val().length<=1&&s.val("0"+e(t.target).val()),t.target.className.indexOf("hour")>=0){var r=parseInt(e(t.target).val());if(i.indexOf("HH")>=0)for(;r>24;)r-=24;else for(;r>12;)r-=12;r<10&&(r="0"+r),s.val()!=r&&s.val(r)}if(t.target.className.indexOf("minute")>=0||t.target.className.indexOf("second")>=0){for(var r=parseInt(e(t.target).val());r>59;)r--;r<10&&(r="0"+r),s.val()!=r&&s.val(r)}}),this._incrementHour=function(e){var t=parseInt(e.val());t++,i.indexOf("HH")>=0?t>23&&(t=0):t>12&&(t=1),t<10&&(t="0"+t),e.val(t)},this._incrementMinuteSecond=function(e){var t=parseInt(e.val());t++,t>59&&(t=0),t<10&&(t="0"+t),e.val(t)},this._incrementMillisecond=function(e){var t=parseInt(e.val());t++,t>999&&(t=0),t<10&&(t="0"+t),e.val(t)},this._incrementMeridian=function(e){var t=e.val();t=t.toLowerCase().indexOf("a")>=0?"PM":"AM",e.val(t)},this._decrementHour=function(e){var t=parseInt(e.val());t--,i.indexOf("HH")>=0?t<0&&(t=23):t<1&&(t=12),t<10&&(t="0"+t),e.val(t)},this._decrementMinuteSecond=function(e){var t=parseInt(e.val());t--,t<0&&(t=59),t<10&&(t="0"+t),e.val(t)},this._decrementMillisecond=function(e){var t=parseInt(e.val());t--,t<0&&(t=999),t<10&&(t="0"+t),e.val(t)},this._decrementMeridian=function(e){var t=e.val();t=t.toLowerCase().indexOf("a")>=0?"PM":"AM",e.val(t)},this.addHandler(this.hourIncrement,"mousedown",function(e){e.stopPropagation(),o._incrementHour(o.hourInput)}),this.addHandler(this.hourIncrement2,"mousedown",function(e){e.stopPropagation(),o._incrementHour(o.hourInput2)});var h=this.timePopupElement.find(".increment-minute-column");this.minuteIncrement=e(h[0]),this.minuteIncrement2=e(h[1]),this.addHandler(this.minuteIncrement,"mousedown",function(e){e.stopPropagation(),o._incrementMinuteSecond(o.minuteInput)}),this.addHandler(this.minuteIncrement2,"mousedown",function(e){e.stopPropagation(),o._incrementMinuteSecond(o.minuteInput2)});var d=this.timePopupElement.find(".increment-second-column");this.secondIncrement=e(d[0]),this.secondIncrement2=e(d[1]),this.addHandler(this.secondIncrement,"mousedown",function(e){e.stopPropagation(),o._incrementMinuteSecond(o.secondInput)}),this.addHandler(this.secondIncrement2,"mousedown",function(e){e.stopPropagation(),o._incrementMinuteSecond(o.secondInput2)});var c=this.timePopupElement.find(".increment-millisecond-column");this.millisecondsIncrement=e(c[0]),this.millisecondsIncrement2=e(c[1]),this.addHandler(this.millisecondsIncrement,"mousedown",function(e){e.stopPropagation(),o._incrementMillisecond(o.mssecondInput)}),this.addHandler(this.millisecondsIncrement2,"mousedown",function(e){e.stopPropagation(),o._incrementMillisecond(o.mssecondInput2)});var u=this.timePopupElement.find(".increment-meridian-column");this.meridianIncrement=e(u[0]),this.meridianIncrement2=e(u[1]),this.addHandler(this.meridianIncrement,"mousedown",function(e){e.stopPropagation(),o._incrementMeridian(o.meridianInput)}),this.addHandler(this.meridianIncrement2,"mousedown",function(e){e.stopPropagation(),o._incrementMeridian(o.meridianInput2)});var f=this.timePopupElement.find(".decrement-hour-column");this.hourDecrement=e(f[0]),this.hourDecrement2=e(f[1]),this.addHandler(this.hourDecrement,"mousedown",function(e){e.stopPropagation(),o._decrementHour(o.hourInput)}),this.addHandler(this.hourDecrement2,"mousedown",function(e){e.stopPropagation(),o._decrementHour(o.hourInput2)});var p=this.timePopupElement.find(".decrement-minute-column");this.minuteDecrement=e(p[0]),this.minuteDecrement2=e(p[1]),this.addHandler(this.minuteDecrement,"mousedown",function(e){e.stopPropagation(),o._decrementMinuteSecond(o.minuteInput)}),this.addHandler(this.minuteDecrement2,"mousedown",function(e){e.stopPropagation(),o._decrementMinuteSecond(o.minuteInput2)});var m=this.timePopupElement.find(".decrement-second-column");this.secondDecrement=e(m[0]),this.secondDecrement2=e(m[1]),this.addHandler(this.secondDecrement,"mousedown",function(e){e.stopPropagation(),o._decrementMinuteSecond(o.secondInput)}),this.addHandler(this.secondDecrement2,"mousedown",function(e){e.stopPropagation(),o._decrementMinuteSecond(o.secondInput2)});var g=this.timePopupElement.find(".decrement-millisecond-column");this.millisecondsDecrement=e(g[0]),this.millisecondsDecrement2=e(g[1]),this.addHandler(this.millisecondsDecrement,"mousedown",function(e){e.stopPropagation(),o._decrementMillisecond(o.mssecondInput)}),this.addHandler(this.millisecondsDecrement2,"mousedown",function(e){e.stopPropagation(),o._decrementMillisecond(o.mssecondInput2)});var v=this.timePopupElement.find(".decrement-meridian-column");this.meridianDecrement=e(v[0]),this.meridianDecrement2=e(v[1]),this.addHandler(this.meridianDecrement,"mousedown",function(e){e.stopPropagation(),o._decrementMeridian(o.meridianInput)}),this.addHandler(this.meridianDecrement2,"mousedown",function(e){e.stopPropagation(),o._decrementMeridian(o.meridianInput2)});var x=this.timePopupElement.find("table");this.addHandler(this.timePopupElement,"mousedown",function(e){e.stopPropagation()});var y=function(t){var s=t.find("tr");-1==i.indexOf("ss")&&(o.secondInput.hide(),o.secondInput2.hide(),e(e(s[0]).children()[3]).hide(),e(e(s[0]).children()[4]).hide(),e(e(s[1]).children()[3]).hide(),e(e(s[1]).children()[4]).hide(),e(e(s[2]).children()[3]).hide(),e(e(s[2]).children()[4]).hide()),-1==i.indexOf("tt")&&-1==i.indexOf("hh")&&(o.meridianInput.hide(),o.meridianInput2.hide(),e(e(s[0]).children()[7]).hide(),e(e(s[0]).children()[8]).hide(),e(e(s[1]).children()[7]).hide(),e(e(s[1]).children()[8]).hide(),e(e(s[2]).children()[7]).hide(),e(e(s[2]).children()[8]).hide()),-1==i.indexOf("zz")&&(o.mssecondInput.hide(),o.mssecondInput2.hide(),e(e(s[0]).children()[5]).hide(),e(e(s[0]).children()[6]).hide(),e(e(s[1]).children()[5]).hide(),e(e(s[1]).children()[6]).hide(),e(e(s[2]).children()[5]).hide(),e(e(s[2]).children()[6]).hide())};1==x.length?y(x):(y(e(e(x)[1])),y(e(e(x)[2])))},updateTimePopup:function(){var e=this._getFormatValue(this.formatString);if("range"!=this.selectionMode){var t=this.getDate();if(this.hourInput){if(t)var i=t.getHours(),s=t.getMinutes(),r=t.getHours(),n=t.getSeconds(),a=t.getMilliseconds();else var i=0,s=0,r=0,n=0,a=0;i>=12?(r="PM",-1==e.indexOf("HH")&&0==(i-=12)&&(i=12)):r="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),i<10&&(i="0"+i),s<10&&(s="0"+s),n<10&&(n="0"+n),a<10&&(a="0"+a),this.hourInput.val(i),this.minuteInput.val(s),this.secondInput.val(n),this.mssecondInput.val(a),this.meridianInput.val(r)}}else{var t=this.getRange().from;if(this.hourInput){if(t)var i=t.getHours(),s=t.getMinutes(),r=t.getHours(),n=t.getSeconds(),a=t.getMilliseconds();else var i=0,s=0,r=0,n=0,a=0;i>=12?(r="PM",-1==e.indexOf("HH")&&0==(i-=12)&&(i=12)):r="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),i<10&&(i="0"+i),s<10&&(s="0"+s),n<10&&(n="0"+n),a<10&&(a="0"+a),this.hourInput.val(i),this.minuteInput.val(s),this.secondInput.val(n),this.mssecondInput.val(a),this.meridianInput.val(r)}var t=this.getRange().to;if(this.hourInput2){if(t)var i=t.getHours(),s=t.getMinutes(),r=t.getHours(),n=t.getSeconds(),a=t.getMilliseconds();else var i=0,s=0,r=0,n=0,a=0;i>=12?(r="PM",-1==e.indexOf("HH")&&0==(i-=12)&&(i=12)):r="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),i<10&&(i="0"+i),s<10&&(s="0"+s),n<10&&(n="0"+n),a<10&&(a="0"+a),this.hourInput2.val(i),this.minuteInput2.val(s),this.secondInput2.val(n),this.mssecondInput2.val(a),this.meridianInput2.val(r)}}},showCalendar:function(){var t=this.calendarContainer,i=this._calendar;if(e.jqx.aria(this,"aria-expanded",!0),this.showTimeButton)if(this.timePopup){this.timePopupElement||this.initTimePopup(),this.calendarContainer.css("visibility","hidden"),this.timeContainer.css("visibility","visible"),this.updateTimePopup();for(var s=this.timeContainer.find("input"),r=0,n=0;n<s.length;n++)"none"!=s[n].style.display&&(r+=50);this.container.width(parseInt(r)),this.touch||setTimeout(function(){s[0].focus(),e(s[0]).select()},150+this.openDelay)}else this.container.width(parseInt(this.calendarContainer.width())+25),this.timeContainer.css("visibility","hidden"),this.calendarContainer.css("visibility","visible");null!=this.value?"range"!=this.selectionMode?this._oldDT=new Date(this.value.dateTime):this._oldDT=this.getRange():this._oldDT=null,i.canRender||(i.canRender=!0,i.render());var a,o=(this.container,this),l=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),h=parseInt(Math.round(this.host.coord(!0).left));a=h+"px";var d=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();null!=d&&d&&(a=e.jqx.mobile.getLeftPos(this.element),l=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(l=parseInt(l)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(a=parseInt(a)-this._getBodyOffset().left+"px")),this.container.css("left",a),this.container.css("top",l);var c=this.closeCalendarAfterSelection;if(this.closeCalendarAfterSelection=!1,this.isEditing=!1,"default"==o.selectionMode){this._validateValue(),this._updateText();var u=null!=this.value?this.value.dateTime:new Date;i.setDate(u)}this.closeCalendarAfterSelection=c;var f=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var p=this.container.outerWidth(),m=Math.abs(p-this.host.outerWidth()+2);if(this.rtl||(m-=2),p>this.host.width()){this.container.css("left",23+parseInt(Math.round(h))-m+"px")}else this.container.css("left",25+parseInt(Math.round(h))+m+"px")}if("top"==this.dropDownVerticalAlignment){var g=t.height();this.timePopup&&this.timeContainer.css("top",this.container.height()-75),f=!0,t.css("top",23),t.addClass(this.toThemeProperty("jqx-popup-up"));var v=parseInt(this.host.outerHeight()),x=parseInt(l)-Math.abs(g+v+23);this.container.css("top",x)}if(this.enableBrowserBoundsDetection){var y=this.testOffset(t,{left:parseInt(this.container.css("left")),top:parseInt(l)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=y.top?(f=!0,t.css("top",23),t.addClass(this.toThemeProperty("jqx-popup-up"))):t.css("top",0),this.container.css("top",y.top),parseInt(this.container.css("left"))!=y.left&&this.container.css("left",y.left)}if(this._raiseEvent(7,t),"none"!=this.animationType){this.container.css("display","block");var w=parseInt(t.outerHeight());t.stop(),this.isanimating=!0,this.opening=!0,"fade"==this.animationType?(t.css("margin-top",0),t.css("opacity",0),t.animate({opacity:1},this.openDelay,function(){o.isanimating=!1,o.opening=!1,e.data(document.body,"openedJQXCalendar"+o.id,t),o.calendarContainer.focus()}),this.timePopup&&(this.timeContainer.css("margin-top",0),this.timeContainer.css("opacity",0),this.timeContainer.animate({opacity:1},this.openDelay,function(){o.isanimating=!1,o.opening=!1,e.data(document.body,"openedJQXCalendar"+o.id,t),o.timeContainer.focus()}))):(t.css("opacity",1),this.timePopup&&this.timeContainer.css("opacity",1),f?t.css("margin-top",w):t.css("margin-top",-w),this.timePopup&&(f?this.timeContainer.css("margin-top",w):this.timeContainer.css("margin-top",-w),this.timeContainer.animate({"margin-top":0},this.openDelay,function(){o.isanimating=!1,o.opening=!1,e.data(document.body,"openedJQXCalendar"+o.id,t),o.timeContainer.focus()})),t.animate({"margin-top":0},this.openDelay,function(){o.isanimating=!1,o.opening=!1,e.data(document.body,"openedJQXCalendar"+o.id,t),o.calendarContainer.focus()}))}else t.stop(),o.isanimating=!1,o.opening=!1,t.css("opacity",1),t.css("margin-top",0),this.container.css("display","block"),e.data(document.body,"openedJQXCalendar"+o.id,t),this.calendarContainer.focus(),this.timePopup&&(this.timeContainer.stop(),this.timeContainer.css("opacity",1),this.timeContainer.css("margin-top",0),this.timeContainer.focus());null==this.value&&this._calendar&&this._calendar._getSelectedCell()&&(this._calendar._getSelectedCell().isSelected=!1),this.timePopup?(this.timeButtonIcon.addClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.timeContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))):(this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))},hideCalendar:function(t,i){i&&(this.changeType=i);var s=this.calendarContainer,r=this.container,n=this;if(e.jqx.aria(this,"aria-expanded",!1),this.showTimeButton&&"hidden"!=this.timeContainer.css("visibility")&&"cancel"!=t)if("range"!=this.selectionMode&&this.hourInput){var a=this.getDate(),o=parseInt(this.hourInput.val()),l=parseInt(this.minuteInput.val()),h=parseInt(this.secondInput.val()),d=parseInt(this.mssecondInput.val()),c=this.meridianInput.val();isNaN(o)&&(o=0),isNaN(l)&&(l=0),isNaN(h)&&(h=0),isNaN(d)&&(d=0),"none"!=this.meridianInput.css("display")&&(c.toLowerCase().indexOf("p")>=0&&o<12&&(o+=12),c.toLowerCase().indexOf("a")>=0&&o>=12&&(o-=12)),a||(a=new Date),a.setHours(o,l,h,d),this.setDate(a)}else if(this.hourInput&&"selected"!=t){var u=this.getRange(),o=parseInt(this.hourInput.val()),l=parseInt(this.minuteInput.val()),h=parseInt(this.secondInput.val()),d=parseInt(this.mssecondInput.val()),c=this.meridianInput.val();isNaN(o)&&(o=0),isNaN(l)&&(l=0),isNaN(h)&&(h=0),isNaN(d)&&(d=0),"none"!=this.meridianInput.css("display")&&(c.toLowerCase().indexOf("p")>=0&&o<12&&(o+=12),c.toLowerCase().indexOf("a")>=0&&o>=12&&(o-=12));var f=u.from;f||(f=new Date),f.setHours(o,l,h,d);var o=parseInt(this.hourInput2.val()),l=parseInt(this.minuteInput2.val()),h=parseInt(this.secondInput2.val()),d=parseInt(this.mssecondInput2.val()),c=this.meridianInput2.val();""==l&&(l=0),""==h&&(h=0),""==d&&(d=0),"none"!=this.meridianInput2.css("display")&&(c.toLowerCase().indexOf("p")>=0&&o<12&&(o+=12),c.toLowerCase().indexOf("a")>=0&&o>=12&&(o-=12));var p=u.to;if(p||(p=new Date),p.setHours(o,l,h,d),p.valueOf()<f.valueOf())return!1;this.setRange(f,p)}else if("selected"==t)return;if(e.data(document.body,"openedJQXCalendar"+this.id,null),"none"!=this.animationType){var m=s.outerHeight();s.css("margin-top",0),this.showTimeButton&&this.timeContainer.css("margin-top",0),this.isanimating=!0;var g=-m;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(g=m),"fade"==this.animationType?s.animate({opacity:0},this.closeDelay,function(){r.css("display","none"),n.isanimating=!1}):s.animate({"margin-top":g},this.closeDelay,function(){r.css("display","none"),n.isanimating=!1}),this.showTimeButton&&("fade"==this.animationType?this.timeContainer.animate({opacity:0},this.closeDelay,function(){r.css("display","none"),n.isanimating=!1}):this.timeContainer.animate({"margin-top":g},this.closeDelay,function(){r.css("display","none"),n.isanimating=!1}))}else r.css("display","none");void 0!=t&&this._updateSelectedDate(t),this.timeButtonIcon.removeClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarButtonIcon.removeClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.timeContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.calendarContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent(8,s)},_updateSelectedDate:function(){var t=this.value;null==t&&(t=new e.jqx._jqxDateTimeInput.getDateTime(new Date),t._setHours(0),t._setMinutes(0),t._setSeconds(0),t._setMilliseconds(0));var i=t.hour,s=t.minute,r=t.second,n=t.millisecond;if("range"==this.selectionMode&&null==this._calendar.getRange().from)return void this.setDate(null);var a=new e.jqx._jqxDateTimeInput.getDateTime(this._calendar.value.dateTime);a._setHours(i),a._setMinutes(s),a._setSeconds(r),a._setMilliseconds(n);var o=this.setDate(a.dateTime);if("range"==this.selectionMode&&!o&&this._oldDT){var l=this.getRange(),h=(this._oldDT,!1),d=!1,c=this._oldDT.from,a=l.from;null!=a&&c&&a.getFullYear()==c.getFullYear()&&a.getMonth()==c.getMonth()&&a.getDate()==c.getDate()&&a.getHours()==c.getHours()&&a.getMinutes()==c.getMinutes()&&a.getSeconds()==c.getSeconds()&&(h=!0);var a=l.to;if(null!=a&&(c=this._oldDT.to)&&a.getFullYear()==c.getFullYear()&&a.getMonth()==c.getMonth()&&a.getDate()==c.getDate()&&a.getHours()==c.getHours()&&a.getMinutes()==c.getMinutes()&&a.getSeconds()==c.getSeconds()&&(d=!0),h&&d)return!0;this._raiseEvent(0,{}),this._raiseEvent(9,{})}},_closeOpenedCalendar:function(t){var i=e(t.target),s=e.data(document.body,"openedJQXCalendar"+t.data.me.id),r=!1;if(e.each(i.parents(),function(){if(this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-calendar"))return r=!0,!1;if(-1!=this.className.indexOf("jqx-date-time-input-popup"))return r=!0,!1;if(-1!=this.className.indexOf("jqx-input"))return!1}}),e(t.target).ischildof(t.data.me.host))return!0;if(null!=t.target&&("B"==t.target.tagName||"b"==t.target.tagName)){var n=t.data.me.host.coord(),a=t.data.me.host.width(),o=t.data.me.host.height(),l=parseInt(n.top),h=parseInt(n.left);if(l<=t.pageY&&t.pageY<=l+o&&h<=t.pageX&&t.pageX<=h+a)return!0}if(null!=s&&!r&&s.length>0){var d=s[0].id.toString(),c=d.toString().substring(13);e(document).find("#"+c);!1!==t.data.me.hideCalendar()&&e.data(document.body,"openedJQXCalendar"+t.data.me.id,null)}},_loadItems:function(){if(null!=this.value){this.items=new Array;var e=this._getFormatValue(this.formatString);this.items=this._parseFormatValue(e),this.editors=new Array;for(var t=0;t<this.items.length;t++){var i=this.items[t].getDateTimeEditorByItemType(this.value,this);this.editors[t]=i}}this._updateEditorsValue(),this._updateText()},_updateText:function(){var t=this,i="";if(0==t.items.length&&null!=t.value&&t._loadItems(),null!=t.value){t.items.length>=1&&(i=t.format(t.value,0,t.items.length));t.dateTimeInput.val()!=i&&t._raiseEvent(1,t.value)}if("range"==t.selectionMode){var s=t.getRange();if(fromText=t.format(t.value,0,t.items.length),s.to){var r=e.jqx._jqxDateTimeInput.getDateTime(s.from);fromText=t.format(r,0,t.items.length);var n=e.jqx._jqxDateTimeInput.getDateTime(s.to);toText=t.format(n,0,t.items.length);var i=fromText+" - "+toText;" - "==i&&(i="")}else i=""}t.dateTimeInput.val(i)},format:function(e,t,i){for(var s="",r=t;r<i;++r){var n=this.items[r].dateParser(e,this);if(this.isEditing&&"ReadOnly"!=this.items[r].type&&"range"!=this.selectionMode){var a="Day"==this.items[r].type&&this.items[r].format.length>2;if("FORMAT_AMPM"==this.items[r].type&&(a=!0,n=0==this.editors[r].value?this.editors[r].amString:this.editors[r].pmString),!a)for(n=this.items[r].dateParserInEditMode(new Number(this.editors[r].value),"d"+this.editors[r].maxEditPositions,this);n.length<this.editors[r].maxEditPositions;)n="0"+n}s+=n}return s},_getFormatValueGroupLength:function(e){for(i=1;i<e.toString().length;++i)if(e.substring(i,i+1)!=e.substring(0,1))return i;return e.length},_parseFormatValue:function(t){for(var i=new Array,s=t.toString(),r=0;s.length>0;){var n=this._getFormatValueGroupLength(s),a=null;switch(s.substring(0,1)){case":":case"/":n=1,a=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,1),"ReadOnly",this.culture);break;case'"':case"'":var o=s.indexOf(s[0],1);a=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(1,1+Math.max(1,o-1)),"ReadOnly",this.culture),n=Math.max(1,o+1);break;case"\\":s.length>=2&&(a=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(1,1),"ReadOnly",this.culture),n=2);break;case"d":case"D":a=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"Day",this.culture);break;case"f":case"F":n>7&&(n=7),a=n>3?e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"ReadOnly",this.culture):e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"Millisecond",this.culture);break;case"g":a=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"ReadOnly",this.culture);break;case"h":a=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"FORMAT_hh",this.culture);break;case"H":a=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"FORMAT_HH",this.culture);break;case"m":a=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"Minute",this.culture);break;case"M":n>4&&(n=4),a=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"Month",this.culture);break;case"s":case"S":a=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"Second",this.culture);break;case"t":case"T":a=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"FORMAT_AMPM",this.culture);break;case"y":case"Y":n>1?a=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"Year",this.culture):(n=1,a=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,1),dateTimeFormatInfo,"ReadOnly",this.culture));break;case"z":a=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,n),"ReadOnly",this.culture);break;default:n=1,a=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,1),"ReadOnly",this.culture)}i[r]=e.extend(!0,{},a),s=s.substring(n),r++}return i},_getFormatValue:function(e){if(null!=e&&0!=e.length||(e="d"),1==e.length)switch(e.substring(0,1)){case"d":return this.localization.calendar.patterns.d;case"D":return this.localization.calendar.patterns.D;case"t":return this.localization.calendar.patterns.t;case"T":return this.localization.calendar.patterns.T;case"f":return this.localization.calendar.patterns.f;case"F":return this.localization.calendar.patterns.F;case"M":return this.localization.calendar.patterns.M;case"Y":return this.localization.calendar.patterns.Y;case"S":return this.localization.calendar.patterns.S}return 2==e.length&&"%"==e.substring(0,1)&&(e=e.substring(1)),e},_updateEditorsValue:function(){var e=this.value;if(null!=e){var t=e.year,i=e.day,s=e.hour,r=e.millisecond,n=e.second,a=e.minute,o=e.month;if(null!=this.items)for(var l=0;l<this.items.length;l++)switch(this.items[l].type){case"FORMAT_AMPM":var h=s%12;0==h&&(h=12),this.editors[l].value=s>=0&&s<12?0:1;break;case"Day":this.editors[l].value=i;break;case"FORMAT_hh":var h=s%12;0==h&&(h=12),this.editors[l].value=h;break;case"FORMAT_HH":this.editors[l].value=s;break;case"Millisecond":this.editors[l].value=r;break;case"Minute":this.editors[l].value=a;break;case"Month":this.editors[l].value=o;break;case"Second":this.editors[l].value=n;break;case"Year":this.editors[l].value=t}}},updateValue:function(t){if(!(this.isEditing||this.items&&0==this.items.length)){for(var i=1,s=1,r=0,n=0,a=0,o=0,l=1,h=!1,d=!1,c=!1,u=!1,f=!1,p=!1,m=!1,g=new Array,v=null,x=0,y=0;y<this.items.length;y++)switch(this.items[y].type){case"FORMAT_AMPM":this.editors[y].value,v=this.editors[y];break;case"Character":break;case"Day":this.items[y].format.length<3&&(s=this.editors[y].value,g[x++]=this.editors[y],0==s&&(s=1),c=!0);break;case"FORMAT_hh":r=this.editors[y].value,u=!0;break;case"FORMAT_HH":r=this.editors[y].value,u=!0;break;case"Millisecond":n=this.editors[y].value,m=!0;break;case"Minute":o=this.editors[y].value,f=!0;break;case"Month":l=this.editors[y].value,d=!0,0==l&&(l=1);break;case"ReadOnly":break;case"Second":a=this.editors[y].value,p=!0;break;case"Year":h=!0,i=this.editors[y].value;if(this.editors[y].getDateTimeItem().format.length<3){var w="1900";if(4==w.Length){var b,_=""+w[0]+w[1];b=parseInt(_),i+=100*b}}0==i&&(i=1)}var T=null!=this.value?new Date(this.value.dateTime):null;if(i>0&&l>0&&s>0&&o>=0&&r>=0&&a>=0&&n>=0){var j=this.value;null!=j&&(h||(i=j.year),d||(l=j.month),c||(s=j.day));try{if(l>12&&(l=12),l<1&&(l=1),t&&j._daysInMonth(i,l)<=s&&(s=j._daysInMonth(i,l),null!=g&&g.length>0))for(y=0;y<g.length;y++)g[y].value=s;null!=v&&(0==v.value?r>=12&&(r-=12):r+12<24&&(r+=12));this.value.dateTime.getDate();this.value._setYear(parseInt(i)),this.value._setDay(s),this.value._setMonth(l),u&&this.value._setHours(r),f&&this.value._setMinutes(o),p&&this.value._setSeconds(a),m&&this.value._setMilliseconds(n),this._validateTimeRange()}catch(e){this.value=j}if(null!=T){if(!(this.value.dateTime.getFullYear()==T.getFullYear()&&this.value.dateTime.getDate()==T.getDate()&&this.value.dateTime.getMonth()==T.getMonth()&&this.value.dateTime.getHours()==T.getHours()&&this.value.dateTime.getMinutes()==T.getMinutes()&&this.value.dateTime.getSeconds()==T.getSeconds())){if(this.changing){var C=this.changing(T,this.value.dateTime);C&&(this.value=e.jqx._jqxDateTimeInput.getDateTime(C))}this._raiseEvent("0",this.value.dateTime),this.cookies&&null!=this.value&&e.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this.change&&this.change(this.value.dateTime)}}}var S=this.editors.indexOf(this.activeEditor);this.items[S];this.value&&(this.calendarContainer.jqxCalendar("_isDisabled",this.value.dateTime)?this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-invalid")):this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-invalid")))}},_internalSetValue:function(e){this.value._setYear(parseInt(e.year)),this.value._setDay(e.day),this.value._setMonth(e.month),this.value._setHours(e.hour),this.value._setMinutes(e.minute),this.value._setSeconds(e.second),this.value._setMilliseconds(e.milisecond)},_raiseEvent:function(t,i,s){var r=this.events[t],n={};n.owner=this,null==i&&(i={}),null==s&&(s=i);var a=i.charCode?i.charCode:i.keyCode?i.keyCode:0,o=!0,l=this.readonly,h=new e.Event(r);if(h.owner=this,h.args=n,h.args.date=this.getDate(),9==t&&(h.args.type=this.changeType,this.changeType=null),this.element.value=this.dateTimeInput.val(),9==t&&"range"!=this.selectionMode){var d=h.args.date;if(this._oldDT){if(null!=d&&d.getFullYear()==this._oldDT.getFullYear()&&d.getMonth()==this._oldDT.getMonth()&&d.getDate()==this._oldDT.getDate()&&d.getHours()==this._oldDT.getHours()&&d.getMinutes()==this._oldDT.getMinutes()&&d.getSeconds()==this._oldDT.getSeconds())return!0;e.jqx.aria(this,"aria-valuenow",this.getDate()),e.jqx.aria(this,"aria-valuetext",this.getText()),null!=this.getDate()?e.jqx.aria(this,"aria-label","Current focused date is "+this.getDate().toLocaleString()):e.jqx.aria(this,"aria-label","Current focused date is Null")}h.args.oldValue=s,h.args.newValue=h.args.date,this._oldDT&&(h.args.oldValue=this._oldDT)}if("range"==this.selectionMode){if(h.args.date=this.getRange(),this._oldDT){var d=h.args.date.from;if(9==t){var c=!1,u=!1,f=this._oldDT.from;null!=d&&f&&d.getFullYear()==f.getFullYear()&&d.getMonth()==f.getMonth()&&d.getDate()==f.getDate()&&d.getHours()==f.getHours()&&d.getMinutes()==f.getMinutes()&&d.getSeconds()==f.getSeconds()&&(c=!0);var d=h.args.date.to;if(null!=d&&(f=this._oldDT.to)&&d.getFullYear()==f.getFullYear()&&d.getMonth()==f.getMonth()&&d.getDate()==f.getDate()&&d.getHours()==f.getHours()&&d.getMinutes()==f.getMinutes()&&d.getSeconds()==f.getSeconds()&&(u=!0),c&&u)return!0;var c=h.args.date.from;c=null==c?"":c.toString();var u=h.args.date.to;u=null==u?"":u.toString(),e.jqx.aria(this,"aria-valuenow",c+"-"+u),e.jqx.aria(this,"aria-valuetext",this.getText()),c&&u&&e.jqx.aria(this,"aria-label","Current focused range is "+c.toLocaleString()+"-"+u.toLocaleString())}}h.args.oldValue=s,h.args.newValue=h.args.date,this._oldDT&&(h.args.oldValue=this._oldDT)}if("none"==this.host.css("display"))return!0;2!=t&&3!=t&&4!=t&&5!=t&&6!=t&&(o=this.host.trigger(h),h.stopPropagation&&h.stopPropagation());var p=this;if(l||2!=t||this.disabled||setTimeout(function(){p.isEditing=!0,this.selectionMode,p._selectGroup(-1)},25),4==t){if(l||this.disabled){if(8!=a&&46!=a||(this.isEditing=!1,this.allowKeyboardDelete&&(this.allowNullDate?this.setDate(null):"range"!=this.selectionMode?this.setDate(this.getMinDate()):this.setRange(this.getMinDate(),this.getMinDate()))),9==a)return!0;if(!i.altKey)return!1}o=this._handleKeyDown(i,a)}else if(5==t){if(9==a)return!0;if(l||this.disabled)return!1}else if(6==t){if(9==a)return!0;if(l||this.disabled)return!1;o=this._handleKeyPress(i,a)}return o},_doLeftKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var e=this.activeEditor,t=!1,i=this.editors.indexOf(this.activeEditor),s=i;if(this.enableAbsoluteSelection&&i>=0&&this.activeEditor.positions>0)return this.activeEditor.positions--,void this._selectGroup(i);for(;i>0;)if(this.activeEditor=this.editors[--i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){t=!0;break}return t||s>=0&&(this.activeEditor=this.editors[s]),null!=this.activeEditor&&e!=this.activeEditor&&"ReadOnly"!=this.items[i].type&&(this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0),this.activeEditor!=e&&(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0)}},_doRightKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var e=this.activeEditor,t=!1,i=this.editors.indexOf(this.activeEditor),s=i;if(this.enableAbsoluteSelection&&i>=0&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1)return this.activeEditor.positions++,void this._selectGroup(i);for(;i<=this.editors.length-2;)if(this.activeEditor=this.editors[++i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){if("Day"==this.items[i].type&&this.items[i].format.length>2)break;t=!0;break}return t||s>=0&&(this.activeEditor=this.editors[s]),null!=this.activeEditor&&this.activeEditor!=e&&"ReadOnly"!=this.items[i].type&&(this.activeEditor.positions=0),this.activeEditor!=e&&(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0)}},_saveSelectedText:function(){var e=this._selection(),t="",s=this.dateTimeInput.val();if(e.start>0||e.length>0)for(i=e.start;i<e.end;i++)t+=s[i];return window.clipboardData&&window.clipboardData.setData("Text",t),t},_selectWithAdvancePattern:function(){var e=this.editors.indexOf(this.activeEditor),t=!1;if("ReadOnly"!=this.items[e].type&&(t=!0),t){var i=this.activeEditor;if(null!=i){if(i.positions==i.maxEditPositions){this.editorText="";var s=i.value,r=!1
;switch(this.items[e].type){case"FORMAT_AMPM":s<0?s=0:s>1&&(s=1);break;case"Character":break;case"Day":s<1?s=1:s>31&&(s=31);break;case"FORMAT_hh":s<1?s=1:s>12&&(s=12);break;case"FORMAT_HH":s<0?s=0:s>23&&(s=23);break;case"Millisecond":s<0?s=0:s>99&&(s=99);break;case"Minute":s<0?s=0:s>59&&(s=59);break;case"Month":s<1?s=1:s>12&&(s=12);break;case"ReadOnly":break;case"Second":s<0?s=0:s>59&&(s=59);break;case"Year":s<this.minDate.year?s=this.minDate.year:s>this.maxDate.year&&(s=this.maxDate.year)}return i.value!=s&&(r=!0),!r&&(this.isEditing=!1,this._validateValue(),this._updateText(),this.isEditing=!0,this._doRightKey(),!0)}}}},_handleKeyPress:function(e,t){var i=this._selection(),s=this,r=e.ctrlKey||e.metaKey;if(r&&97==t||r&&65==t)return!0;if(8==t)return i.start>0&&s._setSelectionStart(i.start),!1;if(46==t)return i.start<this.items.length&&s._setSelectionStart(i.start),!1;if(i.start>=0){this.changeType="keyboard";var n=String.fromCharCode(t),a=parseInt(n);if("p"!=n&&"a"!=n&&"A"!=n&&"P"!=n||"FORMAT_AMPM"==this.activeEditor.item.type&&(0!=this.activeEditor.value||"p"!=n&&"P"!=n?1!=this.activeEditor.value||"a"!=n&&"A"!=n||this.spinDown():this.spinUp()),!isNaN(a)){"block"==this.container.css("display")&&this.hideCalendar(),this.updateValue(),this._updateText();var o=this.editors.indexOf(this.activeEditor),l=null;if(this.isEditing=!0,"ReadOnly"!=o.type&&(l=this.activeEditor),null!=l&&0==l.positions&&(this.editorText=""),null==this.activeEditor&&(this.activeEditor=this.editors[0]),null==this.activeEditor)return!1;this.activeEditor.insert(n),null!=l&&this.editorText.length>=l.maxEditPositions&&(this.editorText=""),this.editorText+=n;var h=this._selectWithAdvancePattern();if(this.activeEditor.positions==this.activeEditor.maxEditPositions){var d=this._getLastEditableEditorIndex();this.editors.indexOf(this.activeEditor)==d&&h&&this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0}return!0,this.updateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!1}}return this._isSpecialKey(t)},_getLastEditableEditorIndex:function(){for(itemIndex=this.items.length-1;itemIndex>=0;itemIndex--)if("ReadOnly"!=this.items[itemIndex].type)return itemIndex;return-1},_handleKeyDown:function(t,i){var s=this;if(this.timePopup=!1,84==i&&(this.timePopup=!0),115==t.keyCode){if(s.isOpened())return s.hideCalendar("keyboard","keyboard"),!1;if(!s.isOpened())return s.showCalendar("keyboard","keyboard"),!1}if(t.altKey){if(38==t.keyCode){if(s.isOpened())return s.hideCalendar("keyboard","keyboard"),!1}else if(40==t.keyCode&&!s.isOpened())return s.showCalendar("keyboard","keyboard"),!1}else if(t.ctrlKey)if(this.timePopup=!0,38==t.keyCode){if(s.isOpened())return s.hideCalendar("keyboard","keyboard"),!1}else if(40==t.keyCode&&!s.isOpened())return s.showCalendar("keyboard","keyboard"),!1;if(!s.isOpened()){var r=(s._selection(),t.ctrlKey||t.metaKey);if(r&&99==i||r&&67==i)return s._saveSelectedText(t),!0;if(r&&122==i||r&&90==i)return!1;if(r&&118==i||r&&86==i||t.shiftKey&&45==i){var n=(s.val(),this),a=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');return e("body").append(a),a.select(),setTimeout(function(){var e=a.val();n.setDate(e),a.remove()},100),!0}if(8==i||46==i){if(t.altKey||r||46!=i){if(null!=s.activeEditor){var o=s.editors.indexOf(s.activeEditor);if(s.activeEditor.positions>=0){var l=s._format(Number(s.activeEditor.value),"d"+s.activeEditor.maxEditPositions,s.culture);if(tmp=l,tmp=tmp.substring(0,s.activeEditor.positions)+"0"+tmp.substring(s.activeEditor.positions+1),parseInt(tmp)<s.activeEditor.minValue&&(tmp=s._format(Number(s.activeEditor.minValue),"d"+s.activeEditor.maxEditPositions,s.culture)),s.enableAbsoluteSelection?s.activeEditor.value=tmp:s.activeEditor.value=s.activeEditor.minValue,s._validateValue(),s._updateText(),s.changeType="keyboard",8==i){var h=this;s.enableAbsoluteSelection&&s.activeEditor.positions>0?setTimeout(function(){h.activeEditor.positions=h.activeEditor.positions-1,h._selectGroup(o)},10):setTimeout(function(){h._doLeftKey()},10)}else s._selectGroup(o)}else s._doLeftKey()}}else s.isEditing=!1,s.allowKeyboardDelete&&(s.changeType="keyboard",s.allowNullDate?s.setDate(null):"range"!=s.selectionMode?s.setDate(s.getMinDate()):s.setRange(s.getMinDate(),s.getMinDate()));return!1}if(38==i)return this.spinUp(),s.changeType="keyboard",!1;if(40==i)return this.spinDown(),s.changeType="keyboard",!1;if(9==i){if(null==s.value)return!0;if(t.shiftKey)var d=this._doLeftKey();else var d=this._doRightKey();return!d}if(37==i){if(this._editor){var d=this._doLeftKey();return d||(this.isEditing=!1,this._validateValue()),!d}var d=this._doLeftKey();return!1}if(39==i||191==i){if(this._editor){var d=this._doRightKey();return d||(this.isEditing=!1,this._validateValue()),!d}var d=this._doRightKey();return!1}var c=this._isSpecialKey(i);return null==this.value&&(i>=48&&i<=57||i>=96&&i<=105)&&(s.changeType="keyboard",new Date>=this.getMinDate()&&new Date<=this.getMaxDate()?this.setDate(new Date):this.setDate(this.getMaxDate())),!e.jqx.browser.mozilla||(!!(e.jqx.browser.mozilla&&e.jqx.browser.version>24)||c)}if(9==t.keyCode)return s.hideCalendar("selected","keyboard"),!0},_isSpecialKey:function(e){return 8==e||9==e||13==e||35==e||36==e||37==e||39==e||27==e||46==e},_selection:function(){if("selectionStart"in this.dateTimeInput[0]){var e=this.dateTimeInput[0],t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:e.value.length,length:0};var s=this.dateTimeInput[0].createTextRange(),r=s.duplicate();s.moveToBookmark(i.getBookmark()),r.setEndPoint("EndToStart",s);var t=i.text.length;return{start:r.text.length,end:r.text.length+i.text.length,length:t,text:i.text}},_selectGroup:function(e,t){if("none"!=this.host.css("display")&&!this.readonly){if(!t)var t=this._selection();for(var i="",s="",r=null,n=0;n<this.items.length;n++){if(s=this.items[n].dateParser(this.value,this),this.isEditing&&"ReadOnly"!=this.items[n].type){if(!("Day"==this.items[n].type&&this.items[n].format.length>2)&&"FORMAT_AMPM"!=this.items[n].type)for(s=this.items[n].dateParserInEditMode(new Number(this.editors[n].value),"d"+this.editors[n].maxEditPositions,this);s.length<this.editors[n].maxEditPositions;)s="0"+s}if(i+=s,"ReadOnly"!=this.items[n].type&&!("Day"==this.items[n].type&&this.items[n].format.length>2))if(void 0!=e&&-1!=e){if(n>=e){var a=i.length-s.length,o=s.length;this.enableAbsoluteSelection&&!isNaN(parseInt(s))&&this.isEditing&&-1!=e&&(o=1,a+=this.editors[n].positions),a==this.dateTimeInput.val().length&&a--,this._setSelection(a,a+o),r=this.editors[n],this.activeEditor=r;break}}else if(i.length>=t.start){r=this.editors[n],this.activeEditor=r;var a=i.length-s.length,o=1;this.enableAbsoluteSelection?!isNaN(parseInt(s))&&this.isEditing&&-1!=e&&(o=1,a+=this.editors[n].positions):o=s.length,this._setSelection(a,a+o);break}}n<this.items.length&&-1==e&&"ReadOnly"!=this.items[n].type&&(this.activeEditor.positions=0);var l=this._selection();if(0==l.length&&l.start>0){this._getLastEditableEditorIndex()}}},_getLastEditableEditorIndex:function(){var e=-1;for(i=0;i<this.editors.length;i++)"ReadOnly"!=this.items[i].type&&("Day"==this.items[i].type&&this.items[i].format.length>2||(e=i));return e},_setSelection:function(e,t){try{if("selectionStart"in this.dateTimeInput[0])this.dateTimeInput[0].setSelectionRange(e,t);else{var i=this.dateTimeInput[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}catch(e){}},_setSelectionStart:function(e){this._setSelection(e,e)},destroy:function(){this.host.removeClass("jqx-rc-all"),this.timePopupElement&&this.timePopupElement.remove(),this._calendar.destroy(),this.container.remove(),this._removeHandlers(),this.dateTimeInput.remove(),this.host.remove()},refreshValue:function(){this._refreshValue()},refresh:function(e){1!=e&&(this._setSize(),this._arrange())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_setOption:function(e,t,i){"value"===e&&(this.selectionMode,this._oldDT=null,this.value=t,this._refreshValue(),this._raiseEvent(9,{type:null})),"maxDate"==e&&(this._calendar.maxDate=t,this._raiseEvent(9,{type:null})),"minDate"==e&&(this._calendar.minDate=t,this._raiseEvent(9,{type:null})),"showCalendarButton"==e&&(t?this.calendarButton.css("display","block"):this.calendarButton.css("display","none")),"disabled"==e&&this.dateTimeInput.attr("disabled",t),"readonly"==e&&(this.readonly=t,this.dateTimeInput.css("readonly",t)),"textAlign"==e&&(this.dateTimeInput.css("text-align",t),this.textAlign=t),"width"==e?(this.width=t,this.width=parseInt(this.width),this._arrange()):"height"==e&&(this.height=t,this.height=parseInt(this.height),this._arrange())},_refreshValue:function(){this._updateEditorsValue(),this.updateValue(),this._validateValue(),this._updateText()}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.DateTimeFormatItem={},e.extend(e.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(e,t,i){return this.format=e,this.type=t,this.culture=i,this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},dateParser:function(e,t){return null==e?"":t._format(e.dateTime,1==this.format.length?"%"+this.format:this.format,this.culture)},dateParserInEditMode:function(e,t,i){return null==e?"":i._format(e.toString(),1==t.length?"%"+t:t,this.culture)},getDateTimeEditorByItemType:function(t,i){switch(this.type){case"FORMAT_AMPM":var s=e.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,t.hour/12,i.localization.calendar.AM[0],i.localization.calendar.PM[0],this,i),r=e.extend({},s);return r;case"Character":return null;case"Day":var n,a=t.year,o=t.month;n=3==this.format.length?i.localization.calendar.days.namesAbbr:this.format.length>3?i.localization.calendar.days.names:null;t.day;null!=n&&t.dayOfWeek+1;var l=e.jqx._jqxDateTimeInput.DateEditor._createDayEditor(t,t.day,1,t._daysInMonth(a,o),1==this.format.length?1:2,2,n,this,i),r=e.extend({},l);return r;case"FORMAT_hh":var h=t.hour%12;0==h&&(h=12);var d=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(h,1,12,1==this.format.length?1:2,2,this,i),r=e.extend({},d);return r;case"FORMAT_HH":var c=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.hour,0,23,1==this.format.length?1:2,2,this,i),r=e.extend({},c);return r;case"Millisecond":var u=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this,i),r=e.extend({},u);return r;case"Minute":var f=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.minute,0,59,1==this.format.length?1:2,2,this,i),r=e.extend({},f);return r;case"Month":var p;p=3==this.format.length?i.localization.calendar.months.namesAbbr:this.format.length>3?i.localization.calendar.months.names:null;var m=e.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(t.month,2==this.format.length?2:1,p,this,i),r=e.extend({},m);return r;case"ReadOnly":return e.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,t.day,this,i);case"Second":var g=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.second,0,59,1==this.format.length?1:2,2,this,i),r=e.extend({},g);return r;case"Year":var v=e.jqx._jqxDateTimeInput.DateEditor._createYearEditor(t.year,4,this,i),r=e.extend({},v);return r}return null}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.DateEditor=e.extend(e.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:!1,handleDays:!1,handleMonths:!1,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},initializeFields:function(e,t,i,s,r){this.minValue=e,this.maxValue=t,this.minEditPositions=i,this.maxEditPositions=s,this.updateActiveEditor(e),this.item=r},_createYearEditor:function(t,i,s,r){return e.jqx._jqxDateTimeInput.DateEditor=e.extend(!0,{},this),this.initializeFields(0,i<4?99:9999,2==i?2:1,i>3?4:2,s),this.initializeYearEditor(t,i,s.culture),this.handleYears=!0,this.that=r,this},initializeYearEditor:function(e,t,i){this.formatValueLength=t,this.dateTimeFormatInfo=i;var s=e;s=Math.min(s,9999),s=Math.max(s,1),s=this.formatValueLength<4?s%100:s,this.updateActiveEditor(s),this.value=s},updateActiveEditor:function(e){this.value=e,this.positions=0},_createDayEditor:function(t,i,s,r,n,a,o,l,h){return e.jqx._jqxDateTimeInput.DateEditor=e.extend(!0,{},this),this.initializeFields(s,r,1,a,l),this.currentValue=t,this.value=i,this.days=o,this.handleDays=!0,this.that=h,this},getDayOfWeek:function(t){return typeof this.currentValue==e.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),t},defaultTextValue:function(){var e=(this.value,this.minEditPositions),t=e;return this.that._format(this.value,"d"+t,"")},textValue:function(){if(this.handleDays){if(null==this.days)return this.defaultTextValue();var e=this.value%7+1;return e=this.getDayOfWeek(e),this.days[e]}return this.handleMonths?null==this.dateTimeMonths||this.value<1||this.value>12?this.defaultTextValue():this.dateTimeMonths[this.value-1]:this.defaultTextValue()},defaultInsertString:function(e){if(null==e)return this.deleteValue();if(0==e.length)return this.deleteValue();var t=e.substring(0,1);if(!isNaN(t)){var i;return i=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),this.positions>=this.maxEditPositions&&(this.positions=0),i=i.substring(0,this.positions)+t+i.substring(this.positions+1),i=this.setValueByString(i,1),!0}},setValueByString:function(e,t){e=this.fixValueString(e);var i=new Number(e);return this.value=i,this.positions+=t,e},fixValueString:function(e){return e.length>this.maxEditPositions&&(e=e.substring(e.length-this.maxEditPositions)),e},initializeValueString:function(e){var t;return t="",this.hasDigits()&&(t=e),t},deleteValue:function(){return(this.value!=this.minValue||0!=this.hasDigits())&&(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},insert:function(e){if(this.handleDays){if(null!=this.days){var t=!1;if(t=this.insertLongString(e,t))return t;if(t=this.insertShortString(e,t))return t}return 1==this.value&&null!=this.lastDayInput&&this.lastDayInput.toString().length>0&&"0"==this.lastDayInput.toString()&&(this.value=0),this.lastDayInput=e,this.defaultInsertString(e)}if(this.handleMonths&&null!=this.dateTimeMonths){var t=!1;if(t=this.insertLongString2(e,t))return t;if(t=this.insertShortString2(e,t))return t}return this.defaultInsertString(e)},insertShortString:function(e,t){if(1==e.length)for(i=0;i<6;++i){var s=(this.value+i)%7+1,r=this.days[s-1];if(r.substring(0,1)==e)return this.updateActiveEditor(s),t=!0}return t},insertLongString:function(e,t){if(e.length>0)for(i=0;i<6;++i){var s=(this.value+i)%7+1;if(this.days[s-1]==e)return this.updateActiveEditor(s),t=!0}return t},_createMonthEditor:function(t,i,s,r,n){return e.jqx._jqxDateTimeInput.DateEditor=e.extend(!0,{},this),this.initializeFields(1,12,i,2,r),this.dateTimeMonths=s,this.value=t,null!=this.dateTimeMonths&&null!=this.dateTimeMonths[12]&&this.dateTimeMonths[12].length>0&&(this.dateTimeMonths=null),this.handleMonths=!0,this.that=n,this},insertLongString2:function(e,t){if(e.length>0)for(i=0;i<11;++i)if(month=(this.value+i)%12+1,this.dateTimeMonths[month-1]==e)return this.updateActiveEditor(month),t=!0;return t},insertShortString2:function(e,t){if(1==e.length)for(i=0;i<11;++i){var s=(this.value+i)%12+1,r=this.dateTimeMonths[s-1];if(r.substring(0,1)==e)return this.updateActiveEditor(s),t=!0}return t},correctMaximumValue:function(e){return e>this.maxValue&&(e=this.minValue),e},correctMinimumValue:function(e){return e<this.minValue&&(e=this.maxValue),e},increaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(i=parseInt(i)+1,i>9&&(i=0),!e){var s=this.value+1;return s=this.correctMaximumValue(s),this.updateActiveEditor(s),!0}var r=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(r==this.value&&!this.hasDigits())&&(this.updateActiveEditor(r),!0)},decreaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(i=parseInt(i)-1,i<0&&(i=9),!e){var s=this.value-1;return s=this.correctMinimumValue(s),this.updateActiveEditor(s),!0}var r=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(r==this.value&&!this.hasDigits())&&(this.updateActiveEditor(r),!0)},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.NumberEditor={},e.extend(e.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},_createNumberEditor:function(t,i,s,r,n,a,o){return e.jqx._jqxDateTimeInput.NumberEditor=e.extend(!0,{},this),this.initializeFields(i,s,r,n,a),this.that=o,this},initializeFields:function(e,t,i,s,r){this.minValue=e,this.maxValue=t,this.minEditPositions=i,this.maxEditPositions=s,this.updateActiveEditor(e),this.item=r},updateActiveEditor:function(e){this.value=e,this.positions=0},getDayOfWeek:function(t){return typeof this.currentValue==e.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),t},textValue:function(){var e=(this.value,this.minEditPositions),t=e;return this.that._format(this.value,"d"+t,"")},insert:function(e){if(null==e)return this.deleteValue();if(0==e.length)return this.deleteValue();var t=e.substring(0,1);if(!isNaN(t)){var i;return i=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),this.positions>=this.maxEditPositions&&(this.positions=0),i=i.substring(0,this.positions)+t+i.substring(this.positions+1),i=this.setValueByString(i,1),!0}},setValueByString:function(e,t){e=this.fixValueString(e);var i=new Number(e);return this.value=i,this.positions+=t,e},fixValueString:function(e){return e.length>this.maxEditPositions&&(e=e.substring(e.length-this.maxEditPositions)),e},initializeValueString:function(e){var t;return t="",this.hasDigits()&&(t=e),t},deleteValue:function(){return(this.value!=this.minValue||0!=this.hasDigits())&&(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},correctMaximumValue:function(e){return e>this.maxValue&&(e=this.minValue),e},correctMinimumValue:function(e){return e<this.minValue&&(e=this.maxValue),e},increaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(i=parseInt(i)+1,i>9&&(i=0),!e){var s=this.value+1;return s=this.correctMaximumValue(s),this.updateActiveEditor(s),!0}var r=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(r==this.value&&!this.hasDigits())&&(this.updateActiveEditor(r),!0)},decreaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(i=parseInt(i)-1,i<0&&(i=9),!e){var s=this.value-1;return s=this.correctMinimumValue(s),this.updateActiveEditor(s),!0}var r=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(r==this.value&&!this.hasDigits())&&(this.updateActiveEditor(r),!0)},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.DisabledEditor={},e.extend(e.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(e,t,i,s,r,n){return this.format=e,this.value=-1,this.item=r,this.that=n,this},textValue:function(){return""},insert:function(e){return!1},deleteValue:function(){return!1},increaseValue:function(){return!1},decreaseValue:function(){return!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.AmPmEditor={},e.extend(e.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(e,t,i,s,r,n){return this.format=e,this.value=t,this.amString=i,this.pmString=s,this.item=r,this.that=n,i==s&&(this.amString="<"+i,this.pmString=">"+s),this},textValue:function(){var e=this.amString;return 0!=this.value&&(e=this.pmString),1==this.format.length&&e.length>1&&(e=e.substring(0,1)),e},insert:function(e){var t=e.toString();if(0==t.Length)return this.deleteValue();var i=!1;if(this.amString.Length>0&&this.pmString.Length>0){var s=amString[0],r=t[0],n=pmString[0];s.toString()==r.toString()?(this.value=0,i=!0):n.toString()==r.toString()&&(this.value=1,i=!0)}else this.pmString.Length>0?(this.value=1,i=!0):this.amString.Length>0&&(this.value=0,i=!0);return i},deleteValue:function(){if(0==this.amString.Length&&0!=this.pmString.Length){if(0==this.value)return!1;this.value=0}else{if(1==this.value)return!1;this.value=1}return!0},increaseValue:function(){return this.value=1-this.value,!0},decreaseValue:function(){return this.increaseValue(),!0},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.getDateTime=function(e){return{dateTime:new Date(e),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976e9,millisPerDay:864e5,millisPerHour:36e5,millisPerMinute:6e4,millisPerSecond:1e3,minTicks:0,minValue:0,ticksPerDay:864e9,ticksPerHour:36e9,ticksPerMillisecond:1e4,ticksPerMinute:6e8,ticksPerSecond:1e7,hour:e.getHours(),minute:e.getMinutes(),day:e.getDate(),second:e.getSeconds(),month:1+e.getMonth(),year:e.getFullYear(),millisecond:e.getMilliseconds(),dayOfWeek:e.getDay(),isWeekend:function(e){return void 0!=e&&null!=e||(e=this.dateTime),e.getDay()%6==0},dayOfYear:function(e){void 0!=e&&null!=e||(e=this.dateTime);var t=new Date(e.getFullYear(),0,1);return Math.ceil((e-t)/864e5)},_setDay:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setDate(e),this.day=this.dateTime.getDate()},_setMonth:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setMonth(e-1),this.month=1+this.dateTime.getMonth()},_setYear:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setFullYear(e),this.year=this.dateTime.getFullYear()},_setHours:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setHours(e),this.hour=this.dateTime.getHours()},_setMinutes:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setMinutes(e),this.minute=this.dateTime.getMinutes()},_setSeconds:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setSeconds(e),this.second=this.dateTime.getSeconds()},_setMilliseconds:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setMilliseconds(e),this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(e){var t=this.dateTime,i=t.getDate();return t.setDate(t.getDate()+e),i===t.getDate()&&t.setHours(t.getHours()+t.getTimezoneOffset()/60),t},_addWeeks:function(e){var t=this.dateTime;return t.setDate(t.getDate()+7*e),t},_addMonths:function(e){var t=this.dateTime;return t.setMonth(t.getMonth()+e),t},_addYears:function(e){var t=this.dateTime;return t.setFullYear(t.getFullYear()+e),t},_addHours:function(e){var t=this.dateTime;return t.setHours(t.getHours()+e),t},_addMinutes:function(e){var t=this.dateTime;return t.setMinutes(t.getMinutes()+e),t},_addSeconds:function(e){var t=this.dateTime;return t.setSeconds(t.getSeconds()+e),t},_addMilliseconds:function(e){var t=this.dateTime;return t.setMilliseconds(t.getMilliseconds()+e),t},_isLeapYear:function(e){if(e<1||e>9999)throw"invalid year";return e%4==0&&(e%100!=0||e%400==0)},_dateToTicks:function(e,t,i){if(e>=1&&e<=9999&&t>=1&&t<=12){var s=this._isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;if(i>=1&&i<=s[t]-s[t-1]){var e=e-1;return 864e9*(365*e+e/4-e/100+e/400+s[t-1]+i-1)}}},_daysInMonth:function(e,t){if(t<1||t>12)throw"Invalid month.";var i=this._isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;return i[t]-i[t-1]},_timeToTicks:function(e,t,i){return 1e7*(3600*e+60*t+i)},_equalDate:function(e){return this.year==e.getFullYear()&&this.day==e.getDate()&&this.month==e.getMonth()+1}}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxCalendar","",{}),e.extend(e.jqx._jqxCalendar.prototype,{defineInstance:function(){var t={disabled:!1,restrictedDates:new Array,multipleMonthRows:1,multipleMonthColumns:1,minDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),navigationDelay:400,stepMonths:1,width:null,height:null,value:e.jqx._jqxDateTimeInput.getDateTime(new Date),firstDayOfWeek:0,showWeekNumbers:!1,showDayNames:!0,enableWeekend:!1,enableOtherMonthDays:!0,showOtherMonthDays:!0,rowHeaderWidth:25,columnHeaderHeight:20,titleHeight:30,dayNameFormat:"firstTwoLetters",monthNameFormat:"default",titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],enableViews:!0,readOnly:!1,culture:"default",enableFastNavigation:!0,enableHover:!0,enableAutoNavigation:!0,enableTooltips:!1,backText:"Back",forwardText:"Forward",specialDates:new Array,keyboardNavigation:!0,selectionMode:"default",selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],todayString:"Today",clearString:"Clear",showFooter:!1,selection:{from:null,to:null},canRender:!0,_checkForHiddenParent:!0,height:null,rtl:!1,view:"month",views:["month","year","decade"],changing:null,change:null,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]};return e.extend(!0,this,t),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(0),this.minDate._setMinutes(0),this.minDate._setSeconds(0),this.minDate._setMilliseconds(0),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(0),this.maxDate._setMinutes(0),this.maxDate._setSeconds(0),this.maxDate._setMilliseconds(0),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),t},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var s={title:i.field.title};if(i.field.value&&(s.value=i.field.value),i.field.checked&&(s.checked=!0),i.field.id.length?s.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:s.id=e.jqx.utilities.createId()+"_"+t,i.field.getAttribute("min")){var r=new Date(i.field.getAttribute("min"));"Invalid Date"!=r&&(i.min=r)}if(i.field.getAttribute("max")){var n=new Date(i.field.getAttribute("max"));"Invalid Date"!=n&&(i.max=n)}var a=e("<div></div>",s);a[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()),i.height||(i.height=e(i.field).outerHeight()),e(i.field).hide().after(a);var o=i.host.data();if(i.host=a,i.host.data(o),i.element=a[0],i.element.id=i.field.id,i.field.id=s.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var l=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=l}}},createInstance:function(t){this._createFromInput("jqxCalendar"),this.setCalendarSize(),""===this.element.id&&(this.element.id=e.jqx.utilities.createId()),"date"==e.type(this.value)&&(this.value=e.jqx._jqxDateTimeInput.getDateTime(this.value)),this.element.innerHTML="",this.host.attr("data-role","calendar");var i=(this.element.id,this);if(this.propertyChangeMap.width=function(e,t,s,r){i.setCalendarSize()},this.propertyChangeMap.height=function(e,t,s,r){i.setCalendarSize()},e.global&&e.global.preferCulture(this.culture),"default"!=this.culture){if(e.global)e.global.preferCulture(this.culture),this.localization.calendar=e.global.culture.calendar;else if(Globalize){var s=Globalize.culture(this.culture);this.localization.calendar=s.calendar}this.firstDayOfWeek=this.localization.calendar.firstDay}"Back"!=this.localization.backString&&(this.backText=this.localization.backString),"Forward"!=this.localization.forwardString&&(this.forwardText=this.localization.forwardString),"Today"!=this.localization.todayString&&this.localization.todayString&&(this.todayString=this.localization.todayString),"Clear"!=this.localization.clearString&&this.localization.clearString&&(this.clearString=this.localization.clearString),this.localization.calendar&&void 0!=this.localization.calendar.firstDay&&"default"!=this.culture&&(this.firstDayOfWeek=this.localization.calendar.firstDay),this.setMaxDate(this.max,!1),this.setMinDate(this.min,!1),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.css("outline","none"),this.host.addClass(this.toThemeProperty("jqx-calendar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this._addInput(),-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&-1==this.views.indexOf("month")&&(this.view="decade"),this.addHandler(this.host,"keydown",function(e){var t=!0;return i.keyboardNavigation&&void 0!=i._handleKey&&((t=i._handleKey(e))||(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault())),t});var r=!1,n=this,a=!1;null!=i.width&&-1!=i.width.toString().indexOf("%")&&(a=!0),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(a=!0),e.jqx.utilities.resize(this.host,function(){var e=n.host.find("#View"+i.element.id);r?n.refreshTitle(e):(r=!0,n.render()),a&&(i.refreshTimer&&clearTimeout(i.refreshTimer),i.refreshTimer=setTimeout(function(){i.refreshControl()},1))},!1,this._checkForHiddenParent);this.propertyChangeMap.disabled=function(e,t,s,r){r?e.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(i.toThemeProperty("jqx-fill-state-disabled")),i.refreshControl()}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.getDate().toString())},setCalendarSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.css("height",this.height)},_getYearAndMonthPart:function(e){return e?new Date(e.getFullYear(),e.getMonth(),1):new Date(1900,0,1)},
_handleKey:function(t){if(this.readOnly)return!0;var i=t.keyCode,s=this._getSelectedDate();if(void 0==s){if("month"!=this.view||37!=i&&38!=i&&39!=i&&40!=i)return!0;this.selectedDate=new Date(this.value.year,this.value.month-1,1),this._selectDate(this.selectedDate,"key"),s=this.selectedDate}if(t.altKey)return!0;if(this._animating)return!1;if("month"!=this.view&&13==i){var r=this._getSelectedCell();this._setDateAndSwitchViews(r,t,"keyboard")}if("year"==this.view){var n=s.getMonth(),a=this._getYearAndMonthPart(this.getMinDate()),o=this._getYearAndMonthPart(this.getMaxDate());switch(i){case 37:if(0==n){var l=new Date(s.getFullYear()-1,11,1);l>=a?(this.selectedDate=l,this.navigateBackward()):this.selectedDate!=a&&(this.selectedDate=a,this.navigateBackward())}else{var l=new Date(s.getFullYear(),n-1,1);l>=a&&this._selectDate(l,"key")}return!1;case 38:var l=new Date(s.getFullYear(),n-4,1);return l<a&&(l=a),n-4<0?(this.selectedDate=l,this.navigateBackward()):this._selectDate(l,"key"),!1;case 40:var l=new Date(s.getFullYear(),n+4,1);return l>o&&(l=o),n+4>11?(this.selectedDate=l,this.navigateForward()):this._selectDate(l,"key"),!1;case 39:if(11==n){var l=new Date(s.getFullYear()+1,0,1);l<=o?(this.selectedDate=l,this.navigateForward()):this.selectedDate!=o&&(this.selectedDate=o,this.navigateForward())}else{var l=new Date(s.getFullYear(),n+1,1);l<=o&&this._selectDate(l,"key")}return!1}return!0}if("decade"==this.view){var h=this._renderStartDate.getFullYear(),d=this._renderEndDate.getFullYear(),c=s.getFullYear(),u=this.getMinDate().getFullYear(),f=this.getMaxDate().getFullYear();switch(i){case 37:return c-1>=u&&(c<=h?(this.selectedDate=new Date(c-1,s.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(c-1,s.getMonth(),1),"key")),!1;case 38:var p=c-4;return c-4<u&&(p=u),p<h?(this.selectedDate=new Date(p,s.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(p,s.getMonth(),1),"key"),!1;case 40:var p=c+4;return p>f&&(p=f),p>d?(this.selectedDate=new Date(p,s.getMonth(),1),this.navigateForward()):this._selectDate(new Date(p,s.getMonth(),1),"key"),!1;case 39:return c+1<=f&&(c==d?(this.selectedDate=new Date(c+1,s.getMonth(),1),this.navigateForward()):this._selectDate(new Date(c+1,s.getMonth(),1),"key")),!1}return!0}var m=new e.jqx._jqxDateTimeInput.getDateTime(s),g=this.getViewStart(),v=this.getViewEnd(),x=e.data(this.element,"View"+this.element.id);if(void 0==x||null==x)return!0;if(36==i)return m._setDay(1),!this._isDisabled(m.dateTime)&&(this._selectDate(m.dateTime,"key"),!1);if(35==i){var y=this.value._daysInMonth(this.value.year,this.value.month);return m._setDay(y),this._isDisabled(m.dateTime)?!1:(this._selectDate(m.dateTime,"key"),!1)}var w=1;if(t.ctrlKey&&(w=12),34==i){var b=this.navigateForward(w);if(b){if(m._addMonths(w),this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key")}return!1}if(33==i){var b=this.navigateBackward(w);if(b){if(m._addMonths(-w),this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key")}return!1}if(38==i){if(m._addDays(-7),m.dateTime<this.getMinDate())return!1;if(m.dateTime<g){var b=this.navigateBackward();if(!b)return!1}if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(var _=0;_<x.cells.length;_++){var r=x.cells[_],T=r.getDate();if(r.isOtherMonth&&r.isSelected&&T<=m.dateTime){this.value.day=T.getDate(),this.navigateBackward(),this._selectDate(m.dateTime,"key");break}}return!1}if(40==i){if(m._addDays(7),m.dateTime>this.getMaxDate())return!1;if(m.dateTime>v){var b=this.navigateForward();if(!b)return!1}if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(var _=0;_<x.cells.length;_++){var r=x.cells[_],T=r.getDate();if(r.isOtherMonth&&r.isSelected&&T>=m.dateTime){this.value.day=T.getDate(),this.navigateForward(),this._selectDate(m.dateTime,"key");break}}return!1}if(37==i){if(m._addDays(-1),m.dateTime<this.getMinDate())return!1;if(m.dateTime<g){var b=this.navigateBackward();if(!b)return!1}if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(var _=0;_<x.cells.length;_++){var r=x.cells[_],T=r.getDate();if(r.isOtherMonth&&r.isSelected&&T<=m.dateTime){if(m.dateTime<this.getMinDate()||m.dateTime>this.getMaxDate())return!1;if(this._isDisabled(m.dateTime))return!1;this.navigateBackward(),this._selectDate(m.dateTime,"key");break}}return!1}if(39==i){if(m._addDays(1),m.dateTime>this.getMaxDate())return!1;if(m.dateTime>v){var b=this.navigateForward();if(!b)return!1}if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(var _=0;_<x.cells.length;_++){var r=x.cells[_],T=r.getDate();if(r.isOtherMonth&&r.isSelected&&T>=m.dateTime){if(m.dateTime<this.getMinDate()||m.dateTime>this.getMaxDate())return!1;this.navigateForward(),this._selectDate(m.dateTime,"key");break}}return!1}return!0},render:function(){if(this.canRender){this.host.children().remove();var e=this._renderSingleCalendar("View"+this.element.id);this.host.append(e)}},addSpecialDate:function(e,t,i){if(1==this.multipleMonthRows&&1==this.multipleMonthColumns){var s=this.specialDates.length;this.specialDates[s]={Date:e,Class:t,Tooltip:i},this.refreshControl()}},refresh:function(e){this.render()},invalidate:function(){this.refreshControl()},refreshControl:function(){1==this.multipleMonthRows&&1==this.multipleMonthColumns&&this.refreshSingleCalendar("View"+this.element.id,null)},getViewStart:function(){var e=this.getVisibleDate();return this.getFirstDayOfWeek(e).dateTime},getViewEnd:function(){var t=this.getViewStart(),i=new e.jqx._jqxDateTimeInput.getDateTime(t);return i._addDays(41),i.dateTime},refreshSingleCalendar:function(e,t){if(this.canRender){var i=this.host.find("#"+e),s=this.getVisibleDate(),r=this.getFirstDayOfWeek(s);this.refreshCalendarCells(i,r,e),this.refreshTitle(i),this.refreshRowHeader(i,e),void 0!=this.selectedDate&&this._selectDate(this.selectedDate);var n=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(n=this.host.height()-this.titleHeight),this.showFooter&&(n-=20);var a=i.find("#cellsTable"+e),o=i.find("#calendarRowHeader"+e);a.height(n),o.height(n)}},refreshRowHeader:function(t,i){if(this.showWeekNumbers){var s=this.getVisibleDate(),r=this.getFirstDayOfWeek(s),n=(r.dayOfWeek,this.getWeekOfYear(r)),a=new e.jqx._jqxDateTimeInput.getDateTime(new Date(r.dateTime));a._addDays(5),a.dayOfWeek=a.dateTime.getDay();var o=(this.getWeekOfYear(a),this.rowHeader.find("table"));o.width(this.rowHeaderWidth);for(var l=r,h=new Array,d=0;d<6;d++){var c=(n.toString(),new e.jqx._jqxCalendar.cell(l.dateTime)),u=d+1+this.element.id,f=e(o[0].rows[d].cells[0]);c.element=f,c.row=d,c.column=0;var p=f.find("#headerCellContent"+u);p.addClass(this.toThemeProperty("jqx-calendar-row-cell")),p[0].innerHTML=n,h[d]=c,l=new e.jqx._jqxDateTimeInput.getDateTime(new Date(l._addWeeks(1))),n=this.getWeekOfYear(l)}var m=e.data(this.element,t[0].id);m.rowCells=h,this._refreshOtherMonthRows(m,i)}},_refreshOtherMonthRows:function(e,t){if(!this.showOtherMonthDays){this._displayLastRow(!0,t),this._displayFirstRow(!0,t);for(var i=!1,s=!1,r=0;r<e.cells.length;r++){var n=e.cells[r];n.isVisible&&r<7?i=!0:n.isVisible&&r>=e.cells.length-7&&(s=!0)}i||this._displayFirstRow(!1,t),s||this._displayLastRow(!1,t)}},_displayLastRow:function(t,i){var s=this.host.find("#"+i),r=s.find("#calendarRowHeader"+s[0].id).find("table"),n=null;if(this.showWeekNumbers&&r[0].cells)var n=e(r[0].rows[5]);var a=e(s.find("#cellTable"+s[0].id)[0].rows[5]);t?(this.showWeekNumbers&&n&&n.css("display","table-row"),a.css("display","table-row")):(this.showWeekNumbers&&n&&n.css("display","none"),a.css("display","none"))},_displayFirstRow:function(t,i){var s=this.host.find("#"+i),r=s.find("#calendarRowHeader"+s[0].id).find("table"),n=null;if(this.showWeekNumbers&&r[0].cells)var n=e(r[0].rows[0]);var a=e(s.find("#cellTable"+s[0].id)[0].rows[0]);t?(this.showWeekNumbers&&n&&n.css("display","table-row"),a.css("display","table-row")):(this.showWeekNumbers&&n&&n.css("display","none"),a.css("display","none"))},_renderSingleCalendar:function(t,i){if(this.canRender){var s=this.host.find("#"+t.toString());null!=s&&s.remove();var r=e("<div id='"+t.toString()+"'></div>"),n=this.getVisibleDate(),a=this.getFirstDayOfWeek(n),o=new e.jqx._jqxDateTimeInput.getDateTime(a.dateTime);o._addMonths(1);var l=e.jqx._jqxCalendar.monthView(a,o,null,null,null,r);void 0==i||null==i?(this.host.append(r),void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("px")&&r.height(this.height):r.height(this.height),void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("px")&&r.width(this.width):r.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&r.width("100%"),null!=this.height&&-1!=this.height.toString().indexOf("%")&&r.height("100%")):i.append(r),e.data(this.element,t,l);var h=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(h=this.host.height()-this.titleHeight),this.showFooter&&(h-=20),this.rowHeaderWidth<0&&(this.rowHeaderWidth=0),this.columnHeaderHeight<0&&(this.columnHeaderHeight=0),this.titleHeight<0&&(this.titleHeight=0);var d=this.rowHeaderWidth,c=this.columnHeaderHeight;this.showWeekNumbers||(d=0),this.showDayNames||(c=0);var u="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'></td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td><td role='gridcell' NOWRAP id='rightNavigationArrow'></td></tr></table></div>",f="<table role='grid' class='"+this.toThemeProperty("jqx-calendar-month")+"' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+c+"'><td role='gridcell' id='selectCell' width='"+d+"'></td><td role='gridcell' colspan='2' style='border: none; padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+h+"' width='"+d+"'></td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+h+"'></td></tr></table>",p="<div id='footer' style='margin: 0px; display: none; height:"+m+"px;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'></td><td align='left' colspan='2' id=doneButton></td></tr></table></div>";r[0].innerHTML=u+f+p,this.header=r.find("#calendarHeader"),this.header[0].id="calendarHeader"+t,this.header.addClass(this.toThemeProperty("calendar-header")),this.columnHeader=r.find("#calendarColumnHeader"),this.columnHeader[0].id="calendarColumnHeader"+t,this.table=r.find("#cellsTable"),this.table[0].id="cellsTable"+t,this.rowHeader=r.find("#calendarRowHeader"),this.rowHeader[0].id="calendarRowHeader"+t,this.selectCell=r.find("#selectCell"),this.selectCell[0].id="selectCell"+t,this.title=r.find("#calendarTitle"),this.title[0].id="calendarTitle"+t,this.leftButton=r.find("#leftNavigationArrow"),this.leftButton[0].id="leftNavigationArrow"+t,this.titleHeader=r.find("#calendarTitleHeader"),this.titleHeader[0].id="calendarTitleHeader"+t,this.rightButton=r.find("#rightNavigationArrow"),this.rightButton[0].id="rightNavigationArrow"+t,this.footer=r.find("#calendarFooter"),this._footer=r.find("#footer"),this._footer[0].id="footer"+t,this.footer[0].id="calendarFooter"+t,this.todayButton=r.find("#todayButton"),this.todayButton[0].id="todayButton"+t,this.doneButton=r.find("#doneButton"),this.doneButton[0].id="doneButton"+t,this.title.addClass(this.toThemeProperty("jqx-calendar-title-container"));var m=20;if(this.showFooter&&this._footer.css("display","block"),r.find("tr").addClass(this.toThemeProperty("jqx-reset")),r.addClass(this.toThemeProperty("jqx-widget-content")),r.addClass(this.toThemeProperty("jqx-calendar-month-container")),this.month=r,this.selectCell.addClass(this.toThemeProperty("jqx-reset")),this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header")),this.showWeekNumbers?this._renderRowHeader(r):(this.table[0].colSpan=3,this.columnHeader[0].colSpan=3,this.rowHeader.css("display","none"),this.selectCell.css("display","none")),this.showFooter){this.footer.height(20);var g=e("<a href='javascript:;'>"+this.todayString+"</a>");g.appendTo(this.todayButton);var v=e("<a href='javascript:;'>"+this.clearString+"</a>");v.appendTo(this.doneButton),v.addClass(this.toThemeProperty("jqx-calendar-footer")),g.addClass(this.toThemeProperty("jqx-calendar-footer"));var x=this,y="mousedown";e.jqx.mobile.isTouchDevice()&&(y=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(g,y,function(){return x.today?x.today():x.setDate(new Date,"mouse"),!1}),this.addHandler(v,y,function(){return x.clear?x.clear():x.setDate(null,"mouse"),!1})}"month"!=this.view&&this.header.hide(),this.showDayNames&&"month"==this.view&&this.renderColumnHeader(r),this.oldView=this.view,this.renderCalendarCells(r,a,t),void 0!=i&&null!=i||this.renderTitle(r),this._refreshOtherMonthRows(l,t),r.find("tbody").css({border:"none",background:"transparent"}),void 0!=this.selectedDate&&this._selectDate(this.selectedDate);var w=this;return this.addHandler(this.host,"focus",function(){w.focus()}),r}},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(t){var i=e("<div role='button' style='float: left;'></div>"),s=e("<div role='button' style='float: right;'></div>"),r=this.title;r.addClass(this.toThemeProperty("jqx-reset")),r.addClass(this.toThemeProperty("jqx-widget-header")),r.addClass(this.toThemeProperty("jqx-calendar-title-header"));var n=r.find("td");if(e.jqx.browser.msie&&e.jqx.browser.version<8){if("transparent"!=n.css("background-color")){var a=r.css("background-color");n.css("background-color",a)}if("transparent"!=n.css("background-image")){var o=r.css("background-image"),l=r.css("background-repeat");r.css("background-position");n.css("background-image",o),n.css("background-repeat",l),n.css("background-position","left center scroll")}}else n.css("background-color","transparent");this.disabled&&r.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled")),i.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),i.appendTo(this.leftButton);var h=this.leftButton;s.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),s.addClass(this.toThemeProperty("jqx-icon-arrow-right")),s.appendTo(this.rightButton);var d=this.rightButton;this.enableTooltips&&e(h).jqxTooltip&&(e(h).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText}),e(d).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText}));var c=this.titleHeader,u=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if("decade"==this.view){var f=this._format(this._renderStartDate,this._getTitleFormat(),this.culture),p=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);u=f+" - "+p}else if("centuries"==this.view){var f=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),p=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);u=f+" - "+p}var m=e("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+u+"</div>");c.append(m),m.addClass(this.toThemeProperty("jqx-calendar-title-content"));var g=parseInt(i.width()),v=t.width()-2*g;c.find(".jqx-calendar-title-content").width(v);e.data(i,"navigateLeft",this),e.data(s,"navigateRight",this);var x=e.jqx.mobile.isTouchDevice();if(!this.disabled){var y=this;this.addHandler(c,"mousedown",function(e){if(y.enableViews){if(!y._viewAnimating&&!y._animating){var t=y.view;switch(y.oldView=t,y.view){case"month":y.view="year";break;case"year":y.view="decade"}if(-1==y.views.indexOf("year")&&"year"==y.view&&(y.view="decade"),-1==y.views.indexOf("decade")&&"decade"==y.view&&(y.view=t),t!=y.view){var i="View"+y.element.id,s=y.host.find("#"+i),r=y.getVisibleDate(),n=y.getFirstDayOfWeek(r);y.renderCalendarCells(s,n,i,!0),y.refreshTitle(s),y._raiseEvent("8")}}return!1}}),this.addHandler(i,"mousedown",function(t){if(y._animating)return!1;e.data(i,"navigateLeftRepeat",!0);var s=e.data(i,"navigateLeft");return s.enableFastNavigation&&!x&&s.startRepeat(s,i,!0,y.navigationDelay+200),s.navigateBackward(y.stepMonths,"arrow"),t.stopPropagation(),t.preventDefault(),s._raiseEvent(0,t)}),this.addHandler(i,"mouseup",function(t){e.data(i,"navigateLeftRepeat",!1)}),this.addHandler(i,"mouseleave",function(t){e.data(i,"navigateLeftRepeat",!1)}),this.addHandler(s,"mousedown",function(t){if(y._animating)return!1;e.data(s,"navigateRightRepeat",!0);var i=e.data(s,"navigateRight");return i.enableFastNavigation&&!x&&i.startRepeat(i,s,!1,y.navigationDelay+200),i.navigateForward(y.stepMonths,"arrow"),t.stopPropagation(),t.preventDefault(),i._raiseEvent(1,t)}),this.addHandler(s,"mouseup",function(t){e.data(s,"navigateRightRepeat",!1)}),this.addHandler(s,"mouseleave",function(t){e.data(s,"navigateRightRepeat",!1)})}},refreshTitle:function(t){var i=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if("decade"==this.view){var s=this._format(this._renderStartDate,this._getTitleFormat(),this.culture),r=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);i=s+" - "+r}else if("centuries"==this.view){var s=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),r=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);i=s+" - "+r}var n=this.titleHeader;if(this.titleHeader){var a=n.find(".jqx-calendar-title-content"),o=e("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+i+"</div>");n.append(o),o.addClass(this.toThemeProperty("jqx-calendar-title-content")),null!=a&&a.remove()}},startRepeat:function(t,i,s,r){var n=window.setTimeout(function(){var a=e.data(i,"navigateLeftRepeat");if(s||(a=e.data(i,"navigateRightRepeat")),!a)return void window.clearTimeout(n);r<25&&(r=25),s?(t.navigateBackward(1,"arrow"),t.startRepeat(t,i,!0,r)):(t.navigateForward(1,"arrow"),n=t.startRepeat(t,i,!1,r))},r)},navigateForward:function(e,t){void 0!=e&&null!=e||(e=this.stepMonths);var i=this.value.year;if("decade"==this.view){if(i=this._renderStartDate.getFullYear()+12,this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear())return}else"year"==this.view?i=this.value.year+1:"centuries"==this.view&&(i=this.value.year+100);if("month"!=this.view){var s=this.getMaxDate().getFullYear();if((s<i||i>s)&&(i=s),this.value.year==i){if("decade"!==this.view)return;if(!(this.value.year>this._renderEndDate.getFullYear()))return;this.value.year=i,this.value.month=1,this.value.day=1}this.value.year=i,this.value.month=1,this.value.day=1}var r=this.value.day;if(this.value.month+e<=12){var n=this.value._daysInMonth(this.value.year,this.value.month+e);r>n&&(r=n)}if("month"==this.view){var a=new Date(this.value.year,this.value.month-1+e,r);"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1+e,1))}else var a=new Date(this.value.year,this.value.month-1,r);return this.navigateTo(a)},navigateBackward:function(e,t){void 0!=e&&null!=e||(e=this.stepMonths);var i=this.value.year;if("decade"==this.view?i=this._renderStartDate.getFullYear()-12:"year"==this.view?i=this.value.year-1:"centuries"==this.view&&(i=this.value.year-100),"month"!=this.view){var s=this.getMinDate().getFullYear();if(i<s&&(i=s),"decade"==this.view&&this._renderStartDate&&this._renderStartDate.getFullYear()==i)return;this.value.year=i,this.value.month=1,this.value.day=1}var r=this.value.day;if(this.value.month-e>=1){var n=this.value._daysInMonth(this.value.year,this.value.month-e);r>n&&(r=n)}if("month"==this.view){var a=new Date(this.value.year,this.value.month-1-e,r);"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1-e,1))}else var a=new Date(this.value.year,this.value.month-1,r);return this.navigateTo(a)},_isRestrictedRange:function(e,t){if(e>t)return!0;for(var i=e;i.valueOf()<=t.valueOf();){if(this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_hasUnrestrictedRanges:function(e,t){if(e>t)return!1;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_getNextUnrestrictedDay:function(e,t){if(e>t)return null;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return i;i.setDate(i.getDate()+1)}return null},_isRestrictedDate:function(t){var i=this;if(!e.isArray(i.restrictedDates))return!1;for(var s=0;s<i.restrictedDates.length;s++){var r=i.restrictedDates[s];if("object"==typeof r&&void 0!=r.from&&void 0!=r.to){var n=r.from,a=r.to;if(t.valueOf()>=n.valueOf()&&t.valueOf()<=a.valueOf())return!0}else if(r.getMonth()==t.getMonth()&&r.getDate()==t.getDate()&&r.getFullYear()==t.getFullYear())return!0}return!1},_isDisabled:function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=e.getDay(),s=t[i];return-1==this.selectableDays.indexOf(s)||!!this._isRestrictedDate(e)},refreshCalendarCells:function(t,i,s){if("year"==this.view||"decade"==this.view||"centuries"==this.view)return void this.refreshViews(t,i,s);for(var r=this.table,n=r.find("#cellTable"+s.toString()),a=i,o=new Array,l=0,h=new e.jqx._jqxDateTimeInput.getDateTime(new Date),d=0;d<6;d++)for(var c=0;c<7;c++){var u=d+1,f=c;this.rtl&&(f=6-f);var p=f+1,m="#cell"+u+p+this.element.id,g=new Date(a.dateTime.getFullYear(),a.dateTime.getMonth(),a.dateTime.getDate()),v=new e.jqx._jqxCalendar.cell(g),x=e(n[0].rows[d].cells[p-1]);x[0].id=m.substring(1),v.element=x,v.row=d,v.column=c,v.isVisible=!0,v.isOtherMonth=!1,v.isToday=!1,v.isWeekend=!1,v.isHighlighted=!1,v.isSelected=!1,a.month!=this.value.month&&(v.isOtherMonth=!0,v.isVisible=this.showOtherMonthDays),this._isRestrictedDate(g)&&(v.isRestricted=!0,v.isDisabled=!0),v.isDisabled||(g<this.getMinDate()||g>this.getMaxDate()||this._isDisabled(g))&&(v.isDisabled=!0),a.month==h.month&&a.day==h.day&&a.year==h.year&&(v.isToday=!0),a.isWeekend()&&(v.isWeekend=!0),e.data(this.element,"cellContent"+m.substring(1),v),e.data(this.element,m.substring(1),v),o[l]=v,l++,e.jqx.utilities.html(x,a.day),this._applyCellStyle(v,x,x),a=new e.jqx._jqxDateTimeInput.getDateTime(new Date(a._addDays(1)))}var y=e.data(this.element,t[0].id);void 0!=y&&null!=y&&(y.cells=o),this.renderedCells=o,this._refreshOtherMonthRows(y,s)},_getDecadeAndCenturiesData:function(){var e=new Array,t=new Array,i=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear();i<12&&(i=12);var s=this.getMinDate(),r=this.getMaxDate(),n=this.value.dateTime.getFullYear();if("decade"==this.view){n+12>r.getFullYear()&&(n=r.getFullYear()-11),n<s.getFullYear()&&(n=s.getFullYear());for(var a=0;a<i;a++){var o=new Date(s.getFullYear()+a,0,1);if(s.getFullYear()<=n&&n<=o.getFullYear()){for(var l=new Date(o.getFullYear(),o.getMonth(),1),h=0;h<12;h++){var d=new Date(l.getFullYear()+h,this.value.dateTime.getMonth(),this.value.dateTime.getDate()),c=d.getFullYear();s.getFullYear()<=c&&c<=r.getFullYear()?(e.push(c),t.push(d),0==h&&(this._renderStartDate=d),this._renderEndDate=d):(e.push(c),t.push(d))}break}}}else if("centuries"==this.view)for(var a=0;a<i;a+=120){var o=new Date(s.getFullYear()+a+120,0,1);if(s.getFullYear()<=n&&n<=o.getFullYear()){var l=new Date(o.getFullYear()-130,o.getMonth(),1);l<s&&(l=s);for(var h=0;h<12;h++){var u=new Date(l.getFullYear()+10*h,l.getMonth(),1);l.getFullYear()>=s.getFullYear()&&u.getFullYear()<=r.getFullYear()&&(e.push("<span style='visibility: hidden;'>-</span>"+u.getFullYear()+"-"+(u.getFullYear()+9)),t.push(u),0==h&&(this._renderCenturyStartDate=u),this._renderCenturyEndDate=new Date(u.getFullYear()+9,0,1))}break}}return{years:e,dates:t}},refreshViews:function(t,i,s){for(var r=new Array,n=t.find("#cellTable"+s.toString()),a=this._getDecadeAndCenturiesData(),o=a.years,l=a.dates,h=0,d=this.getMinDate(),c=this.getMaxDate(),u=0;u<3;u++)for(var f=0;f<4;f++){var p=f;this.rtl&&(p=3-p);var m=new Date(this.value.dateTime);m.setDate(1),m.setMonth(4*u+p);var g=new e.jqx._jqxCalendar.cell(m),v=n[0].rows["row"+(1+u)+this.element.id],x=e(v.cells[f]);g.isSelected=!1,g.isVisible=!0,g.element=x,g.row=u,g.column=f,g.index=r.length;var y="";if("year"==this.view){var w=this.localization.calendar.months.names,b=w[4*u+p];switch(this.monthNameFormat){case"default":b=this.localization.calendar.months.namesAbbr[4*u+p];break;case"shortest":b=this.localization.calendar.months.namesShort[4*u+p];break;case"firstTwoLetters":b=b.substring(0,2);break;case"firstLetter":b=b.substring(0,1)}y=b}else"decade"!=this.view&&"centuries"!=this.view||(y=o[4*u+p],void 0==y&&(y="<span style='cursor: default; visibility: hidden;'>2013</span>"),g.setDate(l[4*u+p]));var m=g.getDate();"year"==this.view?m.getMonth()==this.getDate().getMonth()&&m.getFullYear()==this.getDate().getFullYear()&&(g.isSelected=!0):m.getFullYear()==this.getDate().getFullYear()&&(g.isSelected=!0),"year"==this.view?(this._getYearAndMonthPart(m)<this._getYearAndMonthPart(d)&&(g.isDisabled=!0),this._getYearAndMonthPart(m)>this._getYearAndMonthPart(c)&&(g.isDisabled=!0)):(m.getFullYear()<d.getFullYear()&&(g.isDisabled=!0),m.getFullYear()>c.getFullYear()&&(g.isDisabled=!0)),e.jqx.utilities.html(x,y),r[h]=g,h++}var _=e.data(this.element,t[0].id);void 0!=_&&null!=_&&(_.cells=r),this.renderedCells=r,this._applyCellStyles()},_createViewClone:function(){var e=this.host.find(".jqx-calendar-month"),t=e.clone();return t.css("position","absolute"),t.css("top",e.position().top),t},_addCellsTable:function(e,t){var i=this,s=this.showFooter?20:0;"month"!=this.view?t.height(this.host.height()-this.titleHeight):t.height(this.host.height()-this.titleHeight-this.columnHeaderHeight-s),this._viewAnimating=!0;var r=this.host.find(".jqx-calendar-month-container");r.css("position","relative");var n=(this.host.find(".jqx-calendar-month"),this._createViewClone());r.append(n),"month"!=this.view?(this.header.fadeOut(0),this.showWeekNumbers&&this.rowHeader.fadeOut(0),this.showFooter&&this._footer.fadeOut(0)):(this.header.fadeIn(this.navigationDelay+200),this.showWeekNumbers&&this.rowHeader.fadeIn(this.navigationDelay+200),this.showFooter&&this._footer.fadeIn(this.navigationDelay+200)),e.children().remove(),e.append(t),this._animateViews(n,t,function(){i.selectedDate||"range"==i.selectionMode||(i.selectedDate=i.renderedCells[0].getDate());try{i.renderedCells[0].element.focus(),setTimeout(function(){i.renderedCells[0].element.focus()},10)}catch(e){}i._viewAnimating=!1}),t.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(e,t,i){var s=this;if(s._viewAnimating=!0,s.oldView==s.view)return e.remove(),t.fadeOut(0),t.fadeIn(0),void i();e.fadeOut(this.navigationDelay+100,function(){e.remove()}),t.fadeOut(0),t.fadeIn(this.navigationDelay+200,function(){i()})},focus:function(){if(!this.disabled)try{if(this.renderedCells&&this.renderedCells.length>0){var e=this;e.selectedDate||"range"==e.selectionMode||this.setDate(new Date,"mouse"),this.element.focus()}}catch(e){}},renderViews:function(t,i,s){var r=this,n=new Array,a=e("<table role='grid' style='border-color: transparent; width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+s.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");this.host.find(".jqx-calendar-month-container").css("position","relative");var o=t.find("#cellsTable"+t[0].id);o[0].style.borderColor="transparent";var l=this._getDecadeAndCenturiesData(),h=l.years,d=l.dates,c=0,u=this.getMinDate(),f=this.getMaxDate(),p=new Date(this.value.dateTime);p.setDate(1);for(var m=0;m<3;m++)for(var g=0;g<4;g++){var v=g;this.rtl&&(v=3-v);var x=a[0].rows["row"+(1+m)+this.element.id],y=new Date(p);y.setMonth(4*m+v);var w=new e.jqx._jqxCalendar.cell(y),b=e(x.cells[g]);w.isVisible=!0,w.element=b,w.row=m,w.column=g,w.index=n.length,w.isSelected=!1;var _="";if("year"==this.view){y.getMonth()==this.getDate().getMonth()&&y.getFullYear()==this.getDate().getFullYear()&&(w.isSelected=!0);var T=this.localization.calendar.months.names,j=T[4*m+v];switch(this.monthNameFormat){case"default":j=this.localization.calendar.months.namesAbbr[4*m+v];break;case"shortest":j=this.localization.calendar.months.namesShort[4*m+v];break;case"firstTwoLetters":j=j.substring(0,2);break;case"firstLetter":j=j.substring(0,1)}_=j}else"decade"!=this.view&&"centuries"!=this.view||(_=h[4*m+v],w.setDate(d[4*m+v]),w.getDate().getFullYear()==this.getDate().getFullYear()&&(w.isSelected=!0),void 0==_&&(_="<span style='cursor: default; visibility: hidden;'>2013</span>"));var y=w.getDate();if("year"==this.view){var C=new Date(y);C.setDate(1),C.setHours(0,0,0,0),C.setMonth(y.getMonth()+1),C=new Date(C.valueOf()-1),(this._getYearAndMonthPart(y)<this._getYearAndMonthPart(u)||this._getYearAndMonthPart(y)>this._getYearAndMonthPart(f)||!this._hasUnrestrictedRanges(y,C))&&(w.isDisabled=!0)}else{var S=new Date(y);S.setMonth(0),S.setDate(1),S.setHours(0,0,0,0),S.setFullYear(y.getFullYear()+1),S=new Date(S.valueOf()-1),(y.getFullYear()<u.getFullYear()||y.getFullYear()>f.getFullYear()||!this._hasUnrestrictedRanges(y,S))&&(w.isDisabled=!0)}e.jqx.utilities.html(b,_),n[c]=w,c++}e.each(n,function(){var e=this.element,t=this;r.disabled||(r.addHandler(e,"mousedown",function(e){r._setDateAndSwitchViews(t,e,"mouse")}),r.addHandler(e,"mouseover",function(e){var i=r.renderedCells[t.index];"centuries"!=r.view&&-1!=i.element.html().toLowerCase().indexOf("span")||(i.isHighlighted=!0,r._applyCellStyle(i,i.element,i.element))}),r.addHandler(e,"mouseout",function(e){var i=r.renderedCells[t.index];"centuries"!=r.view&&-1!=i.element.html().toLowerCase().indexOf("span")||(i.isHighlighted=!1,r._applyCellStyle(i,i.element,i.element))}))});var q=e.data(this.element,t[0].id);void 0!=q&&null!=q&&(q.cells=n),this.renderedCells=n,this._addCellsTable(o,a),this._applyCellStyles()},_setDateAndSwitchViews:function(t,i,s){if(!this._viewAnimating&&!this._animating){var r=(this.getDate(),this.renderedCells[t.index].getDate()),n=this.value.dateTime.getDate(),a=new Date(r);-1!=this.views.indexOf("month")?a.setDate(n):(a.setDate(1),r.setDate(1)),a.getMonth()==r.getMonth()&&(r=a);var o=this.getMinDate(),l=this.getMaxDate();if("year"==this.view){if(this._getYearAndMonthPart(r)<this._getYearAndMonthPart(o))return;if(this._getYearAndMonthPart(r)>this._getYearAndMonthPart(l))return}else{if(r.getFullYear()<o.getFullYear())return;if(r.getFullYear()>l.getFullYear())return}switch("range"!=this.selectionMode&&this._selectDate(r,s),this.oldView=this.view,this.view){case"year":this.view="month";break;case"decade":this.view="year"}-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&(this.view="decade"),"year"==this.view?(this._getYearAndMonthPart(r)<this._getYearAndMonthPart(o)&&(r=o),this._getYearAndMonthPart(r)>this._getYearAndMonthPart(l)&&(r=l)):(r.getFullYear()<o.getFullYear()&&(r=o),r.getFullYear()>l.getFullYear()&&(r=l)),
this.changing&&this.selectedDate&&(this.selectedDate.getFullYear()!=r.getFullYear()||this.selectedDate.getMonth()!=r.getMonth()||this.selectedDate.getDate()!=r.getDate())&&(r=this.selectedDate),this.value._setYear(r.getFullYear()),this.value._setDay(r.getDate()),this.value._setMonth(r.getMonth()+1),this.value._setDay(r.getDate());var h=this.getVisibleDate(),d=this.getFirstDayOfWeek(h),c="View"+this.element.id;if(this.renderCalendarCells(this.month,d,c,!0),this.refreshTitle(this.month),this.showWeekNumbers&&this.refreshRowHeader(this.month,c),3==this.views.length&&"month"==this.view)if("range"!=this.selectionMode)this._selectDate(this.selectedDate,"view");else{var u=this;e.each(this.renderedCells,function(t){var i=this,s=i.getDate(),n=e(i.element);if(0==n.length)return!1;var a=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};i.isOtherMonth||a(s).toString()!=a(r).toString()||(u.value._setMonth(r.getMonth()+1),u.value._setDay(r.getDate()),u.value._setYear(r.getFullYear())),i.isSelected=!1,i.isDisabled=!1,a(s)<a(u.selection.from)&&1==u._clicks&&(i.isDisabled=!0),u.getMaxDate()<s&&(i.isDisabled=!0),u.getMinDate()>s&&(i.isDisabled=!0),u._isDisabled(s)&&(i.isDisabled=!0),i.isDisabled||a(s)>=a(u.selection.from)&&a(s)<=a(u.selection.to)&&(i.isSelected=!0)}),this._applyCellStyles()}"month"!=this.view&&("year"==this.oldView||-1==this.views.indexOf("year")&&"decade"==this.view)&&("keyboard"!=s&&this._raiseEvent("3"),this._raiseEvent("5",{selectionType:"mouse"})),this._raiseEvent("8")}},renderCalendarCells:function(t,i,s,r){if("year"==this.view||"decade"==this.view||"centuries"==this.view)return void this.renderViews(t,i,s);var n=e("<table role='grid' style='width: 100%; height: 100%; border-color: transparent;' cellspacing='2' cellpadding='1' id=cellTable"+s.toString()+"><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),a=this.table;if(a[0].style.borderColor="transparent",void 0==r){var o=a.find("#cellTable"+s.toString());null!=o&&o.remove(),a.append(n)}var l=i,h=this.showDayNames?1:0,d=this.showWeekNumbers?1:0,c=new Array,u=0,f=(t.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(f=(t.width()-2)/7),f=parseInt(f);for(var p=new e.jqx._jqxDateTimeInput.getDateTime(new Date),m=0;m<6;m++){for(var g=0;g<7;g++){var v=m+1,x=g;this.rtl&&(x=6-x);var y=x+1,w="#cell"+v+y+this.element.id,b=new Date(l.dateTime.getFullYear(),l.dateTime.getMonth(),l.dateTime.getDate()),_=new e.jqx._jqxCalendar.cell(b),T=e(n[0].rows[m].cells[y-1]);T[0].id=w.substring(1),_.isVisible=!0,_.isDisabled=!1,l.month!=this.value.month&&(_.isOtherMonth=!0,_.isVisible=this.showOtherMonthDays),this._isRestrictedDate(b)&&(_.isRestricted=!0,_.isDisabled=!0),_.isDisabled||(b<this.getMinDate()||b>this.getMaxDate()||this._isDisabled(b))&&(_.isDisabled=!0),l.month==p.month&&l.day==p.day&&l.year==p.year&&(_.isToday=!0),l.isWeekend()&&(_.isWeekend=!0),_.element=T,_.row=h,_.column=d,e.jqx.utilities.html(T,l.day),l=new e.jqx._jqxDateTimeInput.getDateTime(new Date(l._addDays(1))),e.data(this.element,"cellContent"+w.substring(1),_),e.data(this.element,""+w.substring(1),_);var j=this;if(this.addHandler(T,"mousedown",function(t){if(!j.readOnly&&!j.disabled){var i=e(t.target),s=e.data(j.element,i[0].id);j._raiseEvent(3,t);if(null!=s&&void 0!=s){var r=s.getDate();if(j.getMinDate()<=r&&r<=j.getMaxDate()&&!s.isDisabled)if(s.isOtherMonth&&j.enableAutoNavigation)s.row<2?j.navigateBackward():j.navigateForward(),j._selectDate(s.getDate(),"mouse",t.shiftKey);else{new Date(j.getDate());j._selectDate(s.getDate(),"mouse",t.shiftKey),j.value._setYear(r.getFullYear()),j.value._setDay(1),j.value._setMonth(r.getMonth()+1),j.value._setDay(r.getDate());var n=j.host.find(".jqx-calendar-month");n.stop(),n.css("margin-left","0px");j.getDate();j._raiseEvent("2"),s.isOtherMonth&&j._raiseEvent("5",{selectionType:"mouse"})}}return!1}}),!j.disabled){var C=function(t,i){if(!j.readOnly){var s=e(t.target),r=e.data(j.element,s[0].id);if(null!=r&&void 0!=r){var n=r.getDate();j.getMinDate()<=n&&n<=j.getMaxDate()&&(r.isHighlighted=i,j._applyCellStyle(r,r.element,s))}}};this.addHandler(T,"mouseenter",function(e){return C(e,!0),!1}),this.addHandler(T,"mouseleave",function(e){return C(e,!1),!1})}d++,c[u]=_,u++}d=0,h++}var S=e.data(this.element,t[0].id);void 0!=S&&null!=S&&(S.cells=c),this.renderedCells=c,void 0!=r&&this._addCellsTable(a,n),this._applyCellStyles(),this._refreshOtherMonthRows(S,s)},setMaxDate:function(t,i){null!=t&&"string"==typeof t&&"Invalid Date"==(t=new Date(t))||(this.maxDate=e.jqx._jqxDateTimeInput.getDateTime(t),!1!==i&&this.render())},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(t,i){null!=t&&"string"==typeof t&&"Invalid Date"==(t=new Date(t))||(this.minDate=e.jqx._jqxDateTimeInput.getDateTime(t),!1!==i&&this.render())},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},navigateTo:function(t,i){if("month"==this.view){var s=this.getMinDate(),r=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate());if(t<this._getYearAndMonthPart(s)||t>this._getYearAndMonthPart(r))return!1}else if(t&&(t.getFullYear()<this.getMinDate().getFullYear()||t.getFullYear()>this.getMaxDate().getFullYear()))return!1;if(null==t)return!1;if(void 0==i){var n=this;if(this._animating)return;this._animating=!0;var a=this.host.find(".jqx-calendar-month-container");this._viewClone&&(this._viewClone.stop(),this._viewClone.remove()),this._newViewClone&&(this._newViewClone.stop(),this._newViewClone.remove());var o=this.host.find(".jqx-calendar-month");o.stop(),o.css("margin-left","0px");var l=o.clone();this._viewClone=l;var h=new Date(this.value.dateTime);this.value._setYear(t.getFullYear()),this.value._setDay(t.getDate()),this.value._setMonth(t.getMonth()+1),n.refreshControl(),a.css("position","relative"),l.css("position","absolute"),l.css("top",o.position().top),a.append(l),e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.month.css("position","relative"),this.month.css("overflow","hidden"),this.table.css("position","relative"),this.table.css("overflow","hidden"));var d=-this.host.width();t<h&&("month"==this.view&&t.getMonth()!=h.getMonth()?d=this.host.width():t.getFullYear()!=h.getFullYear()&&(d=this.host.width())),l.animate({marginLeft:parseInt(d)+"px"},this.navigationDelay,function(){l.remove()});var c=o.clone();this._newViewClone=c,c.css("position","absolute"),c.css("top",o.position().top),a.append(c),c.css("margin-left",-d),o.css("visibility","hidden"),c.animate({marginLeft:"0px"},this.navigationDelay,function(){c.remove(),o.css("visibility","inherit"),n._animating=!1})}else{this.value._setYear(t.getFullYear()),this.value._setDay(t.getDate()),this.value._setMonth(t.getMonth()+1);var o=this.host.find(".jqx-calendar-month");o.stop(),o.css("margin-left","0px"),this.refreshControl()}return this._raiseEvent("2"),this._raiseEvent("8"),!0},setDate:function(e){return null!=e&&"string"==typeof e&&(e=new Date(e)),0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e),"range"==this.selectionMode&&this._selectDate(e,"mouse"),!0},val:function(e){return 0!=arguments.length&&(null==e&&this.setDate(null),e instanceof Date&&this.setDate(e),"string"==typeof e&&this.setDate(e)),this.getDate()},getDate:function(){return void 0==this.selectedDate?new Date:this.selectedDate},getValue:function(){return void 0==this.value?new Date:this.value.dateTime},setRange:function(e,t){0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e,"mouse"),this._selectDate(t,"mouse")},getRange:function(){return this.selection},_selectDate:function(t,i,s){if("none"!=this.selectionMode){null!=i&&void 0!=i||(i="none"),null!=s&&void 0!=s||(s=!1);var r=e.data(this.element,"View"+this.element.id);if(void 0!=r&&null!=r){if(this.changing&&t&&this.selectedDate){if(this.selectedDate.getFullYear()!=t.getFullYear()||this.selectedDate.getDate()!=t.getDate()||this.selectedDate.getMonth()!=t.getMonth())var n=this.changing(this.selectedDate,t);n&&(t=n)}var a=this;this.input&&(null!=t?this.input.val(t.toString()):this.input.val(""));var o=this.selectedDate;if(this.selectedDate=t,"month"!=this.view)return o!=t&&this._raiseEvent(7,{selectionType:i}),e.each(this.renderedCells,function(s){var r=this,n=r.getDate(),o=e(r.element);o.find("#cellContent"+o[0].id);if(null==t)r.isSelected=!1,r.isDisabled=!1;else if(r.isSelected=!1,n&&(n.getMonth()==t.getMonth()&&"year"==a.view&&n.getFullYear()==t.getFullYear()||"decade"==a.view&&n.getFullYear()==t.getFullYear())){r.isSelected=!0;try{"none"!=i&&r.element.focus()}catch(e){}}a._applyCellStyle(r,o,o)}),void(this.change&&this.change(t));if("month"==this.view&&"range"==this.selectionMode&&"key"==i){var l=this.getVisibleDate(),h=this.getFirstDayOfWeek(l);this.refreshCalendarCells(this.month,h,"View"+this.element.id)}var d=!1;if(e.each(this.renderedCells,function(r){var n=this,o=n.getDate(),l=e(n.element),h=l;if(0==l.length)return!1;if(null==t)n.isSelected=!1,n.isDisabled=!1,0==r&&(a.selection={from:null,to:null},a._raiseEvent("2"),a._raiseEvent("5",{selectionType:i}));else if("range"!=a.selectionMode||"key"==i){if(o.getDate()==t.getDate()&&o.getMonth()==t.getMonth()&&o.getFullYear()==t.getFullYear()&&n.isSelected)return a._applyCellStyle(n,l,h),void a._raiseEvent("5",{selectionType:i});if(n.isSelected&&a._raiseEvent("6",{selectionType:i}),n.isSelected=!1,o.getDate()==t.getDate()&&o.getMonth()==t.getMonth()&&o.getFullYear()==t.getFullYear()){n.isSelected=!0,0==r&&(a.selection={date:t});try{"none"!=i&&(n.element.focus(),a.host.focus())}catch(e){}n.isOtherMonth||(a.value._setMonth(t.getMonth()+1),a.value._setDay(t.getDate()),a.value._setYear(t.getFullYear()),a._raiseEvent("2"),a._raiseEvent("5",{selectionType:i}))}"range"==a.selectionMode&&(a._clicks=0,a.selection={from:t,to:t})}else if("range"==a.selectionMode){if("view"==i)return n.isSelected=!1,n.isDisabled=!1,a.getMaxDate()<o&&(n.isDisabled=!0),a.getMinDate()>o&&(n.isDisabled=!0),a._isRestrictedDate(o)&&(n.isDisabled=!0,n.isRestricted=!0),!n.isDisabled&&a._isDisabled(o)&&(n.isDisabled=!0),a._applyCellStyle(n,l,h),!0;if(0==r)if("none"!=i)if(void 0==a._clicks&&(a._clicks=0),a._clicks++,s&&a._clicks++,1==a._clicks)a.selection={from:t,to:t};else{var c=a.selection.from,u=c<=t?c:t,f=c<=t?t:c;if(u)var p=new Date(u.getFullYear(),u.getMonth(),u.getDate());if(f)var m=new Date(f.getFullYear(),f.getMonth(),f.getDate(),23,59,59);a.selection={from:p,to:m},a._clicks=0}else null!=a.selection&&null!=a.selection.from||(a.selection={from:t,to:t},void 0==a._clicks&&(a._clicks=0),2==++a._clicks&&(a._clicks=0));var g=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};n.isOtherMonth||g(o).toString()!=g(t).toString()||(a.value._setMonth(t.getMonth()+1),a.value._setDay(t.getDate()),a.value._setYear(t.getFullYear()),a._raiseEvent("2"),a._raiseEvent("5",{selectionType:i})),n.isSelected=!1,n.isDisabled=d,g(o)<g(a.selection.from)&&1==a._clicks&&(n.isDisabled=!0),a.getMaxDate()<o&&(n.isDisabled=!0),a.getMinDate()>o&&(n.isDisabled=!0),a._isRestrictedDate(o)&&(n.isRestricted=!0,n.isDisabled=!0),!n.isDisabled&&a._isDisabled(o)&&(n.isDisabled=!0),n.isDisabled?!a.allowRestrictedDaysInRange&&g(o)>=g(a.selection.from)&&a.selection.to==a.selection.from&&(d=!0):g(o)>=g(a.selection.from)&&g(o)<=g(a.selection.to)&&(n.isSelected=!0)}a._applyCellStyle(n,l,h)}),"range"==a.selectionMode&&0==a._clicks)return void a._raiseEvent(7,{selectionType:i});"range"!=a.selectionMode&&o!=t&&(a._raiseEvent(7,{selectionType:i}),this.change&&this.change(t))}}},_getSelectedDate:function(){var t=e.data(this.element,"View"+this.element.id);if(void 0!=t&&null!=t){if("month"!=this.view)return this.selectedDate;for(var i=0;i<t.cells.length;i++){var s=t.cells[i],r=s.getDate();if(s.isSelected)return r}return this.selectedDate?this.selectedDate:void 0}},_getSelectedCell:function(){var t=e.data(this.element,"View"+this.element.id);if(void 0!=t&&null!=t)for(var i=0;i<t.cells.length;i++){var s=t.cells[i];s.getDate();if(s.isSelected)return s}},_applyCellStyle:function(t,i,s){var r=this;(null==s||null!=s&&0==s.length)&&(s=i);var n="";if(n=this.toThemeProperty("jqx-rc-all"),n+=" "+this.toThemeProperty("jqx-item"),(this.disabled||t.isDisabled&&!t.isRestricted)&&(n+=" "+this.toThemeProperty("jqx-calendar-cell-disabled"),n+=" "+this.toThemeProperty("jqx-fill-state-disabled")),!this.disabled&&t.isRestricted&&(n+=" "+this.toThemeProperty("jqx-calendar-cell-restrictedDate")),t.isOtherMonth&&this.enableOtherMonthDays&&t.isVisible&&(n+=" "+this.toThemeProperty("jqx-calendar-cell-othermonth")),t.isWeekend&&this.enableWeekend&&t.isVisible&&t.isVisible&&(n+=" "+this.toThemeProperty("jqx-calendar-cell-weekend")),t.isVisible?(n+=" "+this.toThemeProperty("jqx-calendar-cell"),"month"!=this.view&&s.length>0&&-1!=s.html().toLowerCase().indexOf("span")&&s.css("cursor","default")):n+=" "+this.toThemeProperty("jqx-calendar-cell-hidden"),s.removeAttr("aria-selected"),t.isSelected&&t.isVisible){n+=" "+this.toThemeProperty("jqx-calendar-cell-selected"),n+=" "+this.toThemeProperty("jqx-fill-state-pressed"),s.attr("aria-selected",!0),this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",s[0].id);var a=t.getDate();this._isDisabled(a)&&(n+=" "+this.toThemeProperty("jqx-calendar-cell-selected-invalid"))}if(t.isHighlighted&&t.isVisible&&this.enableHover&&(t.isDisabled||(n+=" "+this.toThemeProperty("jqx-calendar-cell-hover"),n+=" "+this.toThemeProperty("jqx-fill-state-hover"))),n+=" "+this.toThemeProperty("jqx-calendar-cell-"+this.view),t.isToday&&t.isVisible&&(n+=" "+this.toThemeProperty("jqx-calendar-cell-today")),s[0].className=n,this.specialDates.length>0){var o=this;e.each(this.specialDates,function(){void 0!=this.Class&&null!=this.Class&&""!=this.Class?s.removeClass(this.Class):s.removeClass(r.toThemeProperty("jqx-calendar-cell-specialDate"));var i=t.getDate();if(i.getFullYear()==this.Date.getFullYear()&&i.getMonth()==this.Date.getMonth()&&i.getDate()==this.Date.getDate()){if(null==t.tooltip&&null!=this.Tooltip&&(t.tooltip=this.Tooltip,e(s).jqxTooltip)){var n=this.Class;e(s).jqxTooltip({value:{cell:t,specialDate:this.Date},name:o.element.id,content:this.Tooltip,position:"mouse",theme:o.theme,opening:function(e){return!!s.hasClass(r.toThemeProperty("jqx-calendar-cell-specialDate"))||!!s.hasClass(n)}})}return s.removeClass(r.toThemeProperty("jqx-calendar-cell-othermonth")),s.removeClass(r.toThemeProperty("jqx-calendar-cell-weekend")),void 0==this.Class||""==this.Class?(s.addClass(r.toThemeProperty("jqx-calendar-cell-specialDate")),!1):(s.addClass(this.Class),!1)}})}},_applyCellStyles:function(){var t=e.data(this.element,"View"+this.element.id);if(void 0!=t&&null!=t)for(var i=0;i<t.cells.length;i++){var s=t.cells[i],r=e(s.element),n=r.find("#cellContent"+r[0].id);0==n.length&&(n=r),this._applyCellStyle(s,r,n)}},getWeekOfYear:function(e){var t=new Date(e.dateTime);dowOffset=this.firstDayOfWeek;var i=new Date(t.getFullYear(),0,1),s=i.getDay()-dowOffset;s=s>=0?s:s+7;var r,n=Math.floor((t.getTime()-i.getTime()-6e4*(t.getTimezoneOffset()-i.getTimezoneOffset()))/864e5)+1;return s<4?(r=Math.floor((n+s-1)/7)+1)>52&&(nYear=new Date(t.getFullYear()+1,0,1),nday=nYear.getDay()-dowOffset,nday=nday>=0?nday:nday+7,r=nday<4?1:53):r=Math.floor((n+s-1)/7),r},renderColumnHeader:function(t){if(this.showDayNames){var i=e("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");i.find("table").addClass(this.toThemeProperty("jqx-reset")),i.find("tr").addClass(this.toThemeProperty("jqx-reset")),i.find("td").css({background:"transparent",padding:1,margin:0,border:"none"}),i.addClass(this.toThemeProperty("jqx-reset")),i.addClass(this.toThemeProperty("jqx-widget-content")),i.addClass(this.toThemeProperty("jqx-calendar-column-header")),this.columnHeader.append(i);var s=this.getVisibleDate(),r=this.getFirstDayOfWeek(s),n=(r.dayOfWeek,this.getWeekOfYear(r),this.firstDayOfWeek),a=this.localization.calendar.days.names,o=new Array,l=r,h=(t.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(h=(t.width()-2)/7);for(var d=0;d<7;d++){var c=a[n];switch(this.rtl&&(c=a[6-n]),this.dayNameFormat){case"default":c=this.localization.calendar.days.namesAbbr[n],this.rtl&&(c=this.localization.calendar.days.namesAbbr[6-n]);break;case"shortest":c=this.localization.calendar.days.namesShort[n],this.rtl&&(c=this.localization.calendar.days.namesShort[6-n]);break;case"firstTwoLetters":c=c.substring(0,2);break;case"firstLetter":c=c.substring(0,1)}var u=new e.jqx._jqxCalendar.cell(l.dateTime),f=d+1,p=f+this.element.id,m=e(i[0].rows[0].cells[d]),g=d;this.enableTooltips&&e(m).jqxTooltip&&e(m).jqxTooltip({name:this.element.id,content:a[n],theme:this.theme,position:"mouse"}),n>=6?n=0:n++,d=g,u.element=m,u.row=0,u.column=d+1;var v=this._textwidth(c),x="<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+p+"'>"+c+"</div>";if(m.append(x),m.find("#columnCell"+p).addClass(this.toThemeProperty("jqx-calendar-column-cell")),m.width(h),this.disabled&&m.find("#columnCell"+p).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled")),v>0&&h>0)for(;v>m.width()&&0!=c.length;)c=c.substring(0,c.length-1),e.jqx.utilities.html(m.find("#columnCell"+p),c),v=this._textwidth(c);o[d]=u,l=new e.jqx._jqxDateTimeInput.getDateTime(new Date(l._addDays(1)))}parseInt(this.columnHeader.width())>parseInt(this.host.width())&&this.columnHeader.width(this.host.width());e.data(this.element,t[0].id).columnCells=o}},_format:function(t,i,s){var r=!1;try{void 0!=Globalize&&(r=!0)}catch(e){}if(e.global)return e.global.culture.calendar=this.localization.calendar,e.global.format(t,i,this.culture);if(r)try{return Globalize.cultures[this.culture]?(Globalize.cultures[this.culture].calendar=this.localization.calendar,Globalize.format(t,i,this.culture)):Globalize.format(t,i,this.culture)}catch(e){return Globalize.format(t,i)}else if(e.jqx.dataFormat)return e.jqx.dataFormat.formatdate(t,i,this.localization.calendar)},_textwidth:function(t){var i=e("<span>"+t+"</span>");i.addClass(this.toThemeProperty("jqx-calendar-column-cell")),e(this.host).append(i);var s=i.width();return i.remove(),s},_textheight:function(t){var i=e("<span>"+t+"</span>");e(this.host).append(i);var s=i.height();return i.remove(),s},_renderRowHeader:function(t){var i=this.getVisibleDate(),s=this.getFirstDayOfWeek(i),r=(s.dayOfWeek,this.getWeekOfYear(s)),n=new e.jqx._jqxDateTimeInput.getDateTime(new Date(s.dateTime));n._addDays(5),n.dayOfWeek=n.dateTime.getDay();this.getWeekOfYear(n);53==r&&0==n.dateTime.getMonth()&&(r=1);var a=e("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr><td></td></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr></table>");a.find("table").addClass(this.toThemeProperty("jqx-reset")),a.find("td").addClass(this.toThemeProperty("jqx-reset")),a.find("tr").addClass(this.toThemeProperty("jqx-reset")),a.addClass(this.toThemeProperty("jqx-calendar-row-header")),a.width(this.rowHeaderWidth),this.rowHeader.append(a);for(var o=s,l=new Array,h=0;h<6;h++){var d=r.toString(),c=new e.jqx._jqxCalendar.cell(o.dateTime),u=h+1+this.element.id,f=e(a[0].rows[h].cells[0]);c.element=f,c.row=h,c.column=0;var p="<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+u+"'>"+d+"</div>";f.append(p),f.find("#headerCellContent"+u).addClass(this.toThemeProperty("jqx-calendar-row-cell")),l[h]=c,o=new e.jqx._jqxDateTimeInput.getDateTime(new Date(o._addWeeks(1))),r=this.getWeekOfYear(o)}e.data(this.element,t[0].id).rowCells=l},getFirstDayOfWeek:function(t){var i=t;(this.firstDayOfWeek<0||this.firstDayOfWeek>6)&&(this.firstDayOfWeek=6);var s=i.dayOfWeek-this.firstDayOfWeek;return s<=0&&(s+=7),e.jqx._jqxDateTimeInput.getDateTime(i._addDays(-s))},getVisibleDate:function(){var t=new e.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime));t<this.minDate&&(t=this.minDate),t>this.maxDate&&(this.visibleDate=this.maxDate),t.dateTime.setHours(0);var i=t.day;return t=e.jqx._jqxDateTimeInput.getDateTime(t._addDays(1-i))},destroy:function(e){this.host.removeClass(),0!=e&&this.host.remove()},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=this.events[t],r=i||{};r.owner=this;var n=new e.Event(s);if(n.owner=this,n.args=r,0==t||1==t||2==t||3==t||4==t||5==t||6==t||7==t||8==t){n.args.date=n.args.selectedDate=this.getDate(),n.args.range=this.getRange();var a=this.getViewStart(),o=this.getViewEnd();n.args.view={from:a,to:o}}if(7==t){var l=r.selectionType;l||(l=null),"key"==l&&(l="keyboard"),"none"==l&&(l=null),r.type=l}var h=this.host.trigger(n);return 0!=t&&1!=t||(h=!1),h},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},_setSize:function(){var e=this.host.find("#View"+this.element.id);if(e.length>0){this.setCalendarSize(),void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("px")&&e.height(this.height):e.height(this.height),void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("px")&&e.width(this.width):e.width(this.width);var t=this.host.height()-this.titleHeight-this.columnHeaderHeight,i="View"+this.element.id;e.find("#cellsTable"+i).height(t),e.find("#calendarRowHeader"+i).height(t),this.refreshControl()}},resize:function(){this._setSize()},clear:function(){"range"==this.selectionMode?(this._clicks=1,this.setRange(null,null),this._raiseEvent(7)):this.setDate(null,"mouse"),this._clicks=0,this.selection={from:null,to:null}},today:function(){"range"==this.selectionMode?this.setRange(new Date,new Date):this.setDate(new Date,"mouse")},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(t,i,s,r){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&"enableHover"!=i&&"keyboardNavigation"!=i){if("localization"==i&&this.localization&&(this.localization.backString&&(this.backText=this.localization.backString),this.localization.forwardString&&(this.forwardText=this.localization.forwardString),this.localization.todayString&&(this.todayString=this.localization.todayString),this.localization.clearString&&(this.clearString=this.localization.clearString),this.firstDayOfWeek=this.localization.calendar.firstDay),"culture"==i)try{if(e.global)e.global.preferCulture(t.culture),t.localization.calendar=e.global.culture.calendar;else if(Globalize){var n=Globalize.culture(t.culture);t.localization.calendar=n.calendar}t.localization.calendar&&void 0!=t.localization.calendar.firstDay&&"default"!=t.culture&&(t.firstDayOfWeek=t.localization.calendar.firstDay)}catch(e){}if("views"==i)return-1==t.views.indexOf("month")&&(t.view="year"),-1==t.views.indexOf("year")&&-1==t.views.indexOf("month")&&(t.view="decade"),void t.render();if("showFooter"==i&&t.render(),"width"==i||"height"==i)return void t._setSize();"theme"==i?e.jqx.utilities.setTheme(s,r,t.host):"rowHeaderWidth"==i||"showWeekNumbers"==i?t.render():(t.view="month",t.render())}}})}(jqxBaseFramework),function(e){e.jqx._jqxCalendar.cell=function(t){return{dateTime:new e.jqx._jqxDateTimeInput.getDateTime(t),_date:t,getDate:function(){return this._date},setDate:function(t){this.dateTime=new e.jqx._jqxDateTimeInput.getDateTime(t),this._date=t},isToday:!1,isWeekend:!1,isOtherMonth:!1,isVisible:!0,isSelected:!1,isHighlighted:!1,element:null,row:-1,column:-1,tooltip:null}},e.jqx._jqxCalendar.monthView=function(e,t,i,s,r,n){return{start:e,end:t,cells:i,rowCells:s,columnCells:r,element:n}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDraw","",{}),e.extend(e.jqx._jqxDraw.prototype,{defineInstance:function(){var t={renderEngine:""};e.extend(!0,this,t);var i=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var s in i)this._addFn(e.jqx._jqxDraw.prototype,i[s])},_addFn:function(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})},createInstance:function(e){},_initRenderer:function(t){return e.jqx.createRenderer(this,t)},_internalRefresh:function(){var t=this;if(!e.jqx.isHidden(t.host)){t.renderer||(t.host.empty(),t._initRenderer(t.host));var i=t.renderer;if(i){var s=i.getRect();t._render({x:1,y:1,width:s.width,height:s.height}),i instanceof e.jqx.HTML5Renderer&&i.refresh()}}},_saveAsImage:function(t,i,s,r){return e.jqx._widgetToImage(this,t,i,s,r)},_render:function(e){var t=this;t.renderer;t._plotRect=e},refresh:function(){this._internalRefresh()},getSize:function(){var e=this._plotRect;return{width:e.width,height:e.height}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)}})}(jqxBaseFramework),function(e){e.jqx.toGreyScale=function(t){if(-1==t.indexOf("#"))return t;var i=e.jqx.cssToRgb(t);i[0]=i[1]=i[2]=Math.round(.3*i[0]+.59*i[1]+.11*i[2]);var s=e.jqx.rgbToHex(i[0],i[1],i[2]);return"#"+s[0]+s[1]+s[2]},e.jqx.adjustColor=function(t,i){if("string"!=typeof t)return"#000000";if(-1==t.indexOf("#"))return t;var s=e.jqx.cssToRgb(t),r=e.jqx.rgbToHsl(s);r[2]=Math.min(1,r[2]*i),r[1]=Math.min(1,r[1]*i*1.1),s=e.jqx.hslToRgb(r);for(var t="#",n=0;n<3;n++){var a=Math.round(s[n]);a=e.jqx.decToHex(a),1==a.toString().length&&(t+="0"),t+=a}return t.toUpperCase()},e.jqx.decToHex=function(e){return e.toString(16)},e.jqx.hexToDec=function(e){return parseInt(e,16)},e.jqx.rgbToHex=function(t,i,s){return[e.jqx.decToHex(t),e.jqx.decToHex(i),e.jqx.decToHex(s)]},e.jqx.hexToRgb=function(t,i,s){return[e.jqx.hexToDec(t),e.jqx.hexToDec(i),e.jqx.hexToDec(s)]},e.jqx.cssToRgb=function(t){return t.indexOf("rgb")<=-1?e.jqx.hexToRgb(t.substring(1,3),t.substring(3,5),t.substring(5,7)):t.substring(4,t.length-1).split(",")},e.jqx.hslToRgb=function(t){var i=parseFloat(t[0]),s=parseFloat(t[1]),n=parseFloat(t[2]);if(0==s)r=g=b=n;else{var a=n<.5?n*(1+s):n+s-n*s,o=2*n-a;r=e.jqx.hueToRgb(o,a,i+1/3),g=e.jqx.hueToRgb(o,a,i),b=e.jqx.hueToRgb(o,a,i-1/3)}return[255*r,255*g,255*b]},e.jqx.hueToRgb=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},e.jqx.rgbToHsl=function(e){var t,i,s=parseFloat(e[0])/255,r=parseFloat(e[1])/255,n=parseFloat(e[2])/255,a=Math.max(s,r,n),o=Math.min(s,r,n),l=(a+o)/2;if(a==o)t=i=0;else{var h=a-o;switch(i=l>.5?h/(2-a-o):h/(a+o),a){case s:t=(r-n)/h+(r<n?6:0);break;case r:t=(n-s)/h+2;break;case n:t=(s-r)/h+4}t/=6}return[t,i,l]},e.jqx.swap=function(e,t){var i=e;e=t,t=i},e.jqx.getNum=function(t){if(e.isArray(t)){for(var i=0;i<t.length;i++)if(!isNaN(t[i]))return t[i]}else if(isNaN(t))return 0;return 0},e.jqx._ptdist=function(e,t,i,s){return Math.sqrt((i-e)*(i-e)+(s-t)*(s-t))},e.jqx._ptrnd=function(t){if(!document.createElementNS)return Math.round(t)==t?t:e.jqx._rnd(t,1,!1,!0);var i=e.jqx._rnd(t,.5,!1,!0);return.5!=Math.abs(i-Math.round(i))?i>t?i-.5:i+.5:i},e.jqx._ptRotate=function(e,t,i,s,r){var n=Math.sqrt(Math.pow(Math.abs(e-i),2)+Math.pow(Math.abs(t-s),2)),a=Math.asin((e-i)/n),o=a+r;return e=i+Math.cos(o)*n,t=s+Math.sin(o)*n,{x:e,y:t}},e.jqx._rup=function(e){var t=Math.round(e);return e>t&&t++,t},e.jqx.log=function(e,t){return Math.log(e)/(t?Math.log(t):1)},e.jqx._mod=function(e,t){var i=Math.abs(e>t?t:e),s=1;if(0!=i)for(;i*s<100;)s*=10;return e*=s,t*=s,e%t/s},e.jqx._rnd=function(t,i,s,r){if(isNaN(t))return t;void 0===r&&(r=!0);var n=t-(1==r?t%i:e.jqx._mod(t,i));return t==n?n:(s?t>n&&(n+=i):n>t&&(n-=i),1==i?Math.round(n):n)},e.jqx.commonRenderer={pieSlicePath:function(e,t,i,s,r,n,a){s||(s=1);var o=Math.abs(r-n),l=o>180?1:0;o>=360&&(n=r+359.99);var h=r*Math.PI*2/360,d=n*Math.PI*2/360,c=e,u=e,f=t,p=t,m=!isNaN(i)&&i>0;if(m&&(a=0),a+i>0){if(a>0){var g=o/2+r,v=g*Math.PI*2/360;e+=a*Math.cos(v),t-=a*Math.sin(v)}if(m){var x=i;c=e+x*Math.cos(h),f=t-x*Math.sin(h),u=e+x*Math.cos(d),p=t-x*Math.sin(d)}}var y=e+s*Math.cos(h),w=e+s*Math.cos(d),b=t-s*Math.sin(h),_=t-s*Math.sin(d),T="",j=Math.abs(Math.abs(n-r)-360)>.02;return m?(T="M "+u+","+p,T+=" a"+i+","+i,T+=" 0 "+l+",1 "+(c-u)+","+(f-p),T+=j?" L"+y+","+b:" M"+y+","+b,T+=" a"+s+","+s,T+=" 0 "+l+",0 "+(w-y)+","+(_-b),j&&(T+=" Z")):(T="M "+w+","+_,T+=" a"+s+","+s,T+=" 0 "+l+",1 "+(y-w)+","+(b-_),j&&(T+=" L"+e+","+t,T+=" Z")),T},measureText:function(t,i,s,r,n){var a=n._getTextParts(t,i,s),o=a.width,l=a.height;0==r&&(l/=.6);var h={};if(isNaN(i)&&(i=0),0==i)h={width:e.jqx._rup(o),height:e.jqx._rup(l)};else{var d=i*Math.PI*2/360,c=Math.abs(Math.sin(d)),u=Math.abs(Math.cos(d)),f=Math.abs(o*c+l*u),p=Math.abs(o*u+l*c);h={width:e.jqx._rup(p),height:e.jqx._rup(f)}}return r&&(h.textPartsInfo=a),h},alignTextInRect:function(t,i,s,r,n,a,o,l,h,d){var c=h*Math.PI*2/360,u=Math.sin(c),f=Math.cos(c),p=n*u,m=n*f;"center"==o||""==o||"undefined"==o?t+=s/2:"right"==o&&(t+=s),"center"==l||"middle"==l||""==l||"undefined"==l?i+=r/2:"bottom"==l?i+=r-a/2:"top"==l&&(i+=a/2),d=d||"";var g="middle";-1!=d.indexOf("top")?g="top":-1!=d.indexOf("bottom")&&(g="bottom");var v="center";return-1!=d.indexOf("left")?v="left":-1!=d.indexOf("right")&&(v="right"),"center"==v?(t-=m/2,i-=p/2):"right"==v&&(t-=m,i-=p),"top"==g?(t-=a*u,i+=a*f):"middle"==g&&(t-=a*u/2,i+=a*f/2),t=e.jqx._rup(t),i=e.jqx._rup(i),{x:t,y:i}}},e.jqx.svgRenderer=function(){},e.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(e){e.append("<table id=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 id=tdTop></td></tr><tr><td id=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>"),this.host=e;var t=e.find(".chartContainer");t[0].style.width=e.width()+"px",t[0].style.height=e.height()+"px";try{var i=document.createElementNS(this._svgns,"svg");i.setAttribute("id","svgChart"),i.setAttribute("version","1.1"),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("overflow","hidden"),t[0].appendChild(i),this.canvas=i}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var t=this.canvas.getBoundingClientRect(),i=parseFloat(t.left)==parseInt(t.left),s=parseFloat(t.top)==parseInt(t.top)
;if(e.jqx.browser.msie){for(var i=!0,s=!0,r=this.host,n=0,a=0;r&&r.position&&r[0].parentNode;){var o=r.position();n+=parseFloat(o.left)-parseInt(o.left),a+=parseFloat(o.top)-parseInt(o.top),r=r.parent()}i=parseFloat(n)==parseInt(n),s=parseFloat(a)==parseInt(a)}i||(this.host.find("#tdLeft")[0].style.width="0.5px"),s||(this.host.find("#tdTop")[0].style.height="0.5px")},_layout:function(){var t=this.host.find(".chartContainer");this._width=Math.max(e.jqx._rup(this.host.width())-1,0),this._height=Math.max(e.jqx._rup(this.host.height())-1,0),t[0].style.width=this._width,t[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;this.canvas.childElementCount>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(e){if(void 0!=e){this.removeHandler(e);try{for(;e.firstChild;)this.removeElement(e.firstChild);e.parentNode?e.parentNode.removeChild(e):this.canvas.removeChild(e)}catch(e){}}},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElementNS(this._svgns,"g");return e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect");return this.attr(i,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t},getWindowHref:function(){var t=e.jqx.browser;if(t&&"msie"==t.browser&&t.version<10)return"";var i=window.location.href;return i?(i=i.replace(/([\('\)])/g,"\\$1"),i=i.replace(/#.*$/,"")):i},setClip:function(e,t){var i="url("+this.getWindowHref()+"#"+t.id+")";return this.attr(e,{"clip-path":i})},_clipId:0,addHandler:function(t,i,s){e(t).on?e(t).on(i,s):e(t).bind(i,s)},removeHandler:function(t,i,s){e(t).off?e(t).off(i,s):e(t).unbind(i,s)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},shape:function(e,t){var i=document.createElementNS(this._svgns,e);if(i){for(var s in t)i.setAttribute(s,t[s]);return this._activeParent().appendChild(i),i}},_getTextParts:function(t,i,s){var r={width:0,height:0,parts:[]};if(void 0===t)return r;var n=t.toString().split("<br>"),a=this._activeParent(),o=document.createElementNS(this._svgns,"text");this.attr(o,s);for(var l=0;l<n.length;l++){var h=n[l],d=o.ownerDocument.createTextNode(h);o.appendChild(d),a.appendChild(o);var c;try{c=o.getBBox()}catch(e){}var u=e.jqx._rup(c.width),f=e.jqx._rup(.6*c.height);o.removeChild(d),r.width=Math.max(r.width,u),r.height+=f+(l>0?4:0),r.parts.push({width:u,height:f,text:h})}return a.removeChild(o),r},_measureText:function(t,i,s,r){return e.jqx.commonRenderer.measureText(t,i,s,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,s,r,n,a,o,l,h,d,c){var u,f=this._measureText(t,a,o,!0),p=f.textPartsInfo,m=p.parts;if(h||(h="center"),d||(d="center"),(m.length>1||l)&&(u=this.beginGroup()),l){var g=this.createClipRect({x:e.jqx._rup(i)-1,y:e.jqx._rup(s)-1,width:e.jqx._rup(r)+2,height:e.jqx._rup(n)+2});this.setClip(u,g)}var v=this._activeParent(),x=0,y=0;x=p.width,y=p.height,(isNaN(r)||r<=0)&&(r=x),(isNaN(n)||n<=0)&&(n=y);var w=r||0,b=n||0;if(!a||0==a){s+=y,"center"==d||"middle"==d?s+=(b-y)/2:"bottom"==d&&(s+=b-y),r||(r=x),n||(n=y);for(var v=this._activeParent(),_=0,T=m.length-1;T>=0;T--){var j=document.createElementNS(this._svgns,"text");this.attr(j,o),this.attr(j,{cursor:"default"});var C=j.ownerDocument.createTextNode(m[T].text);j.appendChild(C);var S=i,q=m[T].width,k=m[T].height;"center"==h?S+=(w-q)/2:"right"==h&&(S+=w-q),this.attr(j,{x:e.jqx._rup(S),y:e.jqx._rup(s+_),width:e.jqx._rup(q),height:e.jqx._rup(k)}),v.appendChild(j),_-=m[T].height+4}return u?(this.endGroup(),u):j}var D=e.jqx.commonRenderer.alignTextInRect(i,s,r,n,x,y,h,d,a,c);i=D.x,s=D.y;var I=this.shape("g",{transform:"translate("+i+","+s+")"}),M=this.shape("g",{transform:"rotate("+a+")"});I.appendChild(M);for(var _=0,T=m.length-1;T>=0;T--){var P=document.createElementNS(this._svgns,"text");this.attr(P,o),this.attr(P,{cursor:"default"});var C=P.ownerDocument.createTextNode(m[T].text);P.appendChild(C);var S=0,q=m[T].width,k=m[T].height;"center"==h?S+=(p.width-q)/2:"right"==h&&(S+=p.width-q),this.attr(P,{x:e.jqx._rup(S),y:e.jqx._rup(_),width:e.jqx._rup(q),height:e.jqx._rup(k)}),M.appendChild(P),_-=k+4}return v.appendChild(I),u&&this.endGroup(),I},line:function(e,t,i,s,r){var n=this.shape("line",{x1:e,y1:t,x2:i,y2:s});return this.attr(n,r),n},path:function(e,t){var i=this.shape("path");return i.setAttribute("d",e),t&&this.attr(i,t),i},rect:function(t,i,s,r,n){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),s=Math.max(1,e.jqx._rnd(s,1,!1)),r=Math.max(1,e.jqx._rnd(r,1,!1));var a=this.shape("rect",{x:t,y:i,width:s,height:r});return n&&this.attr(a,n),a},circle:function(e,t,i,s){var r=this.shape("circle",{cx:e,cy:t,r:i});return s&&this.attr(r,s),r},pieSlicePath:function(t,i,s,r,n,a,o){return e.jqx.commonRenderer.pieSlicePath(t,i,s,r,n,a,o)},pieslice:function(e,t,i,s,r,n,a,o){var l=this.pieSlicePath(e,t,i,s,r,n,a),h=this.shape("path");return h.setAttribute("d",l),o&&this.attr(h,o),h},attr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent=t[i]:e.setAttribute(i,t[i])},removeAttr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent="":e.removeAttribute(t[i])},getAttr:function(e,t){return e.getAttribute(t)},_gradients:{},_toLinearGradient:function(t,i,s){var r="grd"+this._id+t.replace("#","")+(i?"v":"h"),n="url("+this.getWindowHref()+"#"+r+")";if(this._gradients[n])return n;var a=document.createElementNS(this._svgns,"linearGradient");this.attr(a,{x1:"0%",y1:"0%",x2:i?"0%":"100%",y2:i?"100%":"0%",id:r});for(var o=0;o<s.length;o++){var l=s[o],h=document.createElementNS(this._svgns,"stop"),d="stop-color:"+e.jqx.adjustColor(t,l[1]);this.attr(h,{offset:l[0]+"%",style:d}),a.appendChild(h)}return this._defs.appendChild(a),this._gradients[n]=!0,n},_toRadialGradient:function(t,i,s){var r="grd"+this._id+t.replace("#","")+"r"+(void 0!=s?s.key:""),n="url("+this.getWindowHref()+"#"+r+")";if(this._gradients[n])return n;var a=document.createElementNS(this._svgns,"radialGradient");void 0==s?this.attr(a,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:r}):this.attr(a,{cx:s.x,cy:s.y,r:s.outerRadius,id:r,gradientUnits:"userSpaceOnUse"});for(var o=0;o<i.length;o++){var l=i[o],h=document.createElementNS(this._svgns,"stop"),d="stop-color:"+e.jqx.adjustColor(t,l[1]);this.attr(h,{offset:l[0]+"%",style:d}),a.appendChild(h)}return this._defs.appendChild(a),this._gradients[n]=!0,n}},e.jqx.vmlRenderer=function(){},e.jqx.vmlRenderer.prototype={init:function(t){t.append("<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>"),this.host=t;var i=t.find(".chartContainer");i[0].style.width=t.width()+"px",i[0].style.height=t.height()+"px";var s=!0;try{for(var r=0;r<document.namespaces.length;r++)if("v"==document.namespaces[r].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[r].urn){s=!1;break}}catch(e){return!1}return e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9&&document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(s&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):s&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=i[0],this._width=Math.max(e.jqx._rup(i.width()),0),this._height=Math.max(e.jqx._rup(i.height()),0),i[0].style.width=this._width+2,i[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;this.canvas.childElementCount>0;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(e){null!=e&&(this.removeHandler(e),e.parentNode.removeChild(e))},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElement("v:group");return t.style.position="absolute",t.coordorigin="0,0",t.coordsize=this._width+","+this._height,t.style.left=0,t.style.top=0,t.style.width=this._width,t.style.height=this._height,e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElement("div");return t.style.height=e.height+1+"px",t.style.width=e.width+1+"px",t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.overflow="hidden",this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(t),t},setClip:function(e,t){},_clipId:0,addHandler:function(t,i,s){e(t).on?e(t).on(i,s):e(t).bind(i,s)},removeHandler:function(t,i,s){e(t).off?e(t).off(i,s):e(t).unbind(i,s)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},_getTextParts:function(t,i,s){var r={width:0,height:0,parts:[]},n=t.toString().split("<br>"),a=this._activeParent(),o=document.createElement("v:textbox");this.attr(o,s),a.appendChild(o);for(var l=0;l<n.length;l++){var h=n[l],d=document.createElement("span");d.appendChild(document.createTextNode(h)),o.appendChild(d),s&&s.class&&(d.className=s.class);var c=e(o),u=e.jqx._rup(c.width()),f=e.jqx._rup(.6*c.height());if(0==f&&e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9){var p=c.css("font-size");p&&(f=parseInt(p),isNaN(f)&&(f=0))}o.removeChild(d),r.width=Math.max(r.width,u),r.height+=f+(l>0?2:0),r.parts.push({width:u,height:f,text:h})}return a.removeChild(o),r},_measureText:function(t,i,s,r){return i=Math.abs(i)>45?90:0,e.jqx.commonRenderer.measureText(t,i,s,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,s,r,n,a,o,l,h,d){var c;o&&o.stroke&&(c=o.stroke),void 0==c&&(c="black");var u=this._measureText(t,a,o,!0),f=u.textPartsInfo,p=f.parts,m=u.width,g=u.height;(isNaN(r)||0==r)&&(r=m),(isNaN(n)||0==n)&&(n=g);var v;if(h||(h="center"),d||(d="center"),(p.length>0||l)&&(v=this.beginGroup()),l){var x=this.createClipRect({x:e.jqx._rup(i),y:e.jqx._rup(s),width:e.jqx._rup(r),height:e.jqx._rup(n)});this.setClip(v,x)}var y=this._activeParent(),w=r||0,b=n||0;a=Math.abs(a)>45?90:0;var _=0,T=0;"center"==h?_+=(w-m)/2:"right"==h&&(_+=w-m),"center"==d?T=(b-g)/2:"bottom"==d&&(T=b-g),0==a?(s+=g+T,i+=_):(i+=m+_,s+=T);for(var j,C=0,S=p.length-1;S>=0;S--){var q=p[S],k=(m-q.width)/2;0==a&&"left"==h?k=0:0==a&&"right"==h?k=m-q.width:90==a&&(k=(g-q.width)/2);var D=C-q.height;T=90==a?k:D,_=90==a?D:k,j=document.createElement("v:textbox"),j.style.position="absolute",j.style.left=e.jqx._rup(i+_),j.style.top=e.jqx._rup(s+T),j.style.width=e.jqx._rup(q.width),j.style.height=e.jqx._rup(q.height),90==a&&(j.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",j.style.height=e.jqx._rup(q.height)+5);var I=document.createElement("span");I.appendChild(document.createTextNode(q.text)),o&&o.class&&(I.className=o.class),j.appendChild(I),y.appendChild(j),C-=q.height+(S>0?2:0)}return v?(this.endGroup(),y):j},shape:function(e,t){var i=document.createElement(this._createElementMarkup(e));if(i){for(var s in t)i.setAttribute(s,t[s]);return this._activeParent().appendChild(i),i}},line:function(e,t,i,s,r){var n="M "+e+","+t+" L "+i+","+s+" X E",a=this.path(n);return this.attr(a,r),a},_createElementMarkup:function(e){var t="<v:"+e+' style=""></v:'+e+">";return this._ie8mode&&(t=t.replace('style=""','style="behavior: url(#default#VML);"')),t},path:function(e,t){var i=document.createElement(this._createElementMarkup("shape"));return i.style.position="absolute",i.coordsize=this._width+" "+this._height,i.coordorigin="0 0",i.style.width=parseInt(this._width),i.style.height=parseInt(this._height),i.style.left="0px",i.style.top="0px",i.setAttribute("path",e),this._activeParent().appendChild(i),t&&this.attr(i,t),i},rect:function(t,i,s,r,n){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),s=e.jqx._rup(s),r=e.jqx._rup(r);var a=this.shape("rect",n);return a.style.position="absolute",a.style.left=t,a.style.top=i,a.style.width=s,a.style.height=r,a.strokeweight=0,n&&this.attr(a,n),a},circle:function(t,i,s,r){var n=this.shape("oval");return t=e.jqx._ptrnd(t-s),i=e.jqx._ptrnd(i-s),s=e.jqx._rup(s),n.style.position="absolute",n.style.left=t,n.style.top=i,n.style.width=2*s,n.style.height=2*s,r&&this.attr(n,r),n},updateCircle:function(t,i,s,r){void 0==i&&(i=parseFloat(t.style.left)+parseFloat(t.style.width)/2),void 0==s&&(s=parseFloat(t.style.top)+parseFloat(t.style.height)/2),void 0==r&&(r=parseFloat(t.width)/2),i=e.jqx._ptrnd(i-r),s=e.jqx._ptrnd(s-r),r=e.jqx._rup(r),t.style.left=i,t.style.top=s,t.style.width=2*r,t.style.height=2*r},pieSlicePath:function(t,i,s,r,n,a,o){r||(r=1);var l=Math.abs(n-a);l>360&&(n=0,a=360);var h=n*Math.PI*2/360,d=a*Math.PI*2/360,c=t,u=i,f=!isNaN(s)&&s>0;if(f&&(o=0),o>0){var p=l/2+n,m=p*Math.PI*2/360;t+=o*Math.cos(m),i-=o*Math.sin(m)}if(f){var g=s;c=e.jqx._ptrnd(t+g*Math.cos(h)),u=e.jqx._ptrnd(i-g*Math.sin(h)),e.jqx._ptrnd(t+g*Math.cos(d)),e.jqx._ptrnd(i-g*Math.sin(d))}var v=(e.jqx._ptrnd(t+r*Math.cos(h)),e.jqx._ptrnd(t+r*Math.cos(d))),x=(e.jqx._ptrnd(i-r*Math.sin(h)),e.jqx._ptrnd(i-r*Math.sin(d)));r=e.jqx._ptrnd(r),s=e.jqx._ptrnd(s),t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i);var y=Math.round(65535*n),w=Math.round(65536*(a-n));s<0&&(s=1);var b="";return f?(b="M"+c+" "+u,b+=" AE "+t+" "+i+" "+s+" "+s+" "+y+" "+w,b+=" L "+v+" "+x,y=Math.round(65535*(n-a)),w=Math.round(65536*a),b+=" AE "+t+" "+i+" "+r+" "+r+" "+w+" "+y,b+=" L "+c+" "+u):(b="M"+t+" "+i,b+=" AE "+t+" "+i+" "+r+" "+r+" "+y+" "+w),b+=" X E"},pieslice:function(e,t,i,s,r,n,a,o){var l=this.pieSlicePath(e,t,i,s,r,n,a),h=this.path(l,o);return o&&this.attr(h,o),h},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(e){for(var t in this._keymap)if(this._keymap[t].svg==e)return this._keymap[t].vml;return e},attr:function(e,t){if(e&&t)for(var i in t){var s=this._translateParam(i);void 0!=t[i]&&("fillcolor"==s&&-1!=t[i].indexOf("grd")?e.type=t[i]:"fillcolor"==s&&"transparent"==t[i]?(e.style.filter="alpha(opacity=0)",e["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==s||"fillopacity"==s?e.fill&&(e.fill.opacity=t[i]):"textContent"==s?e.children[0].innerText=t[i]:"dashstyle"==s?e.dashstyle=t[i].replace(","," "):-1==s.indexOf("style.")?e[s]=t[i]:e.style[s.replace("style.","")]=t[i])}},removeAttr:function(e,t){if(e&&t)for(var i in t)e.removeAttribute(t[i])},getAttr:function(e,t){var i=this._translateParam(t);return"opacity"==i||"fillopacity"==i?e.fill?e.fill.opacity:1:-1==i.indexOf("style.")?e[i]:e.style[i.replace("style.","")]},_gradients:{},_toRadialGradient:function(e,t,i){return e},_toLinearGradient:function(t,i,s){if(this._ie8mode)return t;var r="grd"+t.replace("#","")+(i?"v":"h"),n="#"+r;if(this._gradients[n])return n;var a=document.createElement(this._createElementMarkup("fill"));a.type="gradient",a.method="linear",a.angle=i?0:90;for(var o="",l=0;l<s.length;l++){var h=s[l];h>0&&(o+=", "),o+=h[0]+"% "+e.jqx.adjustColor(t,h[1])}a.colors=o;var d=document.createElement(this._createElementMarkup("shapetype"));return d.appendChild(a),d.id=r,this.canvas.appendChild(d),n}},e.jqx.HTML5Renderer=function(){},e.jqx.ptrnd=function(e){if(.5==Math.abs(Math.round(e)-e))return e;var t=Math.round(e);return t<e&&(t-=1),t+.5},e.jqx.HTML5Renderer.prototype={init:function(e){try{this.host=e,this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>"),this.canvas=e.find("#__jqxCanvasWrap"),this.canvas[0].width=e.width(),this.canvas[0].height=e.height(),this.ctx=this.canvas[0].getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(e){return!1}return!0},getType:function(){return"HTML5"},getContainer:function(){return this.host.find(".chartContainer")},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(e){},addHandler:function(e,t,i){},removeHandler:function(e,t,i){},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(e){void 0!=e&&this._elements[e.id]&&delete this._elements[e.id]},shape:function(e,t){var i={type:e,id:this._maxId++};for(var s in t)i[s]=t[s];return this._elements[i.id]=i,i},attr:function(e,t){for(var i in t)e[i]=t[i]},removeAttr:function(e,t){for(var i in t)delete e[t[i]]},rect:function(e,t,i,s,r){if(isNaN(e))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(i))throw'Invalid value for "width"';if(isNaN(s))throw'Invalid value for "height"';var n=this.shape("rect",{x:e,y:t,width:i,height:s});return r&&this.attr(n,r),n},path:function(e,t){var i=this.shape("path",t);return this.attr(i,{d:e}),i},line:function(e,t,i,s,r){return this.path("M "+e+","+t+" L "+i+","+s,r)},circle:function(e,t,i,s){var r=this.shape("circle",{x:e,y:t,r:i});return s&&this.attr(r,s),r},pieSlicePath:function(t,i,s,r,n,a,o){return e.jqx.commonRenderer.pieSlicePath(t,i,s,r,n,a,o)},pieslice:function(e,t,i,s,r,n,a,o){var l=this.path(this.pieSlicePath(e,t,i,s,r,n,a),o);return this.attr(l,{x:e,y:t,innerRadius:i,outerRadius:s,angleFrom:r,angleTo:n}),l},_getCSSStyle:function(e){var t=document.styleSheets;try{for(var i=0;i<t.length;i++)for(var s=0;t[i].cssRules&&s<t[i].cssRules.length;s++)if(-1!=t[i].cssRules[s].selectorText.indexOf(e))return t[i].cssRules[s].style}catch(e){}return{}},_getTextParts:function(t,i,s){var r="Arial",n="10pt",a="";if(s&&s.class){var o=this._getCSSStyle(s.class);o.fontSize&&(n=o.fontSize),o.fontFamily&&(r=o.fontFamily),o.fontWeight&&(a=o.fontWeight)}this.ctx.font=a+" "+n+" "+r;for(var l={width:0,height:0,parts:[]},h=t.toString().split("<br>"),d=0;d<h.length;d++){var c=h[d],u=this.ctx.measureText(c).width,f=document.createElement("span.jqxchart");f.font=this.ctx.font,f.textContent=c,document.body.appendChild(f);var p=.6*f.offsetHeight;document.body.removeChild(f),l.width=Math.max(l.width,e.jqx._rup(u)),l.height+=p+(d>0?4:0),l.parts.push({width:u,height:p,text:c})}return l},_measureText:function(t,i,s,r){return e.jqx.commonRenderer.measureText(t,i,s,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,s,r,n,a,o,l,h,d){var c=this.shape("text",{text:e,x:t,y:i,width:s,height:r,angle:n,clip:o,halign:l,valign:h,rotateAround:d});if(a&&this.attr(c,a),c.fontFamily="Arial",c.fontSize="10pt",c.fontWeight="",c.color="#000000",a&&a.class){var u=this._getCSSStyle(a.class);c.fontFamily=u.fontFamily||c.fontFamily,c.fontSize=u.fontSize||c.fontSize,c.fontWeight=u.fontWeight||c.fontWeight,c.color=u.color||c.color}var f=this._measureText(e,0,a,!0);return this.attr(c,{textPartsInfo:f.textPartsInfo,textWidth:f.width,textHeight:f.height}),(s<=0||isNaN(s))&&this.attr(c,{width:f.width}),(r<=0||isNaN(r))&&this.attr(c,{height:f.height}),c},_toLinearGradient:function(t,i,s){if(this._renderers._gradients[t])return t;for(var r=[],n=0;n<s.length;n++)r.push({percent:s[n][0]/100,color:e.jqx.adjustColor(t,s[n][1])});var a="gr"+this._gradientId++;return this.createGradient(a,i?"vertical":"horizontal",r),a},_toRadialGradient:function(t,i){if(this._renderers._gradients[t])return t;for(var s=[],r=0;r<i.length;r++)s.push({percent:i[r][0]/100,color:e.jqx.adjustColor(t,i[r][1])});var n="gr"+this._gradientId++;return this.createGradient(n,"radial",s),n},createGradient:function(e,t,i){this._renderers.createGradient(this,e,t,i)},_renderers:{createGradient:function(e,t,i,s){e._gradients[t]={orientation:i,colorStops:s}},setStroke:function(e,t){var i=e.ctx;i.strokeStyle=t.stroke||"transparent",i.lineWidth=t["stroke-width"]||1,void 0!=t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:void 0!=t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,i.setLineDash&&(t["stroke-dasharray"]?i.setLineDash(t["stroke-dasharray"].split(",")):i.setLineDash([]))},setFillStyle:function(t,i){var s=t.ctx;if(s.fillStyle="transparent",void 0!=i["fill-opacity"]?s.globalAlpha=i["fill-opacity"]:void 0!=i.opacity?s.globalAlpha=i.opacity:s.globalAlpha=1,i.fill&&-1==i.fill.indexOf("#")&&t._gradients[i.fill]){var r,n="horizontal"!=t._gradients[i.fill].orientation,a="radial"==t._gradients[i.fill].orientation,o=e.jqx.ptrnd(i.x),l=e.jqx.ptrnd(i.y),h=e.jqx.ptrnd(i.x+(n?0:i.width)),d=e.jqx.ptrnd(i.y+(n?i.height:0));"circle"!=i.type&&"path"!=i.type&&"rect"!=i.type||!a||(x=e.jqx.ptrnd(i.x),y=e.jqx.ptrnd(i.y),r1=i.innerRadius||0,r2=i.outerRadius||i.r||0,"rect"==i.type&&(x+=i.width/2,y+=i.height/2),r=s.createRadialGradient(x,y,r1,x,y,r2)),a||((isNaN(o)||isNaN(h)||isNaN(l)||isNaN(d))&&(o=0,l=0,h=n?0:s.canvas.width,d=n?s.canvas.height:0),r=s.createLinearGradient(o,l,h,d));for(var c=t._gradients[i.fill].colorStops,u=0;u<c.length;u++)r.addColorStop(c[u].percent,c[u].color);s.fillStyle=r}else i.fill&&(s.fillStyle=i.fill)},rect:function(t,i){0!=i.width&&0!=i.height&&(t.fillRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height),t.strokeRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height))},circle:function(t,i){0!=i.r&&(t.beginPath(),t.arc(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.r,0,2*Math.PI,!1),t.closePath(),t.fill(),t.stroke())},_parsePoint:function(e){return{x:this._parseNumber(e),y:this._parseNumber(e)}},_parseNumber:function(e){for(var t=!1,i=this._pos;i<e.length;i++)if(e[i]>="0"&&e[i]<="9"||"."==e[i]||"e"==e[i]||"-"==e[i]&&!t||"-"==e[i]&&i>=1&&"e"==e[i-1])t=!0;else{if(t||" "!=e[i]&&","!=e[i])break;this._pos++}var s=parseFloat(e.substring(this._pos,i));if(!isNaN(s))return this._pos=i,s},_cmds:"mlcazq",_isRelativeCmd:function(t){return e.jqx.string.contains(this._cmds,t)},_parseCmd:function(t){for(var i=this._pos;i<t.length;i++){if(e.jqx.string.containsIgnoreCase(this._cmds,t[i]))return this._pos=i+1,this._lastCmd=t[i],this._lastCmd;if(" "!=t[i]){if(t[i]>="0"&&t[i]<="9"){if(this._pos=i,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}},_toAbsolutePoint:function(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}},path:function(e,t){var i=t.d;this._pos=0,this._lastCmd="";var s=void 0;this._currentPoint={x:0,y:0},e.beginPath();for(;this._pos<i.length;){var r=this._parseCmd(i);if(void 0==r)break;if("M"!=r&&"m"!=r)if("L"!=r&&"l"!=r)if("A"!=r&&"a"!=r)if("Z"!=r&&"z"!=r||void 0==s)if("C"!=r&&"c"!=r)if("Q"!=r&&"q"!=r);else{var n=this._parsePoint(i),a=this._parsePoint(i);e.quadraticCurveTo(n.x,n.y,a.x,a.y),this._currentPoint=a}else{var n=this._parsePoint(i),a=this._parsePoint(i),o=this._parsePoint(i);e.bezierCurveTo(n.x,n.y,a.x,a.y,o.x,o.y),this._currentPoint=o}else e.lineTo(s.x,s.y),this._currentPoint=s;else{var l=this._parseNumber(i),h=this._parseNumber(i),d=this._parseNumber(i)*(Math.PI/180),c=this._parseNumber(i),u=this._parseNumber(i),f=this._parsePoint(i);if(this._isRelativeCmd(r)&&(f=this._toAbsolutePoint(f)),0==l||0==h)continue;var p=this._currentPoint,m={x:Math.cos(d)*(p.x-f.x)/2+Math.sin(d)*(p.y-f.y)/2,y:-Math.sin(d)*(p.x-f.x)/2+Math.cos(d)*(p.y-f.y)/2},g=Math.pow(m.x,2)/Math.pow(l,2)+Math.pow(m.y,2)/Math.pow(h,2);g>1&&(l*=Math.sqrt(g),h*=Math.sqrt(g));var v=(c==u?-1:1)*Math.sqrt((Math.pow(l,2)*Math.pow(h,2)-Math.pow(l,2)*Math.pow(m.y,2)-Math.pow(h,2)*Math.pow(m.x,2))/(Math.pow(l,2)*Math.pow(m.y,2)+Math.pow(h,2)*Math.pow(m.x,2)));isNaN(v)&&(v=0);var x={x:v*l*m.y/h,y:v*-h*m.x/l},y={x:(p.x+f.x)/2+Math.cos(d)*x.x-Math.sin(d)*x.y,y:(p.y+f.y)/2+Math.sin(d)*x.x+Math.cos(d)*x.y},w=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},b=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(w(e)*w(t))},_=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(b(e,t))},T=_([1,0],[(m.x-x.x)/l,(m.y-x.y)/h]),j=[(m.x-x.x)/l,(m.y-x.y)/h],C=[(-m.x-x.x)/l,(-m.y-x.y)/h],S=_(j,C);b(j,C)<=-1&&(S=Math.PI),b(j,C)>=1&&(S=0),0==u&&S>0&&(S-=2*Math.PI),1==u&&S<0&&(S+=2*Math.PI);var b=l>h?l:h,q=l>h?1:l/h,k=l>h?h/l:1;e.translate(y.x,y.y),e.rotate(d),e.scale(q,k),e.arc(0,0,b,T,T+S,1-u),e.scale(1/q,1/k),e.rotate(-d),e.translate(-y.x,-y.y)}else{var D=this._parsePoint(i);if(void 0==D)break;e.lineTo(D.x,D.y),this._currentPoint=D}else{var D=this._parsePoint(i);if(void 0==D)break;e.moveTo(D.x,D.y),this._currentPoint=D,void 0==s&&(s=D)}}e.fill(),e.stroke(),e.closePath()},text:function(t,i){var s=e.jqx.ptrnd(i.x),r=e.jqx.ptrnd(i.y),n=e.jqx.ptrnd(i.width),a=e.jqx.ptrnd(i.height),o=i.halign,l=i.valign,h=i.angle,d=i.rotateAround,c=i.textPartsInfo,u=c.parts,f=i.clip;void 0==f&&(f=!0),t.save(),o||(o="center"),l||(l="center"),f&&(t.rect(s,r,n,a),t.clip());var p=i.textWidth,m=i.textHeight,g=n||0,v=a||0;if(t.fillStyle=i.color,t.font=i.fontWeight+" "+i.fontSize+" "+i.fontFamily,!h||0==h){r+=m,"center"==l||"middle"==l?r+=(v-m)/2:"bottom"==l&&(r+=v-m),n||(n=p),a||(a=m);for(var x=0,y=u.length-1;y>=0;y--){var w=u[y],b=s,_=u[y].width;u[y].height;"center"==o?b+=(g-_)/2:"right"==o&&(b+=g-_),t.fillText(w.text,b,r+x),x-=w.height+(y>0?4:0)}return void t.restore()}var T=e.jqx.commonRenderer.alignTextInRect(s,r,n,a,p,m,o,l,h,d);s=T.x,r=T.y;var j=h*Math.PI*2/360;t.translate(s,r),t.rotate(j);for(var x=0,C=c.width,y=u.length-1;y>=0;y--){var b=0;"center"==o?b+=(C-u[y].width)/2:"right"==o&&(b+=C-u[y].width),t.fillText(u[y].text,b,x),x-=u[y].height+4}t.restore()}},refresh:function(){this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height);for(var e in this._elements){var t=this._elements[e];this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}},e.jqx.createRenderer=function(t,i){var s=t,r=s.renderer=null;if(document.createElementNS&&"HTML5"!=s.renderEngine&&"VML"!=s.renderEngine&&(r=new e.jqx.svgRenderer,!r.init(i))){if("SVG"==s.renderEngine)throw"Your browser does not support SVG";return null}if(null==r&&"HTML5"!=s.renderEngine){if(r=new e.jqx.vmlRenderer,!r.init(i)){if("VML"==s.renderEngine)throw"Your browser does not support VML";return null}s._isVML=!0}if(null==r&&("HTML5"==s.renderEngine||void 0==s.renderEngine)&&(r=new e.jqx.HTML5Renderer,!r.init(i)))throw"Your browser does not support HTML5 Canvas";return s.renderer=r,r},e.jqx._widgetToImage=function(t,i,s,r,n,a){var o=t;if(!o)return!1;void 0!=s&&""!=s||(s="image."+i);var l=o.renderEngine,h=o.enableAnimations;if(o.enableAnimations=!1,o.renderEngine="HTML5",o.renderEngine!=l)try{o.refresh()}catch(e){return o.renderEngine=l,o.refresh(),o.enableAnimations=h,!1}var d=o.renderer.getContainer().find("canvas")[0],c=!0;e.isFunction(a)&&(c=a(t,d));var u=!0;return c&&(u=e.jqx.exportImage(d,i,s,r,n)),o.renderEngine!=l&&(o.renderEngine=l,o.refresh(),o.enableAnimations=h),u},e.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&void 0==t;i++)void 0==t&&void 0!=e[i]&&(t=e[i]);return t},e.jqx.exportImage=function(t,i,s,r,n){if(!t)return!1;var a="pdf"===i.toLowerCase();if(a&&(i="jpeg"),void 0!=s&&""!=s||(s="image."+i),void 0==r||""==r)throw"Please specifiy export server";var o=!0;try{if(t){var l=t.toDataURL("image/"+i);if(a){e.jqx.pdfExport||(e.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var h=595;switch(e.jqx.pdfExport.paperSize){case"legal":var h=612;"portrait"!==e.jqx.pdfExport.orientation&&(h=1008);break;case"letter":var h=612;"portrait"!==e.jqx.pdfExport.orientation&&(h=792);break;case"a3":var h=841;"portrait"!==e.jqx.pdfExport.orientation&&(h=1190);break;case"a4":var h=595;"portrait"!==e.jqx.pdfExport.orientation&&(h=842);break;case"a5":var h=420;"portrait"!==e.jqx.pdfExport.orientation&&(h=595)}var d=e(t).width(),c=72*d/96;c>=h-20&&(c=h-20);var u=new pdfDataExport(e.jqx.pdfExport.orientation,"pt",e.jqx.pdfExport.paperSize);return u.addImage(l,"JPEG",10,10,c,0),void u.save(s)}if(l=l.replace("data:image/"+i+";base64,",""),n)e.ajax({dataType:"string",url:r,type:"POST",data:{content:l,fname:s},async:!1,success:function(e,t,i){o=!0},error:function(e,t,i){o=!1}});else{var f=document.createElement("form");f.method="POST",f.action=r,f.style.display="none",document.body.appendChild(f);var p=document.createElement("input");p.name="fname",p.value=s,p.style.display="none";var m=document.createElement("input");m.name="content",m.value=l,m.style.display="none",f.appendChild(p),f.appendChild(m),f.submit(),document.body.removeChild(f),o=!0}}}catch(e){o=!1}return o}}(jqxBaseFramework),function(e){jqxPlot=function(){},jqxPlot.prototype={get:function(e,t,i){return void 0!==i?e[t][i]:e[t]},min:function(e,t){for(var i=NaN,s=0;s<e.length;s++){var r=this.get(e,s,t);(isNaN(i)||r<i)&&(i=r)}return i},max:function(e,t){for(var i=NaN,s=0;s<e.length;s++){var r=this.get(e,s,t);(isNaN(i)||r>i)&&(i=r)}return i},sum:function(e,t){for(var i=0,s=0;s<e.length;s++){var r=this.get(e,s,t);isNaN(r)||(i+=r)}return i},count:function(e,t){for(var i=0,s=0;s<e.length;s++){var r=this.get(e,s,t);isNaN(r)||i++}return i},avg:function(e,t){return this.sum(e,t)/Math.max(1,count(e,t))},filter:function(e,t){if(!t)return e;for(var i=[],s=0;s<e.length;s++)t(e[s])&&i.push(e[s]);return i},scale:function(t,i,s,r){if(isNaN(t))return NaN;if((t<Math.min(i.min,i.max)||t>Math.max(i.min,i.max))&&(!r||!0!==r.ignore_range))return NaN;var n=NaN,a=1;if(void 0===i.type||"logarithmic"!=i.type){var o=Math.abs(i.max-i.min);o||(o=1),a=Math.abs(t-Math.min(i.min,i.max))/o}else if("logarithmic"===i.type){var l=i.base;isNaN(l)&&(l=10);var h=Math.min(i.min,i.max);h<=0&&(h=1);var d=Math.max(i.min,i.max);d<=0&&(d=1);var c=e.jqx.log(d,l);d=Math.pow(l,c);var u=e.jqx.log(h,l);h=Math.pow(l,u);var f=e.jqx.log(t,l);a=Math.abs(f-u)/(c-u)}if("logarithmic"===s.type){var l=s.base;isNaN(l)&&(l=10);var c=e.jqx.log(s.max,l),u=e.jqx.log(s.min,l);s.flip&&(a=1-a);var f=Math.min(u,c)+a*Math.abs(c-u);n=Math.pow(l,f)}else n=Math.min(s.min,s.max)+a*Math.abs(s.max-s.min),s.flip&&(n=Math.max(s.min,s.max)-n+s.min);return n},axis:function(t,i,s){if(s<=1)return[i,t];(isNaN(s)||s<2)&&(s=2);for(var r=0;Math.round(t)!=t&&Math.round(i)!=i&&r<10;)t*=10,i*=10,r++;for(var n=(i-t)/s;r<10&&Math.round(n)!=n;)t*=10,i*=10,n*=10,r++;for(var a=[1,2,5],o=0;;){var l=o%a.length,h=Math.floor(o/a.length),d=Math.pow(10,h)*a[l];l=(o+1)%a.length,h=Math.floor((o+1)/a.length);var c=Math.pow(10,h)*a[l];if(n>=d&&n<c)break;o++}for(var u=c,f=[],p=e.jqx._rnd(t,u,!1),m=r<=0?1:Math.pow(10,r);p<i+u;)f.push(p/m),p+=u;return f}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxChart","",{}),e.extend(e.jqx._jqxChart.prototype,{defineInstance:function(){e.extend(!0,this,this._defaultSettings),this._createColorsCache()},_defaultSettings:{title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},
valueAxis:null,renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,toolTipShowDelay:500,toolTipDelay:500,toolTipHideDelay:4e3,toolTipMoveDuration:300,toolTipFormatFunction:null,toolTipAlignment:"dataPoint",localization:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,_isSelectorRefresh:!1,_sliders:[],_selectorRange:[],_rangeSelectorInstances:{},_resizeState:{},renderer:null,_isRangeSelectorInstance:!1,drawBefore:null,draw:null,_renderData:{},enableSampling:!0},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},destroy:function(){this.host.remove()},_jqxPlot:null,createInstance:function(t){if(!e.jqx.dataAdapter)throw"jqxdata.js is not loaded";var i=this;i._refreshOnDownloadComlete(),i._isTouchDevice=e.jqx.mobile.isTouchDevice(),i._jqxPlot||(i._jqxPlot=new jqxPlot),i.addHandler(i.host,i._getEvent("mousemove"),function(t){if(0!=i.enabled){i._isRangeSelectorInstance||i.host.css("cursor","default");var s=t.pageX||t.clientX||t.screenX,r=t.pageY||t.clientY||t.screenY,n=i.host.offset();if(i._isTouchDevice){var a=e.jqx.position(t);s=a.left,r=a.top}s-=n.left,r-=n.top,i.onmousemove(s,r)}}),i.addHandler(i.host,i._getEvent("mouseleave"),function(e){if(0!=i.enabled){var t=i._mouseX,s=i._mouseY,r=i._plotRect;r&&t>=r.x&&t<=r.x+r.width&&s>=r.y&&s<=r.y+r.height||(i._cancelTooltipTimer(),i._hideToolTip(0),i._unselect())}}),i.addHandler(i.host,"click",function(t){if(0!=i.enabled){var s=t.pageX||t.clientX||t.screenX,r=t.pageY||t.clientY||t.screenY,n=i.host.offset();if(i._isTouchDevice){var a=e.jqx.position(t);s=a.left,r=a.top}s-=n.left,r-=n.top,i._mouseX=s,i._mouseY=r,!isNaN(i._lastClickTs)&&(new Date).valueOf()-i._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){if(i._isTouchDevice||(i._cancelTooltipTimer(),i._hideToolTip(),i._unselect()),i._pointMarker&&i._pointMarker.element){var e=i.seriesGroups[i._pointMarker.gidx],s=e.series[i._pointMarker.sidx];t.stopImmediatePropagation(),i._raiseItemEvent("click",e,s,i._pointMarker.iidx)}},100))}});var s=i.element.style;if(s){var r=!1;null!=s.width&&(r|=-1!=s.width.toString().indexOf("%")),null!=s.height&&(r|=-1!=s.height.toString().indexOf("%")),r&&e.jqx.utilities.resize(this.host,function(){i.timer&&clearTimeout(i.timer);i.timer=setTimeout(function(){var e=i.enableAnimations;i.enableAnimations=!1,i.refresh(),i.enableAnimations=e},1)},!1,!0)}},_refreshOnDownloadComlete:function(){var t=this,i=this.source;if(i instanceof e.jqx.dataAdapter){var s=i._options;(void 0==s||void 0!=s&&!s.autoBind)&&(i.autoSync=!1,i.dataBind());var r=this.element.id;if(0==i.records.length){var n=function(){t.ready&&t.ready(),t.refresh()};i.unbindDownloadComplete(r),i.bindDownloadComplete(r,n)}else t.ready&&t.ready();i.unbindBindingUpdate(r),i.bindBindingUpdate(r,function(){t._supressBindingRefresh||t.refresh()})}},propertyChangedHandler:function(e,t,i,s){void 0!=this.isInitialized&&0!=this.isInitialized&&("source"==t&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(t){if(!e.jqx.createRenderer)throw"Please include jqxdraw.js";return e.jqx.createRenderer(this,t)},_internalRefresh:function(){var t=this;if(!e.jqx.isHidden(t.host)){t._stopAnimations(),t.renderer&&(t._isToggleRefresh||t._isUpdate)||(t._hideToolTip(0),t._isVML=!1,t.host.empty(),t._measureDiv=void 0,t._initRenderer(t.host));var i=t.renderer;if(i){var s=i.getRect();t._render({x:1,y:1,width:s.width,height:s.height}),this._raiseEvent("refreshBegin",{instance:this}),i instanceof e.jqx.HTML5Renderer&&i.refresh(),t._isUpdate=!1,this._raiseEvent("refreshEnd",{instance:this})}}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)},saveAsPDF:function(e,t,i){return this._saveAsImage("pdf",e,t,i)},_saveAsImage:function(t,i,s,r){for(var n=!1,a=0;a<this.seriesGroups.length&&!n;a++){var o=this._getXAxis(a);o&&o.rangeSelector&&(n=!0)}return e.jqx._widgetToImage(this,t,i,s,r,n?this._selectorSaveAsImageCallback:void 0)},_selectorSaveAsImageCallback:function(t,i){for(var s=t,r=0;r<s.seriesGroups.length;r++){var n=s._getXAxis(r);if(n&&n.rangeSelector&&!n.rangeSelector.renderTo){var a=s._rangeSelectorInstances[r];if(a){var o=a.jqxChart("getInstance"),l=(o.renderEngine,o.renderer.getRect()),h=o.renderer.getContainer().find("canvas")[0],d=h.getContext("2d"),c=s._sliders[r],u="horizontal"==s.seriesGroups[r].orientation,f=u?"height":"width",p=u?"width":"height",m=u?"y":"x",g=u?"x":"y",v={};v[m]=c.startOffset+c.rect[m],v[g]=c.rect[g],v[f]=c.endOffset-c.startOffset,v[p]=c.rect[p];var x=n.rangeSelector.colorSelectedRange||"blue",y=(n.rangeSelector.colorUnselectedRange,n.rangeSelector.colorRangeLine||"grey"),w=[];w.push(o.renderer.rect(v.x,v.y,v.width,v.height,{fill:x,opacity:.1})),u?(w.push(o.renderer.line(e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(c.rect.y),e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(v.y),{stroke:y,opacity:.5})),w.push(o.renderer.line(e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(v.y+v.height),e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(c.rect.y+c.rect.height),{stroke:y,opacity:.5})),w.push(o.renderer.line(e.jqx._ptrnd(c.rect.x),e.jqx._ptrnd(v.y),e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(v.y),{stroke:y,opacity:.5})),w.push(o.renderer.line(e.jqx._ptrnd(c.rect.x),e.jqx._ptrnd(v.y+v.height),e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(v.y+v.height),{stroke:y,opacity:.5}))):(w.push(o.renderer.line(e.jqx._ptrnd(c.rect.x),e.jqx._ptrnd(c.rect.y),e.jqx._ptrnd(v.x),e.jqx._ptrnd(c.rect.y),{stroke:y,opacity:.5})),w.push(o.renderer.line(e.jqx._ptrnd(v.x+v.width),e.jqx._ptrnd(c.rect.y),e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(c.rect.y),{stroke:y,opacity:.5})),w.push(o.renderer.line(e.jqx._ptrnd(v.x),e.jqx._ptrnd(c.rect.y),e.jqx._ptrnd(v.x),e.jqx._ptrnd(c.rect.y+c.rect.height),{stroke:y,opacity:.5})),w.push(o.renderer.line(e.jqx._ptrnd(v.x+v.width),e.jqx._ptrnd(c.rect.y),e.jqx._ptrnd(v.x+v.width),e.jqx._ptrnd(c.rect.y+c.rect.height),{stroke:y,opacity:.5}))),o.renderer.refresh();var b=d.getImageData(l.x,l.y,l.width,l.height);i.getContext("2d").putImageData(b,parseInt(a.css("left")),parseInt(a.css("top")),1,1,l.width,l.height);for(var _=0;_<w.length;_++)o.renderer.removeElement(w[_]);o.renderer.refresh()}}}return!0},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],clear:function(){var e=this;for(var t in e._defaultSettings)e[t]=e._defaultSettings[t];e.title="",e.description="",e.refresh()},_validateSeriesGroups:function(){if(!e.isArray(this.seriesGroups))throw"Invalid property: 'seriesGroups' property is required and must be a valid array.";for(var t=0;t<this.seriesGroups.length;t++){var i=this.seriesGroups[t];if(!i.type)throw"Invalid property: Each series group must have a valid 'type' property.";if(!e.isArray(i.series))throw"Invalid property: Each series group must have a 'series' property which must be a valid array."}},_render:function(t){var i=this,s=i.renderer;i._validateSeriesGroups(),i._colorsCache.clear(),!i._isToggleRefresh&&i._isUpdate&&i._renderData&&i._renderDataClone(),i._renderData=[],s.clear(),i._unselect(),i._hideToolTip(0);var r=i.backgroundImage;void 0==r||""==r?i.host.css({"background-image":""}):i.host.css({"background-image":-1!=r.indexOf("(")?r:"url('"+r+"')"}),i._rect=t;var n=i.padding||{left:5,top:5,right:5,bottom:5},a=s.createClipRect(t),o=s.beginGroup();s.setClip(o,a);var l=s.rect(t.x,t.y,t.width-2,t.height-2);if(void 0==r||""==r?s.attr(l,{fill:i.backgroundColor||i.background||"white"}):s.attr(l,{fill:"transparent"}),0!=i.showBorderLine){var h=void 0==i.borderLineColor?i.borderColor:i.borderLineColor;void 0==h&&(h=i._defaultLineColor);var d=this.borderLineWidth;(isNaN(d)||d<0||d>10)&&(d=1),s.attr(l,{"stroke-width":d,stroke:h})}else e.jqx.browser.msie&&e.jqx.browser.version<9&&s.attr(l,{"stroke-width":1,stroke:i.backgroundColor||"white"});e.isFunction(i.drawBefore)&&i.drawBefore(s,t);var c={x:n.left,y:n.top,width:t.width-n.left-n.right,height:t.height-n.top-n.bottom};i._paddedRect=c;var u,f=i.titlePadding||{left:2,top:2,right:2,bottom:2};if(i.title&&i.title.length>0){var p=i.toThemeProperty("jqx-chart-title-text",null);u=s.measureText(i.title,0,{class:p}),s.text(i.title,c.x+f.left,c.y+f.top,c.width-(f.left+f.right),u.height,0,{class:p},!0,"center","center"),c.y+=u.height,c.height-=u.height}if(i.description&&i.description.length>0){var m=i.toThemeProperty("jqx-chart-title-description",null);u=s.measureText(i.description,0,{class:m}),s.text(i.description,c.x+f.left,c.y+f.top,c.width-(f.left+f.right),u.height,0,{class:m},!0,"center","center"),c.y+=u.height,c.height-=u.height}(i.title||i.description)&&(c.y+=f.bottom+f.top,c.height-=f.bottom+f.top);var g={x:c.x,y:c.y,width:c.width,height:c.height};i._plotRect=g,i._buildStats(g);for(var v,x=i._isPieOnlySeries(),y=i.seriesGroups,w={xAxis:{},valueAxis:{}},b=0;b<y.length&&!x;b++)if("pie"!=y[b].type&&"donut"!=y[b].type){var _=i._getXAxis(b);if(!_)throw"seriesGroup["+b+"] is missing xAxis definition";var T=_==i._getXAxis()?-1:b;w.xAxis[T]=0}var j=i.axisPadding;isNaN(j)&&(j=5);var C={left:0,right:0,leftCount:0,rightCount:0},S=[];for(b=0;b<y.length;b++){var q=y[b];if("pie"!=q.type&&"donut"!=q.type&&1!=q.spider&&1!=q.polar){v="horizontal"==q.orientation;var _=i._getXAxis(b),T=_==i._getXAxis()?-1:b,k=i._getValueAxis(b),D=k==i._getValueAxis()?-1:b,I=v?_.axisSize:k.axisSize,M={x:0,y:g.y,width:g.width,height:g.height},P=v?i._getXAxis(b).position:k.position;I&&"auto"!=I||(v?(I=this._renderXAxis(b,M,!0,g).width,1==(1&w.xAxis[T])?I=0:I>0&&(w.xAxis[T]|=1)):(I=i._renderValueAxis(b,M,!0,g).width,1==(1&w.valueAxis[D])?I=0:I>0&&(w.valueAxis[D]|=1))),"left"!=P&&1==i.rtl&&(P="right"),"right"!=P&&(P="left"),C[P+"Count"]>0&&C[P]>0&&I>0&&(C[P]+=j),S.push({width:I,position:P,xRel:C[P]}),C[P]+=I,C[P+"Count"]++}else S.push({width:0,position:0,xRel:0})}var H=Math.max(1,Math.max(t.width,t.height)),A={top:0,bottom:0,topCount:0,bottomCount:0},B=[];for(b=0;b<y.length;b++){var q=y[b];if("pie"!=q.type&&"donut"!=q.type&&1!=q.spider&&1!=q.polar){v="horizontal"==q.orientation;var k=this._getValueAxis(b),D=k==i._getValueAxis()?-1:b,_=i._getXAxis(b),T=_==i._getXAxis()?-1:b,N=v?k.axisSize:_.axisSize,P=v?k.position:_.position;N&&"auto"!=N||(v?(N=i._renderValueAxis(b,{x:0,y:0,width:H,height:0},!0,g).height,2==(2&w.valueAxis[D])?N=0:N>0&&(w.valueAxis[D]|=2)):(N=i._renderXAxis(b,{x:0,y:0,width:H,height:0},!0).height,2==(2&w.xAxis[T])?N=0:N>0&&(w.xAxis[T]|=2))),"top"!=P&&(P="bottom"),A[P+"Count"]>0&&A[P]>0&&N>0&&(A[P]+=j),B.push({height:N,position:P,yRel:A[P]}),A[P]+=N,A[P+"Count"]++}else B.push({height:0,position:0,yRel:0})}i._createAnimationGroup("series");var O=0!=i.showLegend,E=O?i._renderLegend(i.legendLayout?i._rect:c,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(E={width:0,height:0}),c.height<A.top+A.bottom+E.height||c.width<C.left+C.right)return void s.endGroup();g.height-=A.top+A.bottom+E.height,g.x+=C.left,g.width-=C.left+C.right,g.y+=A.top;var z=[];if(!x){i._getXAxis().tickMarksColor||i._defaultLineColor;for(b=0;b<y.length;b++){var q=y[b];if(1!=q.polar&&1!=q.spider&&"pie"!=q.type&&"donut"!=q.type){v="horizontal"==q.orientation;var T=i._getXAxis(b)==i._getXAxis()?-1:b,D=i._getValueAxis(b)==i._getValueAxis()?-1:b,M={x:g.x,y:0,width:g.width,height:B[b].height};if("top"!=B[b].position?M.y=g.y+g.height+B[b].yRel:M.y=g.y-B[b].yRel-B[b].height,v){if(4==(4&w.valueAxis[D]))continue;if(!i._isGroupVisible(b))continue;i._renderValueAxis(b,M,!1,g),w.valueAxis[D]|=4}else{if(z.push(M),4==(4&w.xAxis[T]))continue;if(!i._isGroupVisible(b))continue;i._renderXAxis(b,M,!1,g),w.xAxis[T]|=4}}}}if(O){var L=i.legendLayout?i._rect:c,F=c.x+e.jqx._ptrnd((c.width-E.width)/2),R=g.y+g.height+A.bottom,I=c.width,N=E.height;i.legendLayout&&(isNaN(i.legendLayout.left)||(F=i.legendLayout.left),isNaN(i.legendLayout.top)||(R=i.legendLayout.top),isNaN(i.legendLayout.width)||(I=i.legendLayout.width),isNaN(i.legendLayout.height)||(N=i.legendLayout.height)),F+I>L.x+L.width&&(I=L.x+L.width-F),R+N>L.y+L.height&&(N=L.y+L.height-R),i._renderLegend({x:F,y:R,width:I,height:N})}if(i._hasHorizontalLines=!1,!x)for(b=0;b<y.length;b++){var q=y[b];if(1!=q.polar&&1!=q.spider&&"pie"!=q.type&&"donut"!=q.type){v="horizontal"==y[b].orientation;var M={x:g.x-S[b].xRel-S[b].width,y:g.y,width:S[b].width,height:g.height};"left"!=S[b].position&&(M.x=g.x+g.width+S[b].xRel);var T=i._getXAxis(b)==i._getXAxis()?-1:b,D=i._getValueAxis(b)==i._getValueAxis()?-1:b;if(v){if(z.push(M),8==(8&w.xAxis[T]))continue;if(!i._isGroupVisible(b))continue;i._renderXAxis(b,M,!1,g),w.xAxis[T]|=8}else{if(8==(8&w.valueAxis[D]))continue;if(!i._isGroupVisible(b))continue;i._renderValueAxis(b,M,!1,g),w.valueAxis[D]|=8}}}if(!(g.width<=0||g.height<=0)){for(i._plotRect={x:g.x,y:g.y,width:g.width,height:g.height},b=0;b<y.length;b++)this._drawPlotAreaLines(b,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(b,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(b=0;b<y.length;b++)this._drawPlotAreaLines(b,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(b,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var W=!1;for(b=0;b<y.length&&!W;b++){var q=y[b];if(void 0!==q.annotations||e.isFunction(q.draw)||e.isFunction(q.drawBefore)){W=!0;break}}var V=s.beginGroup();if(!W){var U=s.createClipRect({x:g.x-2,y:g.y,width:g.width+4,height:g.height});s.setClip(V,U)}for(b=0;b<y.length;b++){var q=y[b],Y=!1;for(var G in i._seriesTypes)if(i._seriesTypes[G]==q.type){Y=!0;break}if(!Y)throw'Invalid serie type "'+q.type+'"';e.isFunction(q.drawBefore)&&q.drawBefore(s,t,b,this),1!=q.polar&&1!=q.spider||-1==q.type.indexOf("pie")&&-1==q.type.indexOf("donut")&&i._renderSpiderAxis(b,g),i._renderAxisBands(b,g,!0),i._renderAxisBands(b,g,!1)}for(b=0;b<y.length;b++){var q=y[b];if(i._isColumnType(q.type)?i._renderColumnSeries(b,g):-1!=q.type.indexOf("pie")||-1!=q.type.indexOf("donut")?i._renderPieSeries(b,g):-1!=q.type.indexOf("line")||-1!=q.type.indexOf("area")?i._renderLineSeries(b,g):-1!=q.type.indexOf("scatter")||-1!=q.type.indexOf("bubble")?i._renderScatterSeries(b,g):-1==q.type.indexOf("candlestick")&&-1==q.type.indexOf("ohlc")||i._renderCandleStickSeries(b,g,-1!=q.type.indexOf("ohlc")),q.annotations){if(!this._moduleAnnotations)throw"Please include 'jqxchart.annotations.js'";for(var $=0;$<q.annotations.length;$++)i._renderAnnotation(b,q.annotations[$],g)}e.isFunction(q.draw)&&i.draw(s,t,b,this)}if(s.endGroup(),0==i.enabled){var K=s.rect(t.x,t.y,t.width,t.height);s.attr(K,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})}e.isFunction(i.draw)&&i.draw(s,t),s.endGroup(),i._startAnimation("series");for(var X=!1,b=0;b<i.seriesGroups.length&&!X;b++){var _=i._getXAxis(b);_&&_.rangeSelector&&(X=!0)}if(X){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";var J=[];for(this._isSelectorRefresh||(i.removeHandler(e(document),i._getEvent("mousemove"),i._onSliderMouseMove),i.removeHandler(e(document),i._getEvent("mousedown"),i._onSliderMouseDown),i.removeHandler(e(document),i._getEvent("mouseup"),i._onSliderMouseUp)),i._isSelectorRefresh||(i._rangeSelectorInstances={}),b=0;b<i.seriesGroups.length;b++){var Z=this._getXAxis(b);-1==J.indexOf(Z)&&this._renderXAxisRangeSelector(b,z[b])&&J.push(Z)}}}},_isPieOnlySeries:function(){var e=this.seriesGroups;if(0==e.length)return!1;for(var t=0;t<e.length;t++)if("pie"!=e[t].type&&"donut"!=e[t].type)return!1;return!0},_renderChartLegend:function(t,i,s,r){var n=this,a=n.renderer,o={x:i.x,y:i.y,width:i.width,height:i.height};o.width>=6&&(o.x+=3,o.width-=6),o.height>=6&&(o.y+=3,o.height-=6);for(var l={width:o.width,height:0},h=0,d=0,c=20,u=0,f=10,p=0,m=0;m<t.length;m++){var g=t[m].css;g||(g=n.toThemeProperty("jqx-chart-legend-text",null)),c=20;var v=t[m].text,x=a.measureText(v,0,{class:g});x.height>c&&(c=x.height),x.width>p&&(p=x.width),r?(0!=m&&(d+=c),d>o.height&&(d=0,h+=p+20+f,p=x.width,l.width=h+p)):(0!=h&&(h+=10),h+20+x.width>o.width&&x.width<o.width&&(h=0,d+=c,c=20,u=o.width,l.height=d+c));var y=!1;if(x.width>o.width){y=!0;for(var w=o.width,b=v,_=b.split(/\s+/),T=[],j="",C=0;C<_.length;C++){var S=j+(j.length>0?" ":"")+_[C],q=n.renderer.measureText(S,0,{class:g});q.width>w&&S.length>0&&j.length>0?(T.push({text:j}),j=_[C]):j=S,C+1==_.length&&T.push({text:j})}x.width=0;for(var k=0,D=0;D<T.length;D++){var I=T[D].text,q=n.renderer.measureText(I,0,{class:g});x.width=Math.max(x.width,q.width),k+=x.height}x.height=k}var M=h+x.width<o.width&&d+x.height<i.height;if(n.legendLayout)var M=o.x+h+x.width<n._rect.x+n._rect.width&&o.y+d+x.height<n._rect.y+n._rect.height;if(!s&&M){var P=t[m].seriesIndex,H=t[m].groupIndex,A=t[m].itemIndex,B=t[m].fillColor,N=t[m].lineColor,O=n._isSerieVisible(H,P,A),E=a.beginGroup(),z=O?t[m].opacity:.1;if(y){for(var b=v,w=o.width,_=b.split(/\s+/),L=0,T=[],j="",C=0;C<_.length;C++){var S=j+(j.length>0?" ":"")+_[C],q=n.renderer.measureText(S,0,{class:g});q.width>w&&S.length>0&&j.length>0?(T.push({text:j,dy:L}),L+=q.height,j=_[C]):j=S,C+1==_.length&&T.push({text:j,dy:L})}for(var D=0;D<T.length;D++){var I=T[D].text;L=T[D].dy;var q=n.renderer.measureText(I,0,{class:g});r?n.renderer.text(I,o.x+h+15,o.y+d+L,x.width,c,0,{class:g},!1,"left","center"):n.renderer.text(I,o.x+h+15,o.y+d+L,x.width,c,0,{class:g},!1,"center","center")}var F=a.rect(o.x+h,o.y+d+5+L/2,f,f);r&&(d+=L),n.renderer.attr(F,{fill:B,"fill-opacity":z,stroke:N,"stroke-width":1,"stroke-opacity":t[m].opacity})}else{var F=a.rect(o.x+h,o.y+d+5,f,f);n.renderer.attr(F,{fill:B,"fill-opacity":z,stroke:N,"stroke-width":1,"stroke-opacity":t[m].opacity}),r?n.renderer.text(v,o.x+h+15,o.y+d,x.width,x.height+5,0,{class:g},!1,"left","center"):n.renderer.text(v,o.x+h+15,o.y+d,x.width,c,0,{class:g},!1,"center","center")}n.renderer.endGroup(),n._setLegendToggleHandler(H,P,A,E)}r||(h+=x.width+20,u<h&&(u=h))}if(s)return l.height=e.jqx._ptrnd(d+c+5),l.width=e.jqx._ptrnd(u),l},isSerieVisible:function(e,t,i){return this._isSerieVisible(e,t,i)},_isSerieVisible:function(t,i,s){for(;this._itemsToggleState.length<t+1;)this._itemsToggleState.push([]);for(var r=this._itemsToggleState[t];r.length<i+1;)r.push(!!isNaN(s)||[]);var n=r[i];if(isNaN(s))return n;for(e.isArray(n)||(r[i]=n=[]);n.length<s+1;)n.push(!0);return n[s]},isGroupVisible:function(e){return this._isGroupVisible(e)},_isGroupVisible:function(e){var t=!1,i=this.seriesGroups[e].series;if(!i)return t;for(var s=0;s<i.length;s++)if(this._isSerieVisible(e,s)){t=!0;break}return t},_toggleSerie:function(t,i,s,r){var n=!this._isSerieVisible(t,i,s);void 0!=r&&(n=r);var a=this.seriesGroups[t],o=a.series[i];if(this._raiseEvent("toggle",{state:n,seriesGroup:a,serie:o,elementIndex:s}),isNaN(s))this._itemsToggleState[t][i]=n;else{var l=this._itemsToggleState[t][i];for(e.isArray(l)||(l=[]);l.length<s;)l.push(!0);l[s]=n}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(e,t,i){this._toggleSerie(e,t,i,!0)},hideSerie:function(e,t,i){this._toggleSerie(e,t,i,!1)},_setLegendToggleHandler:function(e,t,i,s){var r=this.seriesGroups[e],n=r.series[t],a=n.enableSeriesToggle;if(void 0==a&&(a=0!=r.enableSeriesToggle),a){var o=this;this.renderer.addHandler(s,"click",function(s){o._toggleSerie(e,t,i)})}},_renderLegend:function(e,t){for(var i=this,s=[],r=0;r<i.seriesGroups.length;r++){var n=i.seriesGroups[r];if(0!=n.showLegend)for(var a=0;a<n.series.length;a++){var o=n.series[a];if(0!=o.showLegend){var l,h=i._getSerieSettings(r,a);if("pie"!=n.type&&"donut"!=n.type){var d=o.legendFormatSettings||n.legendFormatSettings,c=o.legendFormatFunction||n.legendFormatFunction;l=i._formatValue(o.displayText||o.dataField||"",d,c,r,a,NaN);var u=i._getSeriesColors(r,a),f=this._get([o.legendFillColor,o.legendColor,u.fillColor]),p=this._get([o.legendLineColor,o.legendColor,u.lineColor]);s.push({groupIndex:r,seriesIndex:a,text:l,css:o.displayTextClass,fillColor:f,lineColor:p,opacity:h.opacity})}else for(var m=i._getXAxis(r),d=o.legendFormatSettings||n.legendFormatSettings||m.formatSettings||o.formatSettings||n.formatSettings,c=o.legendFormatFunction||n.legendFormatFunction||m.formatFunction||o.formatFunction||n.formatFunction,g=i._getDataLen(r),v=0;v<g;v++){l=i._getDataValue(v,o.displayText,r),l=i._formatValue(l,d,c,r,a,v);var u=i._getColors(r,a,v);s.push({groupIndex:r,seriesIndex:a,itemIndex:v,text:l,css:o.displayTextClass,fillColor:u.fillColor,lineColor:u.lineColor,opacity:h.opacity})}}}}return i._renderChartLegend(s,e,t,i.legendLayout&&"vertical"==i.legendLayout.flow)},_getInterval:function(e,t){if(!e)return t;var i=this._get([e.unitInterval,t]);return isNaN(e.step)||(i=e.step*t),i},_getOffsets:function(e,t,i,s,r,n,a,o,l){var h=this._getInterval(r[e],o),d=[];(""==e||r[e].visible&&"custom"!=r[e].visible)&&(d=this._generateIntervalValues(s,h,o,a,l));var c;if("labels"!=e){var u=a?n.left:0;if(!a&&o>1&&(u=n.left*(o+1)),1==d.length&&(u*=2),c=this._valuesToOffsets(d,t,s,i,n,!1,u),!a){var f=(n.left+n.right)*h/o;t.flip?c.unshift(c[0]+f):c.push(c[c.length-1]+f)}}else{var u=n.left;1==d.length&&(u*=2),c=this._valuesToOffsets(d,t,s,i,n,a,u)}var p=this._arraysToObjectsArray([d,c],["value","offset"]);if(t[e]&&t[e].custom)for(var m=this._objectsArraysToArray(t[e].custom,"value"),g=this._objectsArraysToArray(t[e].custom,"offset"),v=this._valuesToOffsets(m,t,s,i,n,a,n.left),x=0;x<t[e].custom.length;x++)p.push({value:m[x],offset:isNaN(g[x])?v[x]:g[x]});return p},_renderXAxis:function(t,i,s,r){var n=this,a=n._getXAxis(t),o=n.seriesGroups[t],l="horizontal"==o.orientation,h={width:0,height:0},d=n._getAxisSettings(a);if(!a||!d.visible||"spider"==o.type)return h;if(!n._isGroupVisible(t)||this._isPieGroup(t))return h;for(var c=n._alignValuesWithTicks(t);n._renderData.length<t+1;)n._renderData.push({});n.rtl&&(a.flip=!0);var u=l?i.height:i.width,f=a.text,p=n._calculateXOffsets(t,u),m=p.axisStats,g=a.rangeSelector,v=0;if(g){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";v=this._selectorGetSize(a)}var x=l&&"right"==a.position||!l&&"top"==a.position;!s&&g&&(l?(i.width-=v,"right"!=a.position&&(i.x+=v)):(i.height-=v,"top"==a.position&&(i.y+=v)));var y={rangeLength:p.rangeLength,itemWidth:p.itemWidth,intervalWidth:p.intervalWidth,data:p,settings:d,isMirror:x,rect:i};n._renderData[t].xAxis=y;var w=m.interval;if(isNaN(w))return h;l&&(d.title.angle-=90,d.labels.angle-=90);var b,_=this._getInterval(d.gridLines,w),T=this._getInterval(d.tickMarks,w),j=this._getInterval(d.labels,w),C=m.min,S=m.max,q=p.padding,k=1==a.flip||n.rtl,D={min:C,max:S};m.logAxis.enabled&&(D.min=m.logAxis.minPow,D.max=m.logAxis.maxPow),"date"==a.type?(d.gridLines.offsets=this._generateDTOffsets(C,S,u,q,_,w,m.dateTimeUnit,c,NaN,!1,k),d.tickMarks.offsets=this._generateDTOffsets(C,S,u,q,T,w,m.dateTimeUnit,c,NaN,!1,k),b=this._generateDTOffsets(C,S,u,q,j,w,m.dateTimeUnit,c,NaN,!0,k)):(d.gridLines.offsets=this._getOffsets("gridLines",a,u,m,d,q,c,w),d.tickMarks.offsets=this._getOffsets("tickMarks",a,u,m,d,q,c,w),b=this._getOffsets("labels",a,u,m,d,q,c,w));var I,M=n.renderer.getRect();M.width,i.x,i.width,n._getDataLen(t);n._elementRenderInfo&&n._elementRenderInfo.length>t&&(I=n._elementRenderInfo[t].xAxis);var P,H=[];d.labels.formatFunction&&(P=d.labels.formatFunction);var A;d.labels.formatSettings&&(A=e.extend({},d.labels.formatSettings)),"date"==a.type&&(a.dateFormat&&!P?A?A.dateFormat=A.dateFormat||a.dateFormat:A={dateFormat:a.dateFormat}:P||A&&(!A||A.dateFormat)||(P=this._getDefaultDTFormatFn(a.baseUnit||"day")));for(var B=0;B<b.length;B++){var N=b[B].value,O=b[B].offset;if(!isNaN(O)){var E=void 0;"date"!=a.type&&m.useIndeces&&a.dataField&&(E=Math.round(N),void 0==(N=n._getDataValue(E,a.dataField))&&(N=""));var f=n._formatValue(N,A,P,t,void 0,E);void 0!=f&&""!=f.toString()||(isNaN(E)&&(E=B),E>=m.filterRange.min&&E<=m.filterRange.max&&(f=m.useIndeces?(m.min+E).toString():void 0==N?"":N.toString()));var z={key:N,text:f,targetX:O,x:O};I&&I.itemOffsets[N]&&(z.x=I.itemOffsets[N].x,z.y=I.itemOffsets[N].y),H.push(z)}}var L=n._getAnimProps(t),F=L.enabled&&H.length<500?L.duration:0;0==n.enableAxisTextAnimation&&(F=0);var R={items:H,renderData:y},W=n._renderAxis(l,x,d,{x:i.x,y:i.y,width:i.width,height:i.height},r,w,!1,!0,R,s,F);return l?W.width+=v:W.height+=v,W},_animateAxisText:function(e,t){for(var i=e.items,s=e.textSettings,r=0;r<i.length;r++){var n=i[r];if(n&&n.visible){var a=n.targetX,o=n.targetY;isNaN(n.x)||isNaN(n.y)||(a=n.x+(a-n.x)*t,o=n.y+(o-n.y)*t),n.element&&(this.renderer.removeElement(n.element),n.element=void 0),n.element=this.renderer.text(n.text,a,o,n.width,n.height,s.angle,{class:s.style},!1,s.halign,s.valign,s.textRotationPoint)}}},_getPolarAxisCoords:function(t,i){var s=this.seriesGroups[t],r=i.x+e.jqx.getNum([s.offsetX,i.width/2]),n=i.y+e.jqx.getNum([s.offsetY,i.height/2]),a=Math.min(i.width,i.height),o=s.radius;this._isPercent(o)&&(o=parseFloat(o)/100*a/2),isNaN(o)&&(o=a/2*.6);var l=this._alignValuesWithTicks(t),h=this._get([s.startAngle,s.minAngle,0])-90;h=isNaN(h)?0:2*Math.PI*h/360;var d=this._get([s.endAngle,s.maxAngle,360])-90;if(d=isNaN(d)?2*Math.PI:2*Math.PI*d/360,h>d){var c=h;h=d,d=c}var u=e.jqx._rnd(Math.abs(h-d)/(2*Math.PI),.001,!0),f=2*Math.PI*o*u,p=this._calcGroupOffsets(t,i).xoffsets;if(p){var m=!(Math.abs(Math.abs(d-h)-2*Math.PI)>1e-5);if(s.spider){axisStats=this._getXAxisStats(t,this._getXAxis(t),f);var g=axisStats.interval;(isNaN(g)||0==g)&&(g=1);var v=(axisStats.max-axisStats.min)/g+(m?1:0);if((v=Math.round(v))>2){var x=Math.cos(Math.abs(d-h)/2/v);x=e.jqx._rnd(x,.01),0==x&&(x=1);var y=o/x;y>o&&l&&(o=y)}}return o=e.jqx._ptrnd(o),{x:r,y:n,r:o,adjR:this._get([y,o]),itemWidth:p.itemWidth,rangeLength:p.rangeLength,valuesOnTicks:l,startAngle:h,endAngle:d,isClosedCircle:m,axisSize:f}}},_toPolarCoord:function(t,i,s,r){var n=Math.abs(t.startAngle-t.endAngle)/(2*Math.PI),a=2*(s-i.x)*Math.PI*n/Math.max(1,i.width)+t.startAngle,o=(i.height+i.y-r)*t.r/Math.max(1,i.height),l=t.x+o*Math.cos(a),h=t.y+o*Math.sin(a);return{x:e.jqx._ptrnd(l),y:e.jqx._ptrnd(h)}},_renderSpiderAxis:function(t,i){var s=this,r=s._getXAxis(t),n=this._getAxisSettings(r);if(r&&n.visible){var a=s.seriesGroups[t],o=s._getPolarAxisCoords(t,i);if(o){var l=e.jqx._ptrnd(o.x),h=e.jqx._ptrnd(o.y),d=o.adjR,c=o.startAngle,u=o.endAngle;if(!(d<1)){var f=e.jqx._rnd(Math.abs(c-u)/(2*Math.PI),.001,!0),p=2*Math.PI*d*f,m=o.isClosedCircle,g=this._renderData[t].xoffsets;if(g.rangeLength){var v=g.axisStats.interval;(isNaN(v)||v<1)&&(v=1);var x="horizontal"==a.orientation;for(x&&"right"==r.position||!x&&r.position;s._renderData.length<t+1;)s._renderData.push({});var y={rangeLength:g.rangeLength,itemWidth:g.itemWidth,data:g,rect:i,settings:n};s._renderData[t].xAxis=y,s._renderData[t].polarCoords=o;for(var w=!0,b=0;b<t;b++){var _=(s._renderData[b].xAxis,s._renderData[b].polarCoords),T=s._getXAxis(b),j=!1;for(var C in o)if(o[C]!=_[C]){j=!0;break}j&&T==r||(w=!1)}var S,q=n.gridLines,k=n.tickMarks,D=n.labels,I=this._getInterval(q,v),M=this._getInterval(k,v),P=this._getInterval(D,v),H=s._alignValuesWithTicks(t),A=s.renderer,B=g.axisStats,N=B.min,O=B.max,E=this._getPaddingSize(g.axisStats,r,H,p,!0,m,!1),z=1==r.flip||s.rtl;"date"==r.type?(q.offsets=this._generateDTOffsets(N,O,p,E,I,v,r.baseUnit,!0,0,!1,z),k.offsets=this._generateDTOffsets(N,O,p,E,M,v,r.baseUnit,!0,0,!1,z),S=this._generateDTOffsets(N,O,p,E,P,v,r.baseUnit,!0,0,!0,z)):(n.gridLines.offsets=this._getOffsets("gridLines",r,p,B,n,E,!0,v),n.tickMarks.offsets=this._getOffsets("tickMarks",r,p,B,n,E,!0,v),S=this._getOffsets("labels",r,p,B,n,E,!0,v));var L,F=s.renderer.getRect();F.width,i.x,i.width,s._getDataLen(t);s._elementRenderInfo&&s._elementRenderInfo.length>t&&(L=s._elementRenderInfo[t].xAxis);for(var R=[],W=this._getDataLen(t),b=0;b<S.length;b++){var V=S[b].offset,U=S[b].value;if("date"!=r.type&&B.useIndeces&&r.dataField){var Y=Math.round(U);if(Y>=W)continue;U=s._getDataValue(Y,r.dataField),void 0==U&&(U="")}var G=s._formatValue(U,D.formatSettings,D.formatFunction,t,void 0,Y);void 0!=G&&""!=G.toString()||(G=B.useIndeces?(B.min+b).toString():void 0==U?"":U.toString());var $={key:U,text:G,targetX:V,x:V};L&&L.itemOffsets[U]&&($.x=L.itemOffsets[U].x,$.y=L.itemOffsets[U].y),R.push($)}var K={stroke:q.color,fill:"none","stroke-width":q.width,"stroke-dasharray":q.dashStyle||""};if(!a.spider)if(1==f)A.circle(l,h,d,K);else{var X=-c/Math.PI*180,J=-u/Math.PI*180;this.renderer.pieslice(l,h,0,d,Math.min(X,J),Math.max(X,J),void 0,K)}var Z=R.length,Q=(Math.PI,c);if(q.visible&&w){H||m||q.offsets.unshift({offset:-E.right});for(var b=0;b<q.offsets.length;b++){var ee=q.offsets[b].offset;H||(ee+=m?E.right/2:E.right);var te=Q+2*ee*Math.PI*f/Math.max(1,p);if(!(te-u>.01)){var ie=e.jqx._ptrnd(l+d*Math.cos(te)),se=e.jqx._ptrnd(h+d*Math.sin(te));A.line(l,h,ie,se,K)}}}if(k.visible&&w){var re={stroke:k.color,fill:"none","stroke-width":k.width,"stroke-dasharray":k.dashStyle||""};H||m||k.offsets.unshift({offset:-E.right});for(var b=0;b<k.offsets.length;b++){var ee=k.offsets[b].offset;H||(ee+=m?E.right/2:E.right);var te=Q+2*ee*Math.PI*f/Math.max(1,p);if(!(te-u>.01)){var ne={x:l+d*Math.cos(te),y:h+d*Math.sin(te)},ae={x:l+(d+5)*Math.cos(te),y:h+(d+5)*Math.sin(te)};A.line(e.jqx._ptrnd(ne.x),e.jqx._ptrnd(ne.y),e.jqx._ptrnd(ae.x),e.jqx._ptrnd(ae.y),re)}}}var oe=[];if(a.spider){var le=[];le="date"==r.type?this._generateDTOffsets(N,O,p,E,v,v,r.baseUnit,!0,0,!1,z):this._getOffsets("",r,p,B,n,E,!0,v),H||m||le.unshift({offset:-E.right});for(var b=0;b<le.length;b++){var ee=le[b].offset;H||(ee+=m?E.right/2:E.right);var te=Q+2*ee*Math.PI*f/Math.max(1,p);te-u>.01||oe.push(te)}y.offsetAngles=oe}var he=s._renderSpiderValueAxis(t,i,H?o.adjR:o.r,oe);if(he||(he=[]),a.spider){if(!H)for(var b=0;b<he.length;b++)he[b]=he[b]*o.adjR/o.r;he.push(d),this._renderSpiderLines(l,h,he,o,oe,K)}if(w&&D.visible){y.polarLabels=[];for(var b=0;b<R.length;b++){var ee=R[b].x,te=Q+2*ee*Math.PI*f/Math.max(1,p);te=(360-te/(2*Math.PI)*360)%360,te<0&&(te=360+te);var de,ce=A.measureText(R[b].text,0,{class:n.labels.style}),ue=(H?o.adjR:o.r)+(k.visible?7:2),fe=n.labels;if(fe.autoRotate){var pe=e.jqx._ptRotate(l-ce.width/2,h-ue-ce.height,l,h,-te/180*Math.PI),me=e.jqx._ptRotate(l+ce.width/2,h-ue,l,h,-te/180*Math.PI);ce.width=Math.abs(pe.x-me.x),ce.height=Math.abs(pe.y-me.y),de={x:Math.min(pe.x,me.x),y:Math.min(pe.y,me.y)}}else de=this._adjustTextBoxPosition(l,h,ce,ue,te,!1,!1,!1);y.polarLabels.push({x:de.x,y:de.y,value:R[b].text}),A.text(R[b].text,de.x,de.y,ce.width,ce.height,fe.autoRotate?90-te:fe.angle,{class:fe.style},!1,fe.halign,fe.valign)}}}}}}},_renderSpiderLines:function(t,i,s,r,n,a){for(var o=this.renderer,l=(r.startAngle,r.endAngle,r.isClosedCircle),h=0;h<s.length;h++){
for(var d=s[h],c=void 0,u=void 0,f=0;f<n.length;f++){var p=n[f],m=e.jqx._ptrnd(t+d*Math.cos(p)),g=e.jqx._ptrnd(i+d*Math.sin(p));c&&o.line(c.x,c.y,m,g,a),c={x:m,y:g},u||(u={x:m,y:g})}u&&l&&o.line(c.x,c.y,u.x,u.y,a)}},_renderSpiderValueAxis:function(t,i,s,r){var n=this.seriesGroups[t],a=this._getPolarAxisCoords(t,i);if(a){var o=e.jqx._ptrnd(a.x),l=e.jqx._ptrnd(a.y);s=s||a.r;var h=a.startAngle,d=a.endAngle,c=e.jqx._rnd(Math.abs(h-d)/(2*Math.PI),.001,!0);if(!(s<1)){s=e.jqx._ptrnd(s);var u=this._getValueAxis(t);if(settings=this._getAxisSettings(u),u&&0!=settings.visible){var f=this._stats.seriesGroups[t].mu,p=settings.labels,m=p.formatSettings;-1!=n.type.indexOf("stacked")&&-1!=n.type.indexOf("100")&&!m&&(m={sufix:"%"});var g=this._get([p.step,p.unitInterval/f]);isNaN(g)&&(g=1),g=Math.max(1,Math.round(g)),this._calcValueAxisItems(t,s,g);var v=settings.gridLines,x=settings.tickMarks,y=(this._getInterval(v,f),this._getInterval(x,f),settings.labels),w={stroke:v.color,fill:"none","stroke-width":1,"stroke-dasharray":v.dashStyle||""},b=this._renderData[t].valueAxis,_=b.items,T=h;if(_.length&&settings.line.visible){isNaN(settings.line.angle)||(T=2*Math.PI*settings.line.angle/360);var j=o+Math.cos(T)*s,C=l+Math.sin(T)*s;if(-1==r.indexOf(T)){var S=e.extend({},w);S["stroke-width"]=settings.line.lineWidth,S.stroke=settings.line.color,S["stroke-dasharray"]=settings.line.dashStyle,this.renderer.line(o,l,j,C,S)}}_=_.reverse();var q=this.renderer;b.polarLabels=[];for(var k=0;k<_.length-1;k++){var D=_[k];if(!isNaN(D)){var I=y.formatFunction?y.formatFunction(D):this._formatNumber(D,m),M=q.measureText(I,0,{class:y.style}),P=o+(0!=u.showTickMarks?3:2),H=l-b.itemWidth*k-M.height/2,A=e.jqx._ptRotate(P,H,o,l,T),B=e.jqx._ptRotate(P+M.width,H+M.height,o,l,T);P=Math.min(A.x,B.x),H=Math.min(A.y,B.y),M.width=Math.abs(A.x-B.x),M.height=Math.abs(A.y-B.y),P+=settings.labels.textOffset.x,H+=settings.labels.textOffset.y,b.polarLabels.push({x:P,y:H,value:I}),q.text(I,P,H,M.width,M.height,y.autoRotate?90+180*h/Math.PI:y.angle,{class:y.style},!1,y.halign,y.valign)}}var N=1==u.logarithmicScale,O=N?_.length:b.rangeLength;aIncrement=2*Math.PI/O;var E=0!=u.valuesOnTicks,z=this._stats.seriesGroups[t],L=z.mu,F=1==u.logarithmicScale;u.logarithmicScaleBase;F&&(L=1);var R={min:z.min,max:z.max,logAxis:{enabled:1==F,base:u.logarithmicScaleBase,minPow:z.minPow,maxPow:z.maxPow}};(v.visible||n.spider||u.alternatingBackgroundColor||u.alternatingBackgroundColor2)&&(v.offsets=this._getOffsets("gridLines",u,s,R,settings,{left:0,right:0},E,L));var W=[];if(v.visible||n.spider)for(var w={stroke:v.color,fill:"none","stroke-width":1,"stroke-dasharray":v.dashStyle||""},k=0;k<v.offsets.length;k++){var H=e.jqx._ptrnd(v.offsets[k].offset);if(H!=s)if(n.spider)W.push(H);else if(1!=c){var V=-h/Math.PI*180,U=-d/Math.PI*180;this.renderer.pieslice(o,l,0,H,Math.min(V,U),Math.max(V,U),void 0,w)}else q.circle(o,l,H,w)}if(u.tickMarks&&(u.tickMarks.visible||u.showTickMarks)||(x.visible=!1),x.visible){x.offsets=this._getOffsets("tickMarks",u,s,R,settings,{left:0,right:0},E,L),tickMarkSize=2*x.size;for(var w={stroke:x.color,fill:"none","stroke-width":1,"stroke-dasharray":x.dashStyle||""},k=0;k<x.offsets.length;k++){var Y=x.offsets[k].offset,A={x:o+Y*Math.cos(T)-tickMarkSize/2*Math.sin(T+Math.PI/2),y:l+Y*Math.sin(T)-tickMarkSize/2*Math.cos(T+Math.PI/2)},B={x:o+Y*Math.cos(T)+tickMarkSize/2*Math.sin(T+Math.PI/2),y:l+Y*Math.sin(T)+tickMarkSize/2*Math.cos(T+Math.PI/2)};q.line(e.jqx._ptrnd(A.x),e.jqx._ptrnd(A.y),e.jqx._ptrnd(B.x),e.jqx._ptrnd(B.y),w)}}return W}}}},_renderAxis:function(t,i,s,r,n,a,o,l,h,d,c){if(s.customDraw&&!d)return{width:NaN,height:NaN};var u=s.title,f=s.labels,p=(s.gridLines,s.tickMarks),m=s.padding,g=p.visible?p.size:0,v={width:0,height:0},x={width:0,height:0};t?v.height=x.height=r.height:v.width=x.width=r.width,!d&&i&&t&&(r.x-=r.width);var y=h.renderData,w=y.itemWidth;if(u.visible&&void 0!=u.text&&""!=u){var b=u.angle,_=this.renderer.measureText(u.text,b,{class:u.style});x.width=_.width,x.height=_.height,d||this.renderer.text(u.text,r.x+u.offset.x+(t?i?-m.right-2+2*r.width-x.width:2+m.left:0),r.y+u.offset.y+(t?0:i?m.top+2:r.height-2-x.height-m.bottom),t?x.width:r.width,t?r.height:x.height,b,{class:u.style},!0,u.halign,u.valign,u.rotationPoint)}var T=0,j=l?-w/2:0;l&&!t&&(f.halign="center");var C=r.x,S=r.y,q=f.textOffset;q&&(isNaN(q.x)||(C+=q.x),isNaN(q.y)||(S+=q.y)),t?(C+=m.left+2+(x.width>0?x.width+2:0)+(i?r.width-x.width:0),S+=j):(C+=j,i?(S+=x.height>0?x.height+6:4,S+=g-(l?g:g/4)):S+=l?g:g/4,S+=m.top);var k=0,D=0,I=h.items;y.itemOffsets={},!this._isToggleRefresh&&this._isUpdate||(c=0);for(var M=!1,P=0,H=0;H<I.length&&f.visible;H++,T+=w)if(I[H]&&!isNaN(w)){var A=I[H].text;isNaN(I[H].targetX)||(T=I[H].targetX);var _=this.renderer.measureText(A,f.angle,{class:f.style});if(_.width>D&&(D=_.width),_.height>k&&(k=_.height),P+=t?k:D,!d){if(t&&T>r.height+2||!t&&T>r.width+2)continue;var B=t?C+(i?0==x.width?g:g-2:0):C+T,N=t?S+T:S;y.itemOffsets[I[H].key]={x:B,y:N},M||(!isNaN(I[H].x)||!isNaN(I[H].y)&&c)&&(M=!0),I[H].targetX=B,I[H].targetY=N,I[H].width=t?r.width-m.left-m.right-4-g-(x.width>0?x.width+2:0):w,I[H].height=t?w:r.height-m.top-m.bottom-4-g-(x.height>0?x.height+2:0),I[H].visible=!0}}if(y.avgWidth=0==I.length?0:P/I.length,!d){var O={items:I,textSettings:f};if(!isNaN(c)&&M||(c=0),this._animateAxisText(O,0==c?1:0),0!=c){var E=this;this._enqueueAnimation("series",void 0,void 0,c,function(e,t,i){E._animateAxisText(t,i)},O)}}v.width+=4+g+x.width+D+(t&&x.width>0?2:0),v.height+=4+g+x.height+k+(!t&&x.height>0?2:0),t?v.width+=m.left+m.right:v.height+=m.top+m.bottom;if(!d&&s.line.visible){var z={stroke:s.line.color,"stroke-width":s.line.width,"stroke-dasharray":s.line.dashStyle||""};if(t){var B=r.x+r.width+(i?m.left:-m.right);B=e.jqx._ptrnd(B),this.renderer.line(B,r.y,B,r.y+r.height,z)}else{var N=e.jqx._ptrnd(r.y+(i?r.height-m.bottom:m.top));this.renderer.line(e.jqx._ptrnd(r.x),N,e.jqx._ptrnd(r.x+r.width+1),N,z)}}return v.width=e.jqx._rup(v.width),v.height=e.jqx._rup(v.height),v},_drawPlotAreaLines:function(t,i,s){var r=this.seriesGroups[t],n="horizontal"!=r.orientation;if(this._renderData&&!(this._renderData.length<=t)){var a=i?"valueAxis":"xAxis",o=this._renderData[t][a];if(o){var l=this._renderData.axisDrawState;l||(l=this._renderData.axisDrawState={});var h,d="";i?(d="valueAxis_"+(r.valueAxis?t:"")+(n?"swap":""),h=this._getValueAxis(t)):(d="xAxis_"+(r.xAxis||r.categoryAxis?t:"")+(n?"swap":""),h=this._getXAxis(t)),l=l[d]?l[d]:l[d]={},i||(n=!n);var c=o.settings;if(c&&!c.customDraw){var u=c.gridLines,f=c.tickMarks,p=c.padding,m=o.rect,g=this._plotRect;if(u&&f){var v=.5,x={},y={stroke:u.color,"stroke-width":u.width,"stroke-dasharray":u.dashStyle||""},w=i?m.y+m.height:m.x,b=u.offsets;if(i&&!h.flip&&(b=e.extend([],b),b=b.reverse()),b&&b.length>0)for(var _=NaN,T=(b.length,0);T<b.length;T++)if(n?(lineOffset=e.jqx._ptrnd(m.y+b[T].offset),lineOffset<m.y-v&&(lineOffset=e.jqx._ptrnd(m.y)),lineOffset>m.y+m.height&&(lineOffset=m.y+m.height)):(lineOffset=e.jqx._ptrnd(m.x+b[T].offset),lineOffset>m.x+m.width+v&&(lineOffset=e.jqx._ptrnd(m.x+m.width))),!isNaN(lineOffset)&&(isNaN(_)||!(Math.abs(lineOffset-_)<2))){if(_=lineOffset,s.gridLines&&0!=u.visible&&1!=l.gridLines&&(n?this.renderer.line(e.jqx._ptrnd(g.x),lineOffset,e.jqx._ptrnd(g.x+g.width),lineOffset,y):this.renderer.line(lineOffset,e.jqx._ptrnd(g.y),lineOffset,e.jqx._ptrnd(g.y+g.height),y)),x[lineOffset]=!0,s.alternatingBackground&&(u.alternatingBackgroundColor||u.alternatingBackgroundColor2)&&1!=l.alternatingBackground){var j=T%2==0?u.alternatingBackgroundColor2:u.alternatingBackgroundColor;if(T>0&&j){var C;C=n?this.renderer.rect(e.jqx._ptrnd(g.x),w,e.jqx._ptrnd(g.width-1),lineOffset-w,y):this.renderer.rect(w,e.jqx._ptrnd(g.y),lineOffset-w,e.jqx._ptrnd(g.height),y),this.renderer.attr(C,{"stroke-width":0,fill:j,opacity:u.alternatingBackgroundOpacity||1})}}w=lineOffset}var y={stroke:f.color,"stroke-width":f.width,"stroke-dasharray":f.dashStyle||""};if(s.tickMarks&&f.visible&&1!=l.tickMarks)for(var S=f.size,b=f.offsets,_=NaN,T=0;T<b.length;T++)if(n?(lineOffset=e.jqx._ptrnd(m.y+b[T].offset),lineOffset<m.y-v&&(lineOffset=e.jqx._ptrnd(m.y)),lineOffset>m.y+m.height&&(lineOffset=m.y+m.height)):(lineOffset=e.jqx._ptrnd(m.x+b[T].offset),lineOffset>m.x+m.width+v&&(lineOffset=e.jqx._ptrnd(m.x+m.width))),!isNaN(lineOffset)&&(isNaN(_)||!(Math.abs(lineOffset-_)<2))){if(x[lineOffset-1]?lineOffset--:x[lineOffset+1]&&lineOffset++,n){if(lineOffset>m.y+m.height+v)break}else if(lineOffset>m.x+m.width+v)break;_=lineOffset;var q=o.isMirror?S:-S;if(n){var k=m.x+m.width+("right"==h.position?p.left:-p.right);i||(k=m.x+(o.isMirror?p.left:-p.right+m.width)),this.renderer.line(k,lineOffset,k+q,lineOffset,y)}else{var D=m.y+(o.isMirror?m.height:0);D+=o.isMirror?-p.bottom:p.top,D=e.jqx._ptrnd(D),this.renderer.line(lineOffset,D,lineOffset,D-q,y)}}l.tickMarks=l.tickMarks||s.tickMarks,l.gridLines=l.gridLines||s.gridLines,l.alternatingBackground=l.alternatingBackground||s.alternatingBackground}}}}},_calcValueAxisItems:function(e,t,i){var s=this._stats.seriesGroups[e];if(!s||!s.isValid)return!1;var r=this.seriesGroups[e],n=(r.orientation,this._getValueAxis(e)),a=0!=n.valuesOnTicks,o=(n.dataField,s.intervals),l=t/o,h=s.min,d=s.mu,c=1==n.logarithmicScale,u=n.logarithmicScaleBase||10,f=-1!=r.type.indexOf("stacked")&&-1!=r.type.indexOf("100");for(c&&(d=isNaN(n.unitInterval)?1:n.unitInterval),a||(o=Math.max(o-1,1));this._renderData.length<e+1;)this._renderData.push({});this._renderData[e].valueAxis={};var p=this._renderData[e].valueAxis;p.itemWidth=p.intervalWidth=l,p.items=[];for(var m=p.items,g=0;g<=o;g++){var v=0;v=c?f?s.max/Math.pow(u,o-g):h*Math.pow(u,g):a?h+g*d:h+(g+.5)*d,g%i==0?m.push(v):m.push(NaN)}return p.rangeLength=c&&!f?s.intervals:s.intervals*d,1!=n.flip&&(m=m.reverse()),!0},_getDecimalPlaces:function(e,t,i){var s=0;isNaN(i)&&(i=10);for(var r=0;r<e.length;r++){var n=void 0===t?e[r]:e[r][t];if(!isNaN(n)){for(var a=n.toString(),o=0;o<a.length;o++)if((a[o]<"0"||a[o]>"9")&&(s=a.length-(o+1))>=0)return Math.min(s,i);for(s>0&&(n*=Math.pow(10,s));Math.round(n)!=n&&s<i;)s++,n*=10}}return s},_renderValueAxis:function(e,t,i,s){var r=this.seriesGroups[e],n="horizontal"==r.orientation,a=this._getValueAxis(e);if(!a)throw"SeriesGroup "+e+" is missing valueAxis definition";var o={width:0,height:0};if(!this._isGroupVisible(e)||this._isPieOnlySeries()||"spider"==r.type)return o;var l=0!=a.valuesOnTicks,h=this._stats.seriesGroups[e],d=h.mu,c=1==a.logarithmicScale;a.logarithmicScaleBase;if(c&&(d=isNaN(a.unitInterval)?1:a.unitInterval),0==d&&(d=1),isNaN(d))return o;var u=this._getAxisSettings(a),f=u.title,p=u.labels,m=a.labels||{};this._get([a.horizontalTextAlignment,m.horizontalAlignment])||0!=p.angle||(p.halign=n?"center":"right"==a.position?"left":"right");var g=this._get([p.step,p.unitInterval/d]);if(isNaN(g)&&(g=1),g=Math.max(1,Math.round(g)),!this._calcValueAxisItems(e,n?t.width:t.height,g)||!u.visible)return o;n||(f.angle=this.rtl?90:-90,"centercenter"==f.rotationPoint&&("top"==f.valign?f.rotationPoint="rightcenter":"bottom"==f.valign&&(f.rotationPoint="leftcenter")));var v=this._renderData[e].valueAxis,x=p.formatSettings;-1!=r.type.indexOf("stacked")&&-1!=r.type.indexOf("100")&&!x&&(x={sufix:"%"}),p.formatFunction||x&&x.decimalPlaces||(x=x||{},x.decimalPlaces=this._getDecimalPlaces([h.min,h.max,d],void 0,3));var y=u.gridLines,w=(c||this._getInterval(y,d),n?t.width:t.height),b=1==a.flip;a.flip=!b;var _={min:h.min,max:h.max,logAxis:{enabled:1==c,base:a.logarithmicScaleBase,minPow:h.minPow,maxPow:h.maxPow}};(y.visible||a.alternatingBackgroundColor||a.alternatingBackgroundColor2)&&(y.offsets=this._getOffsets("gridLines",a,w,_,u,{left:0,right:0},l,d));var T=u.tickMarks;T.visible&&(T.offsets=this._getOffsets("tickMarks",a,w,_,u,{left:0,right:0},l,d)),labelOffsets=this._getOffsets("labels",a,w,_,u,{left:0,right:0},l,d,!l),a.flip=b;var j,C=[];this._elementRenderInfo&&this._elementRenderInfo.length>e&&(j=this._elementRenderInfo[e].valueAxis);for(var S=0;S<labelOffsets.length;S++){var q=labelOffsets[S].value;if(isNaN(labelOffsets[S].offset))C.push(void 0);else{var k=p.formatFunction?p.formatFunction(q):isNaN(q)?q:this._formatNumber(q,x),D={key:q,text:k};j&&j.itemOffsets[q]&&(D.x=j.itemOffsets[q].x,D.y=j.itemOffsets[q].y),D.targetX=labelOffsets[S].offset,isNaN(D.targetX)||C.push(D)}}var I=n&&"top"==a.position||!n&&"right"==a.position||!n&&this.rtl&&"left"!=a.position,M={items:C,renderData:v},P=this._getAnimProps(e),H=P.enabled&&C.length<500?P.duration:0;return 0==this.enableAxisTextAnimation&&(H=0),v.settings=u,v.isMirror=I,v.rect=t,this._renderAxis(!n,I,u,t,s,d,c,!0,M,i,H)},_objectsArraysToArray:function(t,i){var s=[];if(!e.isArray(t))return s;for(var r=0;r<t.length;r++)s.push(t[r][i]);return s},_arraysToObjectsArray:function(e,t){var i=[];if(e.length!=t.length)return i;for(var s=0;s<e.length;s++)for(var r=0;r<e[s].length;r++)i.length<=r&&i.push({}),i[r][t[s]]=e[s][r];return i},_valuesToOffsets:function(t,i,s,r,n,a,o){var l=[];if(!i||!e.isArray(t))return l;var h=s.logAxis.base,d=s.logAxis.enabled?"logarithmic":"linear",c=i.flip,u=r,f=0,p=0;n&&!isNaN(n.left)&&(f=n.left),n&&!isNaN(n.right)&&(p=n.right),u=r-f-p,r=u;for(var m=0;m<t.length;m++)x=this._jqxPlot.scale(t[m],{min:s.min.valueOf(),max:s.max.valueOf(),type:d,base:h},{min:0,max:a?r:u,flip:c},{}),isNaN(x)?l.push(NaN):(isNaN(o)||(x+=o),x<=r+f+p+1?l.push(e.jqx._ptrnd(x)):l.push(NaN));return l},_generateIntervalValues:function(e,t,i,s,r){var n=[],a=e.min,o=e.max;if(e.logAxis&&e.logAxis.enabled&&(a=e.logAxis.minPow,o=e.logAxis.maxPow),void 0==a||void 0==o)return n;if(a==o)return e.logAxis&&e.logAxis.enabled?[Math.pow(e.logAxis.base,a)]:[a];var l=1;i<1&&(l=1e6,a*=l,o*=l,i*=l);for(var h=a;h<=o;h+=i)n.push(h/l+(r?i/2:0));if(t>i){for(var d=[],c=Math.round(t/i),h=0;h<n.length;h++)h%c==0&&d.push(n[h]);n=d}if(e.logAxis&&e.logAxis.enabled)for(var h=0;h<n.length;h++)n[h]=Math.pow(e.logAxis.base,n[h]);return n},_generateDTOffsets:function(t,i,s,r,n,a,o,l,h,d,c){o||(o="day");var u=[];if(t>i)return u;if(t==i)return d?u.push({offset:l?s/2:r.left,value:t}):l&&u.push({offset:s/2,value:t}),u;var f=s-r.left-r.right,p=t,m=r.left,g=m;a=Math.max(a,1);var v=a,x=Math.min(1,a);for(a>1&&"millisecond"!=o&&(a=1);e.jqx._ptrnd(g)<=e.jqx._ptrnd(r.left+f+(l?0:r.right));){u.push({offset:g,value:p});var y=new Date(p.valueOf());if("millisecond"==o)y.setMilliseconds(p.getMilliseconds()+a);else if("second"==o)y.setSeconds(p.getSeconds()+a);else if("minute"==o)y.setMinutes(p.getMinutes()+a);else if("hour"==o){var w=y.valueOf();y.setHours(p.getHours()+a),w==y.valueOf()&&y.setHours(p.getHours()+a+1)}else"day"==o?y.setDate(p.getDate()+a):"month"==o?y.setMonth(p.getMonth()+a):"year"==o&&y.setFullYear(p.getFullYear()+a);p=y,g=m+(p.valueOf()-t.valueOf())*x/(i.valueOf()-t.valueOf())*f}if(c)for(var b=0;b<u.length;b++)u[b].offset=s-u[b].offset;if(v>1&&"millisecond"!=o){for(var _=[],b=0;b<u.length;b+=v)_.push({offset:u[b].offset,value:u[b].value});u=_}if(!l&&!d&&u.length>1){var _=[];_.push({offset:0,value:void 0});for(var b=1;b<u.length;b++)_.push({offset:u[b-1].offset+(u[b].offset-u[b-1].offset)/2,value:void 0});var T=_.length;T>1?_.push({offset:_[T-1].offset+(_[T-1].offset-_[T-2].offset)}):_.push({offset:s,value:void 0}),u=_}if(n>a){for(var _=[],j=Math.round(n/v),b=0;b<u.length;b++)b%j==0&&_.push({offset:u[b].offset,value:u[b].value});u=_}return u},_hasStackValueReversal:function(e,t){var i=this.seriesGroups[e];if(-1==i.type.indexOf("stacked"))return!1;for(var s=-1!=i.type.indexOf("waterfall"),r=this._getDataLen(e),n=0,a=!1,o=[],l=0;l<i.series.length;l++)o[l]=this._isSerieVisible(e,l);for(var h=0;h<r;h++){var d=void 0;s||(a=!1);for(var c=0;c<i.series.length;c++)if(o[c]&&(val=this._getDataValueAsNumber(h,i.series[c].dataField,e),!isNaN(val))){if(i.series[c].summary){var u=this._getDataValue(h,i.series[c].summary,e);if(void 0!==u)continue}var f=a?val<0:val<t;if(a=!0,void 0==d&&(d=f),f!=d)return!0;d=f,n+=val}}return!1},_getValueAxis:function(e){var t=void 0==e?this.valueAxis:this.seriesGroups[e].valueAxis||this.valueAxis;return t||(t=this.valueAxis={}),t},_buildStats:function(e){var t={seriesGroups:[]};this._stats=t;for(var i=0;i<this.seriesGroups.length;i++){var s=this.seriesGroups[i];t.seriesGroups[i]={};var r=this._getXAxis(i),n=this._getValueAxis(i),a=this._getXAxisStats(i,r,"horizontal"!=s.orientation?e.width:e.height),o=t.seriesGroups[i];o.isValid=!0;var l="horizontal"==s.orientation?e.width:e.height,h=1==n.logarithmicScale,d=n.logarithmicScaleBase;isNaN(d)&&(d=10);var c=-1!=s.type.indexOf("stacked"),u=c&&-1!=s.type.indexOf("100"),f=-1!=s.type.indexOf("range"),p=-1!=s.type.indexOf("waterfall");if(p&&!this._moduleWaterfall)throw"Please include 'jqxchart.waterfall.js'";u&&(o.psums=[],o.nsums=[]);var m=NaN,g=NaN,v=NaN,x=NaN,y=n?n.baselineValue:NaN;isNaN(y)&&(y=h&&!u?1:0);var w=!1;0!=y&&c&&(w=this._hasStackValueReversal(i,y))&&(y=0),c&&p&&(w=this._hasStackValueReversal(i,y));var b=this._getDataLen(i),_=0,T=NaN,j=[];if(p)for(var C=0;C<s.series.length;C++)j.push(NaN);for(var S=NaN,q=0;q<b&&o.isValid;q++){if(r.rangeSelector){var k=r.dataField?this._getDataValue(q,r.dataField,i):q;if(k&&a.isDateTime&&(k=this._castAsDate(k,r.dateFormat)),a.useIndeces&&(k=q),k&&(k.valueOf()<a.min.valueOf()||k.valueOf()>a.max.valueOf()))continue}var D=n.minValue,I=n.maxValue;n.baselineValue&&(D=isNaN(D)?y:Math.min(y,D),I=isNaN(I)?y:Math.max(y,I));for(var M=0,P=0,C=0;s.series&&C<s.series.length;C++)if(this._isSerieVisible(i,C)){var H=NaN,A=NaN,B=NaN;if(-1!=s.type.indexOf("candle")||-1!=s.type.indexOf("ohlc")){var N=["Open","Low","Close","High"];for(var O in N){var E=this._getDataValueAsNumber(q,s.series[C]["dataField"+N[O]],i);isNaN(E)||(B=isNaN(A)?E:Math.min(B,E),A=isNaN(A)?E:Math.max(A,E))}}else if(f){var z=this._getDataValueAsNumber(q,s.series[C].dataFieldFrom,i),L=this._getDataValueAsNumber(q,s.series[C].dataFieldTo,i);A=Math.max(z,L),B=Math.min(z,L)}else{if(H=this._getDataValueAsNumber(q,s.series[C].dataField,i),p){if(this._isSummary(i,q)){var F=this._getDataValue(q,s.series[C].summary,i);if(void 0!==F)continue}c?(isNaN(S)||(H+=S),S=H):(isNaN(j[C])?j[C]=H:H+=j[C],j[C]=H)}if(isNaN(H)||h&&H<=0)continue;B=A=H}(isNaN(I)||A>I)&&(isNaN(n.maxValue)||A<=n.maxValue)&&(I=A),(isNaN(D)||B<D)&&(isNaN(n.minValue)||B>=n.minValue)&&(D=B),isNaN(H)||!c||p||(H>y?M+=H:H<y&&(P+=H))}if(u||(isNaN(n.maxValue)||(M=Math.min(n.maxValue,M)),isNaN(n.minValue)||(P=Math.max(n.minValue,P))),h&&u)for(var C=0;C<s.series.length;C++)if(this._isSerieVisible(i,C)){var H=this._getDataValueAsNumber(q,s.series[C].dataField,i);if(isNaN(H)||H<=0)T=.01;else{var R=0==M?0:H/M;(isNaN(T)||R<T)&&(T=R)}}else T=.01;var W=M-P;_<W&&(_=W),u&&(o.psums[q]=M,o.nsums[q]=P),(I>g||isNaN(g))&&(g=I),(D<m||isNaN(m))&&(m=D),(M>v||isNaN(v))&&(v=M),(P<x||isNaN(x))&&(x=P)}u&&(v=0==v?0:Math.max(v,-x),x=0==x?0:Math.min(x,-v)),m==g&&(0==m?(m=-1,g=1):m<0?g=0:h?1==m&&(m/=d,g*=d):m=0);var V={gmin:m,gmax:g,gsumP:v,gsumN:x,gbase:y,isLogAxis:h,logBase:d,minPercent:T,gMaxRange:_,isStacked:c,isStacked100:u,isWaterfall:p,hasStackValueReversal:w,valueAxis:n,valueAxisSize:l};V.isStacked&&(V.gsumN<0&&(V.gmin=Math.min(V.gmin,V.gbase+V.gsumN)),V.gsumP>0&&(V.gmax=Math.max(V.gmax,V.gbase+V.gsumP))),o.context=V}this._mergeCommonValueAxisStats();for(var q=0;q<t.seriesGroups.length;q++){var o=t.seriesGroups[q];if(o.isValid){var U=this._calcOutputGroupStats(o.context);for(var O in U)o[O]=U[O];delete o.context}}},_mergeCommonValueAxisStats:function(){for(var e={},t=0;t<this.seriesGroups.length;t++)if(this._isGroupVisible(t)&&!this.seriesGroups[t].valueAxis){var i=this._stats.seriesGroups[t].context;e.gbase=i.gbase,(isNaN(e.gmin)||i.gmin<e.gmin)&&(e.gmin=i.gmin),(isNaN(e.gmax)||i.gmax>e.gmax)&&(e.gmax=i.gmax),(isNaN(e.gsumP)||i.gsumP>e.gsumP)&&(e.gsumP=i.gsumP),(isNaN(e.gsumN)||i.gsumN<e.gsumN)&&(e.gsumN=i.gsumN),(isNaN(e.logBase)||i.logBase<e.logBase)&&(e.logBase=i.logBase),(isNaN(e.minPercent)||i.minPercent<e.minPercent)&&(e.minPercent=i.minPercent),e.gsumN>0&&(e.gmin=Math.min(e.gmin,e.gbase+e.gsumN)),e.gsumP>0&&(e.gmax=Math.max(e.gmax,e.gbase+e.gsumP))}for(var t=0;t<this.seriesGroups.length;t++)if(!this.seriesGroups[t].valueAxis){var s=this._stats.seriesGroups[t].context;for(var r in e)s[r]=e[r]}},_calcOutputGroupStats:function(t){var i=t.gmin,s=t.gmax,r=t.gsumP,n=t.gsumN,a=t.gbase,o=t.isLogAxis,l=t.logBase,h=t.minPercent,d=t.gMaxRange,c=t.isStacked,u=t.isStacked100,f=t.isWaterfall,p=t.hasStackValueReversal,m=t.valueAxis,g=t.valueAxisSize,v=t.valueAxis.unitInterval;v||(v=this._calcInterval(i,s,Math.max(g/80,2))),i==s&&(i=a,s*=2);var x=NaN,y=0,w=0;if(o){if(u){x=0;var b=1;for(y=w=e.jqx.log(100,l);b>h;)b/=l,y--,x++;i=Math.pow(l,y)}else c&&!f&&(s=Math.max(s,r)),w=e.jqx._rnd(e.jqx.log(s,l),1,!0),s=Math.pow(l,w),y=e.jqx._rnd(e.jqx.log(i,l),1,!1),i=Math.pow(l,y);v=l}i<n&&(n=i),s>r&&(r=s);var _=o?i:e.jqx._rnd(i,v,!1),T=o?s:e.jqx._rnd(s,v,!0);if(u&&T>100&&(T=100),u&&!o&&(T=T>0?100:0,_=_<0?-100:0,v=m.unitInterval,(isNaN(v)||v<=0||v>=100)&&(v=10),100%v!=0))for(;v>=1&&100%v!=0;v--);return isNaN(T)||isNaN(_)||isNaN(v)?{}:(isNaN(x)&&(x=parseInt(((T-_)/(0==v?1:v)).toFixed())),o&&!u&&(x=w-y,d=Math.pow(l,x)),x<1?{}:{min:_,max:T,logarithmic:o,logBase:l,base:o?_:a,minPow:y,maxPow:w,sumP:r,sumN:n,mu:v,maxRange:d,intervals:x,hasStackValueReversal:p})},_getDataLen:function(t){var i=this.source;return void 0!=t&&-1!=t&&this.seriesGroups[t].source&&(i=this.seriesGroups[t].source),i instanceof e.jqx.dataAdapter&&(i=i.records),i?i.length:0},_getDataValue:function(t,i,s){var r=this.source;if(void 0!=s&&-1!=s&&(r=this.seriesGroups[s].source||r),r instanceof e.jqx.dataAdapter&&(r=r.records),!(!r||t<0||t>r.length-1))return e.isFunction(i)?i(t,r):i&&""!=i?r[t][i]:r[t]},_getDataValueAsNumber:function(e,t,i){var s=this._getDataValue(e,t,i);return this._isDate(s)?s.valueOf():("number"!=typeof s&&(s=parseFloat(s)),"number"!=typeof s&&(s=void 0),s)},_isPieGroup:function(e){var t=this.seriesGroups[e];return!(!t||!t.type)&&(-1!=t.type.indexOf("pie")||-1!=t.type.indexOf("donut"))},_renderPieSeries:function(t,i){for(var s=this._getDataLen(t),r=this.seriesGroups[t],n=this._calcGroupOffsets(t,i).offsets,a=0;a<r.series.length;a++){var o=r.series[a];if(!o.customDraw){var l=this._getSerieSettings(t,a),h=(o.colorScheme||r.colorScheme||this.colorScheme,this._getAnimProps(t,a)),d=h.enabled&&s<5e3&&!this._isToggleRefresh&&1!=this._isVML?h.duration:0;e.jqx.mobile.isMobileBrowser()&&this.renderer instanceof e.jqx.HTML5Renderer&&(d=0);var c=this._get([o.minAngle,o.startAngle]);(isNaN(c)||c<0||c>360)&&(c=0);var u=this._get([o.maxAngle,o.endAngle]);(isNaN(u)||u<0||u>360)&&(u=360);for(var f={rect:i,minAngle:c,maxAngle:u,groupIndex:t,serieIndex:a,settings:l,items:[]},p=0;p<s;p++){var m=n[a][p];if(m.visible){var g=m.fromAngle,v=m.toAngle,x=this.renderer.pieslice(m.x,m.y,m.innerRadius,m.outerRadius,g,0==d?v:g,m.centerOffset);this._setRenderInfo(t,a,p,{element:x});var y={displayValue:m.displayValue,itemIndex:p,visible:m.visible,x:m.x,y:m.y,innerRadius:m.innerRadius,outerRadius:m.outerRadius,fromAngle:g,toAngle:v,centerOffset:m.centerOffset};f.items.push(y)}}this._animatePieSlices(f,0);var w=this;this._enqueueAnimation("series",void 0,void 0,d,function(e,t,i){w._animatePieSlices(t,i)},f)}}},_sliceSortFunction:function(e,t){return e.fromAngle-t.fromAngle},_animatePieSlices:function(e,t){var i;this._elementRenderInfo&&this._elementRenderInfo.length>e.groupIndex&&this._elementRenderInfo[e.groupIndex].series&&this._elementRenderInfo[e.groupIndex].series.length>e.serieIndex&&(i=this._elementRenderInfo[e.groupIndex].series[e.serieIndex]);for(var s=this.seriesGroups[e.groupIndex],r=this._getLabelsSettings(e.groupIndex,e.serieIndex,NaN),n=r.visible,a=[],o=0;o<e.items.length;o++){var l=e.items[o];if(l.visible){var h=l.fromAngle,d=l.fromAngle+t*(l.toAngle-l.fromAngle);if(i&&i[l.displayValue]){var c=i[l.displayValue].fromAngle,u=i[l.displayValue].toAngle;h=c+(h-c)*t,d=u+(d-u)*t}a.push({index:o,from:h,to:d})}}i&&a.sort(this._sliceSortFunction);for(var f=NaN,o=0;o<a.length;o++){var l=e.items[a[o].index],p=this._getRenderInfo(e.groupIndex,e.serieIndex,l.itemIndex),h=a[o].from,d=a[o].to;i&&(!isNaN(f)&&h>f&&(h=f),f=d,o==a.length-1&&d!=a[0].from&&(d=e.maxAngle+a[0].from));var m=this.renderer.pieSlicePath(l.x,l.y,l.innerRadius,l.outerRadius,h,d,l.centerOffset);this.renderer.attr(p.element,{d:m});var g=this._getColors(e.groupIndex,e.serieIndex,l.itemIndex,"radialGradient",l.outerRadius),v=e.settings;p.colors=g,p.settings=v,this.renderer.attr(p.element,{fill:g.fillColor,stroke:g.lineColor,"stroke-width":v.stroke,"fill-opacity":v.opacity,"stroke-opacity":v.opacity,"stroke-dasharray":"none"});s.series[e.serieIndex];n&&this._showPieLabel(e.groupIndex,e.serieIndex,l.itemIndex,r),1==t&&this._installHandlers(p.element,"pieslice",e.groupIndex,e.serieIndex,l.itemIndex)}},_showPieLabel:function(t,i,s,r,n){var a=this._renderData[t].offsets[i][s];if(a.elementInfo.labelElement&&this.renderer.removeElement(a.elementInfo.labelElement),r||(r=this._getLabelsSettings(t,i,NaN)),r.visible){var o=a.fromAngle,l=a.toAngle,h=Math.abs(o-l);h>360&&(o=0,l=360);var d=(Math.PI,Math.PI,h/2+o);d%=360;var c,u=d*Math.PI*2/360;1==r.autoRotate&&(c=d<90||d>270?360-d:180-d);var f=r.linesEnabled,p=this._showLabel(t,i,s,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,c),m=r.radius||a.outerRadius+Math.max(p.width,p.height);this._isPercent(m)&&(m=parseFloat(m)/100*Math.min(this._plotRect.width,this._plotRect.height)/2),m+=a.centerOffset,isNaN(n)&&(n=0),m+=n;var g=this.seriesGroups[t],v=g.series[i],x=e.jqx.getNum([v.offsetX,g.offsetX,this._plotRect.width/2]),y=e.jqx.getNum([v.offsetY,g.offsetY,this._plotRect.height/2]),w=this._plotRect.x+x,b=this._plotRect.y+y,_=this._adjustTextBoxPosition(w,b,p,m,d,a.outerRadius>m,0!=r.linesAngles,1==r.autoRotate),T={};if(a.elementInfo.labelElement=this._showLabel(t,i,s,{x:_.x,y:_.y,width:p.width,height:p.height},"left","top",!1,!1,!1,c,T),m>a.outerRadius+5&&0!=f){var j={lineColor:a.elementInfo.colors.lineColor,stroke:a.elementInfo.settings.stroke,opacity:a.elementInfo.settings.opacity,dashStyle:a.elementInfo.settings.dashStyle};a.elementInfo.labelArrowPath=this._updateLebelArrowPath(a.elementInfo.labelArrowPath,w,b,m,a.outerRadius+n,u,0!=r.linesAngles,j,T)}}},_updateLebelArrowPath:function(t,i,s,r,n,a,o,l,h){var d=e.jqx._ptrnd(i+(r-0)*Math.cos(a)),c=e.jqx._ptrnd(s-(r-0)*Math.sin(a)),u=e.jqx._ptrnd(i+(n+2)*Math.cos(a)),f=e.jqx._ptrnd(s-(n+2)*Math.sin(a)),p=[];p.push({x:h.x+h.width/2,y:h.y}),p.push({x:h.x+h.width/2,y:h.y+h.height}),p.push({x:h.x,y:h.y+h.height/2}),p.push({x:h.x+h.width,y:h.y+h.height/2}),o||(p.push({x:h.x,y:h.y}),p.push({x:h.x+h.width,y:h.y}),p.push({x:h.x+h.width,y:h.y+h.height}),p.push({x:h.x,y:h.y+h.height})),p=p.sort(function(t,r){return e.jqx._ptdist(t.x,t.y,i,s)-e.jqx._ptdist(r.x,r.y,i,s)}),p=p.sort(function(e,t){return Math.abs(e.x-i)+Math.abs(e.y-s)-(Math.abs(t.x-i)+Math.abs(t.y-s))});for(var m=0;m<p.length;m++)p[m].x=e.jqx._ptrnd(p[m].x),p[m].y=e.jqx._ptrnd(p[m].y);d=p[0].x,c=p[0].y;var g="M "+d+","+c+" L"+u+","+f;return o&&(g="M "+d+","+c+" L"+u+","+c+" L"+u+","+f),t?this.renderer.attr(t,{d:g}):t=this.renderer.path(g,{}),this.renderer.attr(t,{fill:"none",stroke:l.lineColor,"stroke-width":l.stroke,"stroke-opacity":l.opacity,"stroke-dasharray":"none"}),t},_adjustTextBoxPosition:function(t,i,s,r,n,a,o,l){var h=n*Math.PI*2/360,d=e.jqx._ptrnd(t+r*Math.cos(h)),c=e.jqx._ptrnd(i-r*Math.sin(h));if(l){var u=s.width,f=s.height,p=Math.atan(f/u)%(2*Math.PI),m=h%(2*Math.PI),g=0;m<=p?g=u/2*Math.cos(h):m>=p&&m<Math.PI-p?g=f/2*Math.sin(h):m>=Math.PI-p&&m<Math.PI+p?g=u/2*Math.cos(h):m>=Math.PI+p&&m<2*Math.PI-p?g=f/2*Math.sin(h):m>=2*Math.PI-p&&m<2*Math.PI&&(g=u/2*Math.cos(h)),r+=Math.abs(g)+3;var d=e.jqx._ptrnd(t+r*Math.cos(h)),c=e.jqx._ptrnd(i-r*Math.sin(h));return d-=s.width/2,c-=s.height/2,{x:d,y:c}}return a?(d-=s.width/2,c-=s.height/2):o?n>=90&&n<270?(c-=s.height/2,d-=s.width):c-=s.height/2:n>=0&&n<45||n>=315&&n<360?c-=s.height/2:n>=45&&n<135?(c-=s.height,d-=s.width/2):n>=135&&n<225?(c-=s.height/2,d-=s.width):n>=225&&n<315&&(d-=s.width/2),{x:d,y:c}},_isColumnType:function(e){return-1!=e.indexOf("column")||-1!=e.indexOf("waterfall")},_getColumnGroupsCount:function(e){var t=0;e=e||"vertical";for(var i=this.seriesGroups,s=0;s<i.length;s++){var r=i[s].orientation||"vertical";this._isColumnType(i[s].type)&&r==e&&t++}return this.columnSeriesOverlap&&(t=1),t},_getColumnGroupIndex:function(e){for(var t=0,i=this.seriesGroups[e].orientation||"vertical",s=0;s<e;s++){var r=this.seriesGroups[s],n=r.orientation||"vertical";this._isColumnType(r.type)&&n==i&&t++}return t},_renderAxisBands:function(t,i,s){var r=s?this._getXAxis(t):this._getValueAxis(t),n=this.seriesGroups[t],a=s?void 0:n.bands;if(!a){for(var o=0;o<t;o++){if((s?this._getXAxis(o):this._getValueAxis(o))==r)return}a=r.bands}if(e.isArray(a)){var l=i,h="horizontal"==n.orientation;h&&(l={x:i.y,y:i.x,width:i.height,height:i.width}),this._calcGroupOffsets(t,l);for(var o=0;o<a.length;o++){var d,c=a[o],u=this._get([c.minValue,c.from]),f=this._get([c.maxValue,c.to]),p=s?this.getXAxisDataPointOffset(u,t):this.getValueAxisDataPointOffset(u,t),m=s?this.getXAxisDataPointOffset(f,t):this.getValueAxisDataPointOffset(f,t),g=Math.abs(p-m);if(n.polar||n.spider){var v=this._renderData[t],x=v.polarCoords;if(s)if(n.spider){p1=this.getPolarDataPointOffset(u,this._stats.seriesGroups[t].max,t),p2=this.getPolarDataPointOffset(f,this._stats.seriesGroups[t].max,t);var y="M "+x.x+","+x.y;y+=" L "+p1.x+","+p1.y,y+=" L "+p2.x+","+p2.y,d=this.renderer.path(y)}else{var w={},b={x:Math.min(p,m),y:i.y,width:g,height:i.height};this._columnAsPieSlice(w,i,x,b),d=w.element}else{var _=this._toPolarCoord(x,i,i.x,v.baseOffset),T=this._toPolarCoord(x,i,i.x,p),j=this._toPolarCoord(x,i,i.x,m),C=e.jqx._ptdist(_.x,_.y,T.x,T.y),S=e.jqx._ptdist(_.x,_.y,j.x,j.y),q=Math.round(360*-x.startAngle/(2*Math.PI)),k=Math.round(360*-x.endAngle/(2*Math.PI));if(q>k){var D=q;q=k,k=D}if(n.spider){var I=v.xAxis.offsetAngles,y="",M=[S,C],P=I;x.isClosedCircle&&(P=e.extend([],I),P.push(P[0]));for(var H in M){for(var A=0;A<P.length;A++){var B=0==H?A:I.length-A-1,N=x.x+M[H]*Math.cos(P[B]),O=x.y+M[H]*Math.sin(P[B]);y+=""==y?"M ":" L",y+=e.jqx._ptrnd(N)+","+e.jqx._ptrnd(O)}if(0==H){var N=x.x+M[1]*Math.cos(P[B]),O=x.y+M[1]*Math.sin(P[B]);y+=" L"+e.jqx._ptrnd(N)+","+e.jqx._ptrnd(O)}}y+=" Z",d=this.renderer.path(y)}else d=this.renderer.pieslice(x.x,x.y,C,S,q,k)}}else{var E={x:Math.min(p,m),y:l.y,width:g,height:l.height};if(s||(E={x:l.x,y:Math.min(p,m),width:l.width,height:g}),h){var D=E.x;E.x=E.y,E.y=D,D=E.width,E.width=E.height,E.height=D}d=0==g||1==g?this.renderer.line(e.jqx._ptrnd(E.x),e.jqx._ptrnd(E.y),e.jqx._ptrnd(E.x+(h?0:E.width)),e.jqx._ptrnd(E.y+(h?E.height:0))):this.renderer.rect(E.x,E.y,E.width,E.height)}var z=c.fillColor||c.color||"#AAAAAA",L=c.lineColor||z,F=c.lineWidth;isNaN(F)&&(F=1);var R=c.opacity;(isNaN(R)||R<0||R>1)&&(R=1),this.renderer.attr(d,{fill:z,"fill-opacity":R,stroke:L,"stroke-opacity":R,"stroke-width":F,"stroke-dasharray":c.dashStyle})}}},_getColumnGroupWidth:function(e,t,i){var s=this.seriesGroups[e],r=-1!=s.type.indexOf("stacked"),n=(r||s.series.length,this._getColumnGroupsCount(s.orientation));(isNaN(n)||0==n)&&(n=1);var a=t.rangeLength>=1?t.itemWidth:.9*i,o=s.columnsMinWidth;isNaN(o)&&(o=1),isNaN(s.columnsMaxWidth)||(o=Math.min(s.columnsMaxWidth,o)),o>a&&t.length>0&&(a=Math.max(a,.9*i/t.length));var l=o;if(!r){var h=s.seriesGapPercent;(isNaN(h)||h<0)&&(h=10),h/=100;var d=o;d*=1+h,l+=s.series.length*d}return{requiredWidth:l,availableWidth:a,targetWidth:Math.max(a/n,l)}},_getColumnSerieWidthAndOffset:function(e,t){var i=this.seriesGroups[e],s=(i.series[t],"horizontal"==i.orientation),r=this._plotRect;s&&(r={x:r.y,y:r.x,width:r.height,height:r.width});var n=this._calcGroupOffsets(e,r);if(n&&0!=n.xoffsets.length){var a=this._getColumnGroupsCount(i.orientation);"candlestick"!=i.type&&"ohlc"!=i.type||(a=1);var o=this._getColumnGroupIndex(e),l=this._getColumnGroupWidth(e,n.xoffsets,s?r.height:r.width),h=0,d=l.targetWidth
;(1==this.columnSeriesOverlap||Math.round(d)>Math.round(l.availableWidth/a))&&(a=1,o=0),h-=d*a/2,h+=d*o;var c=i.columnsGapPercent;c<=0&&(c=0),(isNaN(c)||c>=100)&&(c=25),c/=100;var u=d*c;u+l.requiredWidth>l.targetWidth&&(u=Math.max(0,l.targetWidth-l.requiredWidth)),Math.round(d)>Math.round(l.availableWidth)&&(u=0),d-=u,h+=u/2;var f=i.seriesGapPercent;(isNaN(f)||f<0)&&(f=10);var p=-1!=i.type.indexOf("stacked"),m=d;p||(m/=i.series.length);var g=this._get([i.seriesGap,d*f/100/(i.series.length-1)]);(1==i.polar||1==i.spider||p||i.series.length<=1)&&(g=0);var v=g*(i.series.length-1);i.series.length>1&&v>d-1*i.series.length&&(v=d-1*i.series.length,g=v/Math.max(1,i.series.length-1));var x=m-v/i.series.length,y=0,w=i.columnsMaxWidth;isNaN(w)||x>w&&(y=x-w,x=w);var b=0;if(p)b=y/2;else{b=(d-x*i.series.length-v)/2+x*t+Math.max(0,t)*g}return{width:x,offset:h+b}}},_renderColumnSeries:function(t,i){var s=this.seriesGroups[t];if(s.series&&0!=s.series.length){var r=(this._getDataLen(t),"horizontal"==s.orientation),n=i;r&&(n={x:i.y,y:i.x,width:i.height,height:i.width});var a=this._calcGroupOffsets(t,n);if(a&&0!=a.xoffsets.length){var o;1!=s.polar&&1!=s.spider||(o=this._getPolarAxisCoords(t,n));var l={groupIndex:t,rect:i,vertical:!r,seriesCtx:[],renderData:a,polarAxisCoords:o};l.columnGroupWidth=this._getColumnGroupWidth(t,a.xoffsets,r?n.height:n.width);for(var h=this._getGroupGradientType(t),d=0;d<s.series.length;d++){var c=s.series[d];if(!c.customDraw){var u=(c.dataField,this._getAnimProps(t,d)),f=u.enabled&&!this._isToggleRefresh&&a.xoffsets.length<100?u.duration:0,p=this._getColumnSerieWidthAndOffset(t,d),m=this._isSerieVisible(t,d),g=this._getSerieSettings(t,d),v=this._getColors(t,d,NaN,this._getGroupGradientType(t),4),x=[];if(e.isFunction(c.colorFunction)&&!o)for(var y=a.xoffsets.first;y<=a.xoffsets.last;y++)x.push(this._getColors(t,d,y,h,4));var w={seriesIndex:d,serieColors:v,itemsColors:x,settings:g,columnWidth:p.width,xAdjust:p.offset,isVisible:m};l.seriesCtx.push(w)}}this._animColumns(l,0==f?1:0);var b=this;this._enqueueAnimation("series",void 0,void 0,f,function(e,t,i){b._animColumns(t,i)},l)}}},_getPercent:function(e,t,i,s){return isNaN(e)&&(e=t),!isNaN(i)&&!isNaN(e)&&e<i&&(e=i),!isNaN(s)&&!isNaN(e)&&e>s&&(e=s),isNaN(e)?NaN:e},_getColumnVOffsets:function(e,t,i,s,r,n){var a=this.seriesGroups[t],o=this._getPercent(a.columnsTopWidthPercent,100,0,100),l=this._getPercent(a.columnsBottomWidthPercent,100,0,100);0==o&&0==l&&(l=100);for(var h=this._getPercent(a.columnsNeckHeightPercent,NaN,0,100)/100,d=this._getPercent(a.columnsNeckWidthPercent,100,0,100)/100,c=[],u=NaN,f=0;f<i.length;f++){var p,m=i[f],g=m.seriesIndex,v=(a.series[g],e.offsets[g][s].from),x=e.offsets[g][s].to,y=e.xoffsets.data[s],w=m.isVisible;w||(x=v);var b=this._elementRenderInfo;if(w&&b&&b.length>t&&b[t].series.length>g){var _=e.xoffsets.xvalues[s];p=b[t].series[g][_],!p||isNaN(p.from)||isNaN(p.to)||(v=p.from+(v-p.from)*n,x=p.to+(x-p.to)*n,y=p.xoffset+(y-p.xoffset)*n)}p||(x=v+(x-v)*(r?1:n)),isNaN(v)&&(v=isNaN(u)?e.baseOffset:u),u=!isNaN(x)&&r?x:v,isNaN(x)&&(x=v);var T={from:v,to:x,xOffset:y};100==o&&100==l||(T.funnel=!0,T.toWidthPercent=o,T.fromWidthPercent=l),c.push(T)}if(r&&c.length>1&&!(this._elementRenderInfo&&this._elementRenderInfo.length>t)){for(var j=0,C=0,S=-1/0,q=1/0,k=1/0,D=-1/0,I=0;I<c.length;I++){var m=i[I];m.isVisible&&(c[I].to>=c[I].from?(C+=c[I].to-c[I].from,k=Math.min(k,c[I].from),D=Math.max(D,c[I].to)):(j+=c[I].from-c[I].to,S=Math.max(S,c[I].from),q=Math.min(q,c[I].to)))}var M=j,P=C;j*=n,C*=n;for(var H=0,A=0,I=0;I<c.length;I++)if(c[I].to>=c[I].from){var B=c[I].to-c[I].from;B+A>C&&(B=Math.max(0,C-A),c[I].to=c[I].from+B),100==o&&100==l||(c[I].funnel=!0,!isNaN(h)&&P*h>=A?c[I].fromWidthPercent=100*d:c[I].fromWidthPercent=Math.abs(c[I].from-k)/P*(o-l)+l,!isNaN(h)&&P*h>=0+(A+B)?c[I].toWidthPercent=100*d:c[I].toWidthPercent=Math.abs(c[I].to-k)/P*(o-l)+l),A+=B}else{var B=c[I].from-c[I].to;B+H>j&&(B=Math.max(0,j-H),c[I].to=c[I].from-B),100==o&&100==l||(c[I].funnel=!0,!isNaN(h)&&M*h>=H?c[I].fromWidthPercent=100*d:c[I].fromWidthPercent=Math.abs(c[I].from-S)/M*(o-l)+l,!isNaN(h)&&M*h>=0+(H+B)?c[I].toWidthPercent=100*d:c[I].toWidthPercent=Math.abs(c[I].to-S)/M*(o-l)+l),H+=B}}return c},_columnAsPieSlice:function(t,i,s,r){var n=this._toPolarCoord(s,i,r.x,r.y),a=this._toPolarCoord(s,i,r.x,r.y+r.height),o=e.jqx._ptdist(s.x,s.y,a.x,a.y),l=e.jqx._ptdist(s.x,s.y,n.x,n.y),h=i.width,d=180*Math.abs(s.startAngle-s.endAngle)/Math.PI,c=-(r.x-i.x)*d/h,u=-(r.x+r.width-i.x)*d/h,f=s.startAngle;if(f=360*f/(2*Math.PI),c-=f,u-=f,t)if(void 0!=t.element){var p=this.renderer.pieSlicePath(s.x,s.y,o,l,u,c,0);p+=" Z",this.renderer.attr(t.element,{d:p})}else t.element=this.renderer.pieslice(s.x,s.y,o,l,u,c,0);return{fromAngle:u,toAngle:c,innerRadius:o,outerRadius:l}},_setRenderInfo:function(e,t,i,s){this._renderData[e].offsets[t][i].elementInfo=s},_getRenderInfo:function(e,t,i){return this._renderData[e].offsets[t][i].elementInfo||{}},_animColumns:function(t,i){for(var s=this,r=t.groupIndex,n=this.seriesGroups[r],a=t.renderData,o=-1!=n.type.indexOf("waterfall"),l=this._getXAxis(r),h=-1!=n.type.indexOf("stacked"),d=t.polarAxisCoords,c=(this._getGroupGradientType(r),t.columnGroupWidth.targetWidth,-1),u=0;u<n.series.length;u++)if(this._isSerieVisible(r,u)){c=u;break}for(var f=NaN,p=NaN,u=0;u<t.seriesCtx.length;u++){var m=t.seriesCtx[u];(isNaN(f)||f>m.xAdjust)&&(f=m.xAdjust),(isNaN(p)||p<m.xAdjust+m.columnWidth)&&(p=m.xAdjust+m.columnWidth)}var g=Math.abs(p-f),v=this._get([n.columnsGapPercent,25])/100;(isNaN(v)<0||v>=1)&&(v=.25);for(var x=v*g,y=t.renderData.xoffsets,w=-1,b={},_=1==n.skipOverlappingPoints,T=y.first;T<=y.last;T++){var j=y.data[T];if(!isNaN(j)&&!(-1!=w&&Math.abs(j-w)<g-1+x&&_)){w=j;var C=this._getColumnVOffsets(a,r,t.seriesCtx,T,h,i),S=!1;if(o)for(var q=0;q<n.series.length;q++)n.series[q].summary&&y.xvalues[T][n.series[q].summary]&&(S=!0);for(var q=0;q<t.seriesCtx.length;q++){var m=t.seriesCtx[q],k=m.seriesIndex,D=n.series[k],I=C[q].from,M=C[q].to,P=C[q].xOffset,H=(t.vertical?t.rect.x:t.rect.y)+m.xAdjust,A=m.settings,B=0!=m.itemsColors.length?m.itemsColors[T-a.xoffsets.first]:m.serieColors,N=this._isSerieVisible(r,k);if(N){var j=e.jqx._ptrnd(H+P),O={x:j,width:m.columnWidth};C[q].funnel&&(O.fromWidthPercent=C[q].fromWidthPercent,O.toWidthPercent=C[q].toWidthPercent);var E=!0;t.vertical?(O.y=I,O.height=M-I,O.height<0&&(O.y+=O.height,O.height=-O.height,E=!1)):(O.x=I<M?I:M,O.width=Math.abs(I-M),E=I-M<0,O.y=j,O.height=m.columnWidth);var z=I-M;if(!isNaN(z)){z=Math.abs(z);var L=void 0,F=s._getRenderInfo(r,k,T),R=F.element,W=F.labelElement,V=void 0==R;if(W&&(s.renderer.removeElement(W),W=void 0),d){var U={element:R};L=this._columnAsPieSlice(U,t.rect,d,O),R=U.element;var B=this._getColors(r,k,void 0,"radialGradient",L.outerRadius)}else if(C[q].funnel){var Y=this._getTrapezoidPath(e.extend({},O),t.vertical,E);V?R=this.renderer.path(Y,{}):this.renderer.attr(R,{d:Y})}else V?R=this.renderer.rect(O.x,O.y,t.vertical?O.width:0,t.vertical?0:O.height):1==t.vertical?this.renderer.attr(R,{x:O.x,y:O.y,height:z}):this.renderer.attr(R,{x:O.x,y:O.y,width:z});if(z<1&&(1!=i||d)?this.renderer.attr(R,{display:"none"}):this.renderer.attr(R,{display:"block"}),V&&this.renderer.attr(R,{fill:B.fillColor,"fill-opacity":A.opacity,"stroke-opacity":A.opacity,stroke:B.lineColor,"stroke-width":A.stroke,"stroke-dasharray":A.dashStyle}),W&&this.renderer.removeElement(W),!N||0==z&&i<1)F={element:R,labelElement:W},s._setRenderInfo(r,k,T,F);else{if(o&&0!=this._get([D.showWaterfallLines,n.showWaterfallLines])){if(!h||h&&q==c){var G=h?-1:q;if(1==i&&!isNaN(a.offsets[q][T].from)&&!isNaN(a.offsets[q][T].to)){var $=b[G];if(void 0!=$){var K={x:$.x,y:e.jqx._ptrnd($.y)},X={x:j,y:K.y},J=n.columnsTopWidthPercent/100;isNaN(J)?J=1:(J>1||J<0)&&(J=1);var Z=n.columnsBottomWidthPercent/100;isNaN(Z)?Z=1:(Z>1||Z<0)&&(Z=1);var Q=t.vertical?O.width:O.height;if(K.x=K.x-Q/2+Q/2*J,S){var ee=Q*J/2;X.x=X.x+Q/2-(l.flip?-ee:ee)}else{var ee=Q*Z/2;X.x=X.x+Q/2-(l.flip?-ee:ee)}t.vertical||(this._swapXY([K]),this._swapXY([X])),this.renderer.line(K.x,K.y,X.x,X.y,{stroke:$.color,"stroke-width":A.stroke,"stroke-opacity":A.opacity,"fill-opacity":A.opacity,"stroke-dasharray":A.dashStyle})}}}1==i&&0!=z&&(b[h?-1:q]={y:M,x:t.vertical?O.x+O.width:O.y+O.height,color:B.lineColor})}if(d){var Q=(this._toPolarCoord(d,t.rect,O.x+O.width/2,O.y),this._showLabel(r,k,T,O,void 0,void 0,!0)),te=L.outerRadius+10;labelOffset=this._adjustTextBoxPosition(d.x,d.y,Q,te,(L.fromAngle+L.toAngle)/2,!0,!1,!1),W=this._showLabel(r,k,T,{x:labelOffset.x,y:labelOffset.y},void 0,void 0,!1,!1,!1)}else W=this._showLabel(r,k,T,O,void 0,void 0,!1,!1,E);F={element:R,labelElement:W},s._setRenderInfo(r,k,T,F),1==i&&this._installHandlers(R,"column",r,k,T)}}}}}}},_getTrapezoidPath:function(t,i,s){var r="",n=t.fromWidthPercent/100,a=t.toWidthPercent/100;if(!i){var o=t.width;t.width=t.height,t.height=o,o=t.x,t.x=t.y,t.y=o}var l=t.x+t.width/2,h=[{x:l-t.width*(s?a:n)/2,y:t.y+t.height},{x:l-t.width*(s?n:a)/2,y:t.y},{x:l+t.width*(s?n:a)/2,y:t.y},{x:l+t.width*(s?a:n)/2,y:t.y+t.height}];i||this._swapXY(h),r+="M "+e.jqx._ptrnd(h[0].x)+","+e.jqx._ptrnd(h[0].y);for(var d=1;d<h.length;d++)r+=" L "+e.jqx._ptrnd(h[d].x)+","+e.jqx._ptrnd(h[d].y);return r+=" Z"},_swapXY:function(e){for(var t=0;t<e.length;t++){var i=e[t].x;e[t].x=e[t].y,e[t].y=i}},_renderCandleStickSeries:function(t,i,s){var r=this,n=r.seriesGroups[t];if(n.series&&0!=n.series.length){var a="horizontal"==n.orientation,o=i;a&&(o={x:i.y,y:i.x,width:i.height,height:i.width});var l=r._calcGroupOffsets(t,o);if(l&&0!=l.xoffsets.length){var h;o.width;(n.polar||n.spider)&&(h=r._getPolarAxisCoords(t,o),2*h.r);for(var d=(r._alignValuesWithTicks(t),r._getGroupGradientType(t)),c=[],u=0;u<n.series.length;u++)c[u]=r._getColumnSerieWidthAndOffset(t,u);for(var u=0;u<n.series.length;u++)if(this._isSerieVisible(t,u)){var f=r._getSerieSettings(t,u),p=n.series[u];if(!p.customDraw){var m=e.isFunction(p.colorFunction)?void 0:r._getColors(t,u,NaN,d),g={rect:i,inverse:a,groupIndex:t,seriesIndex:u,symbolType:p.symbolType,symbolSize:p.symbolSize,"fill-opacity":f.opacity,"stroke-opacity":f.opacity,"stroke-width":f.stroke,"stroke-dasharray":f.dashStyle,gradientType:d,colors:m,renderData:l,polarAxisCoords:h,columnsInfo:c,isOHLC:s,items:[],self:r},v=r._getAnimProps(t,u),x=v.enabled&&!r._isToggleRefresh&&l.xoffsets.length<5e3?v.duration:0;r._animCandleStick(g,0);r._enqueueAnimation("series",void 0,void 0,x,function(e,t,i){r._animCandleStick(t,i)},g)}}}}},_animCandleStick:function(t,i){var s=["Open","Low","Close","High"],r=t.columnsInfo[t.seriesIndex].width,n=t.self.seriesGroups[t.groupIndex],a=t.renderData.xoffsets,o=-1,l=Math.abs(a.data[a.last]-a.data[a.first]);l*=i;for(var h=NaN,d=NaN,c=0;c<t.columnsInfo.length;c++){var u=t.columnsInfo[c];(isNaN(h)||h>u.offset)&&(h=u.offset),(isNaN(d)||d<u.offset+u.width)&&(d=u.offset+u.width)}for(var f=Math.abs(d-h),p=0!=n.skipOverlappingPoints,m=a.first;m<=a.last;m++){var g=a.data[m];if(!isNaN(g)&&!(-1!=o&&Math.abs(g-o)<f&&p)){if(Math.abs(a.data[m]-a.data[a.first])>l)break;o=g;var v=t.items[m]=t.items[m]||{};for(var c in s){var x=t.self._getDataValueAsNumber(m,n.series[t.seriesIndex]["dataField"+s[c]],t.groupIndex);if(isNaN(x))break;var y=t.renderData.offsets[t.seriesIndex][m][s[c]];if(isNaN(y))break;v[s[c]]=y}if(g+=t.inverse?t.rect.y:t.rect.x,t.polarAxisCoords){var w=this._toPolarCoord(t.polarAxisCoords,this._plotRect,g,y);g=w.x,y=w.y}g=e.jqx._ptrnd(g);for(var b in s)v[b]=e.jqx._ptrnd(v[b]);var _=t.colors;if(_||(_=t.self._getColors(t.groupIndex,t.seriesIndex,m,t.gradientType)),t.isOHLC){var T="M"+g+","+v.Low+" L"+g+","+v.High+" M"+(g-r/2)+","+v.Open+" L"+g+","+v.Open+" M"+(g+r/2)+","+v.Close+" L"+g+","+v.Close;t.inverse&&(T="M"+v.Low+","+g+" L"+v.High+","+g+" M"+v.Open+","+(g-r/2)+" L"+v.Open+","+g+" M"+v.Close+","+g+" L"+v.Close+","+(g+r/2));var j=v.lineElement;j||(j=this.renderer.path(T,{}),this.renderer.attr(j,{fill:_.fillColor,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:_.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),v.lineElement=j),1==i&&this._installHandlers(j,"column",t.groupIndex,t.seriesIndex,m)}else{var j=v.lineElement;j||(j=t.inverse?this.renderer.line(v.Low,g,v.High,g):this.renderer.line(g,v.Low,g,v.High),this.renderer.attr(j,{fill:_.fillColor,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:_.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),v.lineElement=j);var C=v.stickElement;if(g-=r/2,!C){var S=_.fillColor;v.Close<=v.Open&&_.fillColorAlt&&(S=_.fillColorAlt),C=t.inverse?this.renderer.rect(Math.min(v.Open,v.Close),g,Math.abs(v.Close-v.Open),r):this.renderer.rect(g,Math.min(v.Open,v.Close),r,Math.abs(v.Close-v.Open)),this.renderer.attr(C,{fill:S,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:_.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),v.stickElement=C}1==i&&this._installHandlers(C,"column",t.groupIndex,t.seriesIndex,m)}}}},_renderScatterSeries:function(t,i,s){var r=this.seriesGroups[t];if(r.series&&0!=r.series.length){var n=-1!=r.type.indexOf("bubble"),a="horizontal"==r.orientation,o=i;a&&(o={x:i.y,y:i.x,width:i.height,height:i.width});var l=this._calcGroupOffsets(t,o);if(l&&0!=l.xoffsets.length){var h,d=o.width;(r.polar||r.spider)&&(h=this._getPolarAxisCoords(t,o),d=2*h.r);var c=(this._alignValuesWithTicks(t),this._getGroupGradientType(t));s||(s="to");for(var u=0;u<r.series.length;u++){var f=this._getSerieSettings(t,u),p=r.series[u];if(!p.customDraw){var m=p.dataField,g=e.isFunction(p.colorFunction),v=this._getColors(t,u,NaN,c),x=NaN,y=NaN;if(n)for(var w=l.xoffsets.first;w<=l.xoffsets.last;w++){var b=this._getDataValueAsNumber(w,p.radiusDataField||p.sizeDataField,t);if("number"!=typeof b)throw"Invalid radiusDataField value at ["+w+"]";isNaN(b)||((isNaN(x)||b<x)&&(x=b),(isNaN(y)||b>y)&&(y=b))}var _=p.minRadius||p.minSymbolSize;isNaN(_)&&(_=d/50);var T=p.maxRadius||p.maxSymbolSize;isNaN(T)&&(T=d/25),_>T&&(T=_);var j=p.radius;j=isNaN(j)&&!isNaN(p.symbolSize)?"circle"==p.symbolType?p.symbolSize/2:p.symbolSize:5;for(var C=this._getAnimProps(t,u),S=C.enabled&&!this._isToggleRefresh&&l.xoffsets.length<5e3?C.duration:0,q={groupIndex:t,seriesIndex:u,symbolType:p.symbolType,symbolSize:p.symbolSize,"fill-opacity":f.opacity,"stroke-opacity":f.opacity,"stroke-width":f.stroke,"stroke-width-symbol":f.strokeSymbol,"stroke-dasharray":f.dashStyle,items:[],polarAxisCoords:h},k=void 0,w=l.xoffsets.first;w<=l.xoffsets.last;w++){var b=this._getDataValueAsNumber(w,m,t);if("number"==typeof b){var D=l.xoffsets.data[w],I=l.xoffsets.xvalues[w],M=l.offsets[u][w][s];if(!(M<o.y||M>o.y+o.height||isNaN(D)||isNaN(M))){if(a){var P=D;D=M,M=P+i.y}else D+=i.x;if(!(!g&&k&&this.enableSampling&&e.jqx._ptdist(k.x,k.y,D,M)<1)){k={x:D,y:M};var H=j;if(n){var A=this._getDataValueAsNumber(w,p.radiusDataField||p.sizeDataField,t);if("number"!=typeof A)continue;H=_+(T-_)*(A-x)/Math.max(1,y-x),isNaN(H)&&(H=_)}l.offsets[u][w].radius=H;var B=NaN,N=NaN,O=0,E=this._elementRenderInfo;if(void 0!=I&&E&&E.length>t&&E[t].series.length>u){var z=E[t].series[u][I];if(z&&!isNaN(z.to)){if(B=z.to,N=z.xoffset,O=j,a){var P=N;N=B,B=P+i.y}else N+=i.x;n&&(O=_+(T-_)*(z.valueRadius-x)/Math.max(1,y-x),isNaN(O)&&(O=_))}}g&&(v=this._getColors(t,u,w,c)),q.items.push({from:O,to:H,itemIndex:w,fill:v.fillColor,stroke:v.lineColor,x:D,y:M,xFrom:N,yFrom:B})}}}}this._animR(q,0);var L=this;this._enqueueAnimation("series",void 0,void 0,S,function(e,t,i){L._animR(t,i)},q)}}}}},_animR:function(t,i){for(var s=t.items,r=t.symbolType||"circle",n=t.symbolSize,a=0;a<s.length;a++){var o=s[a],l=o.x,h=o.y,d=Math.round((o.to-o.from)*i+o.from);if(isNaN(o.yFrom)||(h=o.yFrom+(h-o.yFrom)*i),isNaN(o.xFrom)||(l=o.xFrom+(l-o.xFrom)*i),t.polarAxisCoords){var c=this._toPolarCoord(t.polarAxisCoords,this._plotRect,l,h);l=c.x,h=c.y}l=e.jqx._ptrnd(l),h=e.jqx._ptrnd(h),d=e.jqx._ptrnd(d);var u=this._getRenderInfo(t.groupIndex,t.seriesIndex,s[a].itemIndex),f=u.element,p=u.labelElement;"circle"==r?(f||(f=this.renderer.circle(l,h,d),this.renderer.attr(f,{fill:o.fill,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:o.stroke,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]})),this._isVML?this.renderer.updateCircle(f,void 0,void 0,d):this.renderer.attr(f,{r:d,cy:h,cx:l})):(f&&this.renderer.removeElement(f),f=this._drawSymbol(r,l,h,o.fill,t["fill-opacity"],o.stroke,t["stroke-opacity"]||t["fill-opacity"],t["stroke-width-symbol"],t["stroke-dasharray"],n||d)),p&&this.renderer.removeElement(p),p=this._showLabel(t.groupIndex,t.seriesIndex,o.itemIndex,{x:l-d,y:h-d,width:2*d,height:2*d}),i>=1&&this._installHandlers(f,"circle",t.groupIndex,t.seriesIndex,o.itemIndex),this._setRenderInfo(t.groupIndex,t.seriesIndex,s[a].itemIndex,{element:f,labelElement:p})}},_showToolTip:function(t,i,s,r,n){var a=this,o=a._getXAxis(s),l=a._getValueAxis(s);if(!a._ttEl||s!=a._ttEl.gidx||r!=a._ttEl.sidx||n!=a._ttEl.iidx){var h=a.seriesGroups[s],d=h.series[r],c=a.enableCrosshairs;a._pointMarker?(t=parseInt(a._pointMarker.x+5),i=parseInt(a._pointMarker.y-5)):c=!1;var u=c&&0==a.showToolTips;t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i);a._ttEl;if(0!=h.showToolTips&&0!=d.showToolTips){var f=a._get([d.toolTipFormatSettings,h.toolTipFormatSettings,l.toolTipFormatSettings,a.toolTipFormatSettings]),p=a._get([d.toolTipFormatFunction,h.toolTipFormatFunction,l.toolTipFormatFunction,a.toolTipFormatFunction]),m=a._getColors(s,r,n),g=a._getDataValue(n,o.dataField,s);void 0!=o.dataField&&""!=o.dataField||(g=n),"date"==o.type&&(g=a._castAsDate(g,(f?f.dateFormat:void 0)||o.dateFormat));var v="";if(e.isFunction(p)){var x={},y=0;for(var w in d)0==w.indexOf("dataField")&&(x[w.substring(9,w.length).toLowerCase()]=a._getDataValue(n,d[w],s),y++);0==y?x=a._getDataValue(n,void 0,s):1==y&&(x=x[""]),v=p(x,n,d,h,g,o)}else{v=a._getFormattedValue(s,r,n,f,p);var b=this._getAxisSettings(o),_=b.toolTipFormatSettings,T=b.toolTipFormatFunction;T||_||"date"!=o.type||(T=this._getDefaultDTFormatFn(o.baseUnit||"day"));var j=a._formatValue(g,_,T,s,r,n);if(a._isPieGroup(s))g=a._getDataValue(n,d.displayText||d.dataField,s),j=a._formatValue(g,_,T,s,r,n),v=j+": "+v;else{var C=o.displayText||o.dataField||"";v=C.length>0?C+": "+j+"<br>"+v:j+"<br>"+v}}if(a._ttEl||(a._ttEl={}),a._ttEl.sidx=r,a._ttEl.gidx=s,a._ttEl.iidx=n,rect=a.renderer.getRect(),c){var S=e.jqx._ptrnd(a._pointMarker.x),q=e.jqx._ptrnd(a._pointMarker.y),k=a.crosshairsColor||a._defaultLineColor;if(h.polar||h.spider){var D=this._getPolarAxisCoords(s,this._plotRect);if(e.jqx._ptdist(S,q,D.x,D.y)>D.r)return;var I=Math.atan2(q-D.y,S-D.x),M=Math.cos(I)*D.r+D.x,P=Math.sin(I)*D.r+D.y;a._ttEl.vLine?a.renderer.attr(a._ttEl.vLine,{x1:D.x,y1:D.y,x2:M,y2:P}):a._ttEl.vLine=a.renderer.line(D.x,D.y,M,P,{stroke:k,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""})}else a._ttEl.vLine&&a._ttEl.hLine?(a.renderer.attr(a._ttEl.vLine,{x1:S,x2:S}),a.renderer.attr(a._ttEl.hLine,{y1:q,y2:q})):(a._ttEl.vLine=a.renderer.line(S,a._plotRect.y,S,a._plotRect.y+a._plotRect.height,{stroke:k,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""}),a._ttEl.hLine=a.renderer.line(a._plotRect.x,q,a._plotRect.x+a._plotRect.width,q,{stroke:k,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""}))}if(!u&&0!=a.showToolTips){var H=d.toolTipClass||h.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null),A=d.toolTipBackground||h.toolTipBackground||"#FFFFFF",B=d.toolTipLineColor||h.toolTipLineColor||m.lineColor,N=this._get([d.toolTipOpacity,h.toolTipOpacity,1]),O=this.getItemCoord(s,r,n),E=0;a._pointMarker&&a._pointMarker.element&&(E=d.symbolSizeSelected,isNaN(E)&&(E=d.symbolSize),(isNaN(E)||E>50||E<0)&&(E=h.symbolSize),(isNaN(E)||E>50||E<0)&&(E=8)),a._createTooltip(O,h,v,{css:H,fill:A,stroke:B,fillOpacity:N,symbolSize:E})}}}},_fitTooltip:function(e,t,i,s,r){var n={},a=2+r/2;if(t.x-i.width-7-a>e.x&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(n.left={arrowLocation:"right",x:t.x-i.width-7-a,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.x+t.width+i.width+7+a<e.x+e.width&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(n.right={arrowLocation:"left",x:t.x+t.width+a,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.y-i.height-a-7>e.y&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(n.top={arrowLocation:"bottom",x:t.x+t.width/2-i.width/2,y:t.y-i.height-a-7,width:i.width,height:i.height+7}),t.y+t.height+i.height+7+a<e.y+e.height&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(n.bottom={arrowLocation:"top",x:t.x+t.width/2-i.width/2,y:t.y+t.height+a,width:i.width,height:i.height+7}),t.width>t.height||(-1!=s.type.indexOf("stackedcolumn")||-1!=s.type.indexOf("stackedwaterfall"))&&"horizontal"!=s.orientation){if(n.left)return n.left;if(n.right)return n.right}else{if(n.top)return n.top;if(n.bottom)return n.bottom}for(var o in n)if(n[o])return n[o];return{arrowLocation:""}},_createTooltip:function(t,i,s,r){var n=this,a=i.type,o=!1,l=n._ttEl.box;if(!l){o=!0,l=n._ttEl.box=document.createElement("div");l.style.position="absolute",l.style.cursor="default",e(h).css({"z-index":1e7,"box-sizing":"content-box"}),e(document.body).append(l);var h=document.createElement("div");h.id="arrowOuterDiv",h.style.width="0px",h.style.height="0px",h.style.position="absolute",e(h).css({"z-index":1e7+1,"box-sizing":"content-box"});var d=document.createElement("div");d.id="arrowInnerDiv",d.style.width="0px",d.style.height="0px",d.style.position="absolute";var c=document.createElement("div");c.id="contentDiv",c.style.position="absolute",e(c).css({"box-sizing":"content-box"}),e(c).addClass("jqx-rc-all jqx-button"),e(c).appendTo(e(l)),e(h).appendTo(e(l)),e(d).appendTo(e(l)),e(d).css({"z-index":1e7+2,"box-sizing":"content-box"})}if(!s||0==s.length)return void e(l).fadeTo(0,0);c=e(l).find("#contentDiv")[0],h=e(l).find("#arrowOuterDiv")[0],d=e(l).find("#arrowInnerDiv")[0],d.style.opacity=h.style.opacity=r.fillOpacity,c.style.backgroundColor=r.fill,c.style.borderColor=r.stroke,c.style.opacity=r.fillOpacity;var u="<span class='"+r.css+"'>"+s+"</span>";e(c).html(u);var f=this._measureHtml(u,"jqx-rc-all jqx-button");if(rect=n._plotRect,!(f.width>rect.width||f.height>rect.height)){var p={width:f.width,height:f.height};arrowLocation="";var m=n._isColumnType(a);if(x=Math.max(t.x,rect.x),y=Math.max(t.y,rect.y),"dataPoint"==n.toolTipAlignment){if(-1!=a.indexOf("pie")||-1!=a.indexOf("donut")){var g=(t.fromAngle+t.toAngle)/2;g*=Math.PI/180;var v=!isNaN(t.innerRadius)&&t.innerRadius>0?(t.innerRadius+t.outerRadius)/2:.75*t.outerRadius;x=t.x=t.center.x+Math.cos(g)*v,y=t.y=t.center.y-Math.sin(g)*v,t.width=t.height=1}else m&&(i.polar||i.spider)&&(t.width=t.height=1);var w=this._fitTooltip(this._plotRect,t,p,i,r.symbolSize);""!=w.arrowLocation&&(arrowLocation=w.arrowLocation,x=w.x,y=w.y,p.width=w.width,p.height=w.height)}else arrowLocation="";"top"==arrowLocation||"bottom"==arrowLocation?(p.height+=7,x-=3.5,"bottom"==arrowLocation&&(y-=7)):"left"!=arrowLocation&&"right"!=arrowLocation||(p.width+=7,y-=3.5,"right"==arrowLocation&&(x-=7)),x+p.width>rect.x+rect.width&&(arrowLocation="",x=rect.x+rect.width-p.width),y+p.height>rect.y+rect.height&&(arrowLocation="",y=rect.y+rect.height-p.height);var b={x:0,y:0};e(c).css({width:f.width,height:f.height,left:0,top:0}),h.style["margin-top"]=h.style["margin-left"]=0,d.style["margin-top"]=d.style["margin-left"]=0,c.style["margin-top"]=c.style["margin-left"]=0;var _="7px solid",T="7px solid transparent";switch(arrowLocation){case"left":b={x:0,y:(f.height-7)/2},contentPostion={x:7,y:0},c.style["margin-left"]="7px",h.style["margin-left"]="0px",h.style["margin-top"]=b.y+"px",h.style["border-left"]="",h.style["border-right"]=_+" "+r.stroke,h.style["border-top"]=T,h.style["border-bottom"]=T,d.style["margin-left"]="1px",d.style["margin-top"]=b.y+"px",d.style["border-left"]="",d.style["border-right"]=_+" "+r.fill,d.style["border-top"]=T,d.style["border-bottom"]=T;break;case"right":b={x:p.width-7,y:(f.height-7)/2},contentPostion={x:0,y:0},h.style["margin-left"]=b.x+"px",h.style["margin-top"]=b.y+"px",h.style["border-left"]=_+" "+r.stroke,h.style["border-right"]="",h.style["border-top"]=T,h.style["border-bottom"]=T,d.style["margin-left"]=b.x-1+"px",d.style["margin-top"]=b.y+"px",d.style["border-left"]=_+" "+r.fill,d.style["border-right"]="",d.style["border-top"]=T,d.style["border-bottom"]=T;break;case"top":b={x:p.width/2-3.5,y:0},contentPostion={x:0,y:7},c.style["margin-top"]=contentPostion.y+"px",h.style["margin-left"]=b.x+"px",h.style["border-top"]="",h.style["border-bottom"]=_+" "+r.stroke,h.style["border-left"]=T,h.style["border-right"]=T,d.style["margin-left"]=b.x+"px",d.style["margin-top"]="1px",d.style["border-top"]="",d.style["border-bottom"]=_+" "+r.fill,d.style["border-left"]=T,d.style["border-right"]=T;break;case"bottom":b={x:p.width/2-3.5,y:p.height-7},contentPostion={x:0,y:0},h.style["margin-left"]=b.x+"px",h.style["margin-top"]=b.y+"px",h.style["border-top"]=_+" "+r.stroke,h.style["border-bottom"]="",h.style["border-left"]=T,h.style["border-right"]=T,d.style["margin-left"]=b.x+"px",d.style["margin-top"]=b.y-1+"px",d.style["border-top"]=_+" "+r.fill,d.style["border-bottom"]="",d.style["border-left"]=T,d.style["border-right"]=T}""==arrowLocation?(e(h).hide(),e(d).hide()):(e(h).show(),e(d).show()),e(l).css({width:p.width+"px",height:p.height+"px"});var j=n.host.coord();o&&(e(l).fadeOut(0,0),l.style.left=x+j.left+"px",l.style.top=y+j.top+"px"),e(l).clearQueue(),e(l).animate({left:x+j.left,top:y+j.top,opacity:1},n.toolTipMoveDuration,"easeInOutCirc"),e(l).fadeTo(400,1)}},_measureHtml:function(t,i){var s=this._measureDiv;s||(this._measureDiv=s=document.createElement("div"),s.style.position="absolute",s.style.cursor="default",s.style.overflow="hidden",s.style.display="none",e(s).addClass(i),this.host.append(s)),e(s).html(t);var r={width:e(s).width()+2,height:e(s).height()+2};return e.jqx.browser&&e.jqx.browser.mozilla&&(r.height+=3),r},_hideToolTip:function(t){this._ttEl&&(this._ttEl.box&&(0==t?e(this._ttEl.box).hide():e(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_get:function(t){return e.jqx.getByPriority(t)},_getAxisSettings:function(e){if(!e)return{};var t=this,i=e.gridLines||{},s={visible:this._get([i.visible,e.showGridLines,!0]),color:t._get([i.color,e.gridLinesColor,t._defaultLineColor]),unitInterval:t._get([i.unitInterval,i.interval,e.gridLinesInterval]),step:t._get([i.step,e.gridLinesStep]),dashStyle:t._get([i.dashStyle,e.gridLinesDashStyle]),width:t._get([i.lineWidth,1]),offsets:[],alternatingBackgroundColor:e.alternatingBackgroundColor,alternatingBackgroundColor2:e.alternatingBackgroundColor2,alternatingBackgroundOpacity:e.alternatingBackgroundOpacity},r=e.tickMarks||{},n={visible:this._get([r.visible,e.showTickMarks,!0]),color:t._get([r.color,e.tickMarksColor,t._defaultLineColor]),unitInterval:t._get([r.unitInterval,r.interval,e.tickMarksInterval]),step:t._get([r.step,e.tickMarksStep]),dashStyle:t._get([r.dashStyle,e.tickMarksDashStyle]),width:t._get([r.lineWidth,1]),size:t._get([r.size,4]),offsets:[]},a=e.title||{},o={visible:t._get([a.visible,!0]),text:t._get([e.description,a.text]),style:t._get([e.descriptionClass,a.class,t.toThemeProperty("jqx-chart-axis-description",null)]),halign:t._get([e.horizontalDescriptionAlignment,a.horizontalAlignment,"center"]),valign:t._get([e.verticalDescriptionAlignment,a.verticalAlignment,"center"]),angle:0,rotationPoint:t._get([a.rotationPoint,"centercenter"]),offset:t._get([a.offset,{x:0,y:0}])},l=e.line||{},h={visible:t._get([l.visible,!0]),color:t._get([l.color,s.color,t._defaultLineColor]),dashStyle:t._get([l.dashStyle,s.dashStyle,""]),width:t._get([l.lineWidth,1]),angle:t._get([l.angle,NaN])},d=e.padding||{};d={left:d.left||0,right:d.right||0,top:d.top||0,bottom:d.bottom||0};var c=this._getAxisLabelsSettings(e);return{visible:this._get([e.visible,e.showValueAxis,e.showXAxis,e.showCategoryAxis,!0]),customDraw:this._get([e.customDraw,!1]),gridLines:s,tickMarks:n,line:h,title:o,labels:c,padding:d,toolTipFormatFunction:this._get([e.toolTipFormatFunction,e.formatFunction,c.formatFunction]),toolTipFormatSettings:this._get([e.toolTipFormatSettings,e.formatSettings,c.formatSettings])}},_getAxisLabelsSettings:function(e){var t=this,i=e.labels||{};return{visible:t._get([e.showLabels,i.visible,!0]),unitInterval:t._get([i.unitInterval,i.interval,e.labelsInterval]),step:t._get([i.step,e.labelsStep]),angle:t._get([e.textRotationAngle,i.angle,0]),style:t._get([e.class,i.class,t.toThemeProperty("jqx-chart-axis-text",null)]),halign:t._get([e.horizontalTextAlignment,i.horizontalAlignment,"center"]),valign:t._get([e.verticalTextAlignment,i.verticalAlignment,"center"]),textRotationPoint:t._get([e.textRotationPoint,i.rotationPoint,"auto"]),textOffset:t._get([e.textOffset,i.offset,{x:0,y:0}]),autoRotate:t._get([e.labelsAutoRotate,i.autoRotate,!1]),formatSettings:t._get([e.formatSettings,i.formatSettings,void 0]),formatFunction:t._get([e.formatFunction,i.formatFunction,void 0])}},_getLabelsSettings:function(t,i,s,r){for(var n=this.seriesGroups[t],a=n.series[i],o=isNaN(s)?void 0:this._getDataValue(s,a.dataField,t),l=r||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"],h={},d=0;d<l.length;d++){var c=l[d],u="labels"+c,f="label"+c,p=c.substring(0,1).toLowerCase()+c.substring(1),m=void 0;n.labels&&"object"==typeof n.labels&&(m=n.labels[p]),a.labels&&"object"==typeof a.labels&&void 0!=a.labels[p]&&(m=a.labels[p]),m=this._get([a[u],a[f],m,n[u],n[f]]),e.isFunction(m)?h[p]=m(o,s,a,n):h[p]=m}h.class=h.class||this.toThemeProperty("jqx-chart-label-text",null),h.visible=this._get([h.visible,a.showLabels,n.showLabels,void 0!=a.labels||void 0,void 0!=n.labels||void 0]);var g=h.padding||1;return h.padding={left:this._get([g.left,isNaN(g)?1:g]),right:this._get([g.right,isNaN(g)?1:g]),top:this._get([g.top,isNaN(g)?1:g]),bottom:this._get([g.bottom,isNaN(g)?1:g])},h},_showLabel:function(e,t,i,s,r,n,a,o,l,h,d){var c=this.seriesGroups[e],u=(c.series[t],{width:0,height:0});if(!isNaN(i)){var f=this._getLabelsSettings(e,t,i);if(!f.visible)return a?u:void 0;if(s.width<0||s.height<0)return a?u:void 0;var p=f.angle;isNaN(h)||(p=h);var m=f.offset||{},g={x:m.x,y:m.y};isNaN(g.x)&&(g.x=0),isNaN(g.y)&&(g.y=0),r=r||f.horizontalAlignment||"center",n=n||f.verticalAlignment||"center";var v=this._getFormattedValue(e,t,i,void 0,void 0,!0),x=s.width,y=s.height;if(1==o&&"center"!=r&&(r="right"==r?"left":"right"),1==l&&"center"!=n&&"middle"!=n&&(n="top"==n?"bottom":"top",g.y*=-1),u=this.renderer.measureText(v,p,{class:f.class}),a)return u;var w=0,b=0;x>0&&(""==r||"center"==r?w+=(x-u.width)/2:"right"==r&&(w+=x-u.width)),y>0&&(""==n||"center"==n?b+=(y-u.height)/2:"bottom"==n&&(b+=y-u.height)),w+=s.x+g.x,b+=s.y+g.y;var _=this._plotRect;w<=_.x&&(w=_.x+2),b<=_.y&&(b=_.y+2);var T={width:Math.max(u.width,1),height:Math.max(u.height,1)};b+T.height>=_.y+_.height&&(b=_.y+_.height-T.height-2),w+T.width>=_.x+_.width&&(w=_.x+_.width-T.width-2);var j,C=f.backgroundColor,S=f.borderColor,q=f.padding;if(C||S){j=this.renderer.beginGroup();var s=this.renderer.rect(w-q.left,b-q.top,u.width+q.left+q.right,u.height+q.bottom+q.bottom,{fill:C||"transparent","fill-opacity":f.backgroundOpacity||1,stroke:S||"transparent","stroke-opacity":f.borderOpacity,"stroke-width":1})}var k=this.renderer.text(v,w,b,u.width,u.height,p,{class:f.class,
opacity:f.opacity||1},!1,"center","center");return d&&(d.x=w-q.left,d.y=b-q.top,d.width=u.width+q.left+q.right,d.height=u.height+q.bottom+q.bottom),this._isVML&&(this.renderer.removeElement(k),this.renderer.getContainer()[0].appendChild(k)),j&&this.renderer.endGroup(),j||k}},_getAnimProps:function(e,t){var i=this.seriesGroups[e],s=isNaN(t)?void 0:i.series[t],r=1==this.enableAnimations;i.enableAnimations&&(r=1==i.enableAnimations),s&&s.enableAnimations&&(r=1==s.enableAnimations);var n=this.animationDuration;isNaN(n)&&(n=1e3);var a=i.animationDuration;if(isNaN(a)||(n=a),s){var o=s.animationDuration;isNaN(o)||(n=o)}return n>5e3&&(n=1e3),{enabled:r,duration:n}},_isColorTransition:function(e,t,i,s){if(s-1<i.xoffsets.first)return!1;var r=this._getColors(e,t,s,this._getGroupGradientType(e)),n=this._getColors(e,t,s-1,this._getGroupGradientType(e));return r.fillColor!=n.fillColor},_renderLineSeries:function(t,i){var s=this.seriesGroups[t];if(s.series&&0!=s.series.length){var r=-1!=s.type.indexOf("area"),n=-1!=s.type.indexOf("stacked"),a=n&&-1!=s.type.indexOf("100"),o=-1!=s.type.indexOf("spline"),l=-1!=s.type.indexOf("step"),h=-1!=s.type.indexOf("range"),d=1==s.polar||1==s.spider;if(d&&(l=!1),!l||!o){var c=this._getDataLen(t),u=(i.width,"horizontal"==s.orientation),f=1==this._getXAxis(t).flip,p=i;u&&(p={x:i.y,y:i.x,width:i.height,height:i.width});var m=this._calcGroupOffsets(t,p);if(m&&0!=m.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[t]={};for(var g=s.series.length-1;g>=0;g--){var v=this._getSerieSettings(t,g),x={groupIndex:t,rect:p,serieIndex:g,swapXY:u,isArea:r,isSpline:o,isRange:h,isPolar:d,settings:v,segments:[],pointsLength:0};if(this._isSerieVisible(t,g)){var y=s.series[g];if(!y.customDraw){var w,b=e.isFunction(y.colorFunction),_=m.xoffsets.first,T=_,j=this._getColors(t,g,NaN,this._getGroupGradientType(t));do{var C=[],S=[],q=[],k=0,D=0,I=NaN,M=NaN,P=NaN;if(!(m.xoffsets.length<1)){var H=this._getAnimProps(t,g),A=H.enabled&&!this._isToggleRefresh&&m.xoffsets.length<1e4&&1!=this._isVML?H.duration:0,B=_;w=!1;for(var N=(this._getColors(t,g,_,this._getGroupGradientType(t)),void 0),O=_;O<=m.xoffsets.last;O++){_=O;var E=m.xoffsets.data[O],z=m.xoffsets.xvalues[O];if(!isNaN(E)&&(E=Math.max(E,1),k=E,D=m.offsets[g][O].to,!(!b&&N&&this.enableSampling&&e.jqx._ptdist(N.x,N.y,k,D)<1))){N={x:k,y:D};var L=m.offsets[g][O].from;if(isNaN(D)||isNaN(L)){if("connect"==y.emptyPointsDisplay)continue;if("zero"!=y.emptyPointsDisplay){w=!0;break}isNaN(D)&&(D=m.baseOffset),isNaN(L)&&(L=m.baseOffset)}if(b&&this._isColorTransition(t,g,m,_)&&C.length>1){_--;break}var F=this._elementRenderInfo;if(F&&F.length>t&&F[t].series.length>g){var R=F[t].series[g][z],P=e.jqx._ptrnd(R?R.to:void 0),W=e.jqx._ptrnd(p.x+(R?R.xoffset:void 0));q.push(u?{y:W,x:P,index:O}:{x:W,y:P,index:O})}T=O,v.stroke<2&&(D-p.y<=1&&(D=p.y+1),L-p.y<=1&&(L=p.y+1),p.y+p.height-D<=1&&(D=p.y+p.height-1),p.y+p.height-L<=1&&(L=p.y+p.height-1)),!r&&a&&(D<=p.y&&(D=p.y+1),D>=p.y+p.height&&(D=p.y+p.height-1),L<=p.y&&(L=p.y+1),L>=p.y+p.height&&(L=p.y+p.height-1)),E=Math.max(E,1),k=E+p.x,1==s.skipOverlappingPoints&&!isNaN(I)&&Math.abs(I-k)<=1||(!l||isNaN(I)||isNaN(M)||M!=D&&C.push(u?{y:k,x:e.jqx._ptrnd(M)}:{x:k,y:e.jqx._ptrnd(M)}),C.push(u?{y:k,x:e.jqx._ptrnd(D),index:O}:{x:k,y:e.jqx._ptrnd(D),index:O}),S.push(u?{y:k,x:e.jqx._ptrnd(L),index:O}:{x:k,y:e.jqx._ptrnd(L),index:O}),I=k,M=D,isNaN(P)&&(P=D))}}if(0!=C.length){var V=C[C.length-1].index;b&&(j=this._getColors(t,g,V,this._getGroupGradientType(t)));var U=p.x+m.xoffsets.data[B],Y=p.x+m.xoffsets.data[T];if(r&&1==s.alignEndPointsWithIntervals){if(U>p.x&&(U=p.x),Y<p.x+p.width&&(Y=p.x+p.width),f){var G=U;U=Y,Y=G}}Y=e.jqx._ptrnd(Y),U=e.jqx._ptrnd(U);var $=m.baseOffset;P=e.jqx._ptrnd(P);var K=e.jqx._ptrnd(D)||$;h&&(C=C.concat(S.reverse())),x.pointsLength+=C.length;var X={lastItemIndex:V,colorSettings:j,pointsArray:C,pointsStart:q,left:U,right:Y,pyStart:P,pyEnd:K,yBase:$,labelElements:[],symbolElements:[]};x.segments.push(X)}else _++}}while(_<m.xoffsets.length-1||w);this._linesRenderInfo[t][g]=x}}else this._linesRenderInfo[t][g]=x}var J=this._linesRenderInfo[t],Z=[];for(var O in J)Z.push(J[O]);Z=Z.sort(function(e,t){return e.serieIndex-t.serieIndex}),r&&n&&Z.reverse();for(var O=0;O<Z.length;O++){var x=Z[O];this._animateLine(x,0==A?1:0);var Q=this;this._enqueueAnimation("series",void 0,void 0,A,function(e,t,i){Q._animateLine(t,i)},x)}}}}},_animateLine:function(e,t){var i=e.settings,s=e.groupIndex,r=e.serieIndex,n=this.seriesGroups[s],a=n.series[r],o=this._getSymbol(s,r),l=this._getLabelsSettings(s,r,NaN,["Visible"]).visible,h=!0;e.isPolar&&(isNaN(n.endAngle)||360==Math.round(Math.abs((isNaN(n.startAngle)?0:n.startAngle)-n.endAngle))||(h=!1));for(var d=0,c=0;c<e.segments.length;c++){var u=e.segments[c],f=this._calculateLine(s,e.pointsLength,d,u.pointsArray,u.pointsStart,u.yBase,t,e.isArea,e.swapXY);if(d+=u.pointsArray.length,""!=f){var p=f.split(" "),m=(p.length,f);m=""!=m?this._buildLineCmd(f,e.isRange,u.left,u.right,u.pyStart,u.pyEnd,u.yBase,e.isArea,e.isPolar,h,e.isSpline,e.swapXY):"M 0 0";var g=u.colorSettings;if(u.pathElement?this.renderer.attr(u.pathElement,{d:m}):(u.pathElement=this.renderer.path(m,{"stroke-width":i.stroke,stroke:g.lineColor,"stroke-opacity":i.opacity,"fill-opacity":i.opacity,"stroke-dasharray":i.dashStyle,fill:e.isArea?g.fillColor:"none"}),this._installHandlers(u.pathElement,"path",s,r,u.lastItemIndex)),u.labelElements){for(var v=0;v<u.labelElements.length;v++)this.renderer.removeElement(u.labelElements[v]);u.labelElements=[]}if(u.symbolElements){for(var v=0;v<u.symbolElements.length;v++)this.renderer.removeElement(u.symbolElements[v]);u.symbolElements=[]}if(u.pointsArray.length==p.length&&("none"!=o||l))for(var x=a.symbolSize,y=this._plotRect,v=0;v<p.length;v++){var w=p[v].split(",");if(w={x:parseFloat(w[0]),y:parseFloat(w[1])},!(w.x<y.x||w.x>y.x+y.width||w.y<y.y||w.y>y.y+y.height)){if("none"!=o){var b=this._getColors(s,r,u.pointsArray[v].index,this._getGroupGradientType(s)),_=this._drawSymbol(o,w.x,w.y,b.fillColorSymbol,i.opacity,b.lineColorSymbol,i.opacity,i.strokeSymbol,void 0,x);u.symbolElements.push(_)}if(l){var T=(v>0?p[v-1]:p[v]).split(",");T={x:parseFloat(T[0]),y:parseFloat(T[1])};var j=(v<p.length-1?p[v+1]:p[v]).split(",");if(j={x:parseFloat(j[0]),y:parseFloat(j[1])},w=this._adjustLineLabelPosition(s,r,u.pointsArray[v].index,w,T,j)){var C=this._showLabel(s,r,u.pointsArray[v].index,{x:w.x,y:w.y,width:0,height:0});u.labelElements.push(C)}}}}if(1==t&&"none"!=o)for(var v=0;v<u.symbolElements.length;v++)isNaN(u.pointsArray[v].index)||this._installHandlers(u.symbolElements[v],"symbol",s,r,u.pointsArray[v].index)}}},_adjustLineLabelPosition:function(e,t,i,s,r,n){var a=this._showLabel(e,t,i,{width:0,height:0},"","",!0);if(a){var o={x:s.x-a.width/2,y:0};return o.y=s.y-1.5*a.height,o}},_calculateLine:function(t,i,s,r,n,a,o,l,h){var d,c=this.seriesGroups[t];1!=c.polar&&1!=c.spider||(d=this._getPolarAxisCoords(t,this._plotRect));var u="",f=r.length;if(!l&&0==n.length){f=i*o-s}for(var p=0;p<f+1&&p<r.length;p++){p>0&&(u+=" ");var m=r[p].y,g=r[p].x,v=l?a:m,x=g;if(n&&n.length>p&&(v=n[p].y,x=n[p].x,(isNaN(v)||isNaN(x))&&(v=m,x=g)),x,f<=r.length&&p>0&&p==f&&(x=r[p-1].x,v=r[p-1].y),h?(g=e.jqx._ptrnd((g-v)*(l?o:1)+v),m=e.jqx._ptrnd(m)):(g=e.jqx._ptrnd((g-x)*o+x),m=e.jqx._ptrnd((m-v)*o+v)),d){var y=this._toPolarCoord(d,this._plotRect,g,m);g=y.x,m=y.y}u+=g+","+m}return u},_buildLineCmd:function(e,t,i,s,r,n,a,o,l,h,d,c){var u=e,f=c?a+","+i:i+","+a,p=c?a+","+s:s+","+a;!o||l||t||(u=f+" "+e+" "+p),d&&(u=this._getBezierPoints(u));var m=u.split(" ");if(0==m.length)return"";if(1==m.length){var g=m[0].split(",");return"M "+m[0]+" L"+(parseFloat(g[0])+1)+","+(parseFloat(g[1])+1)}var v=m[0].replace("M","");return o&&!l?u=t?"M "+v+" L "+v+(d?"":" L "+v+" ")+u:"M "+f+" L "+v+" "+u:d||(u="M "+v+" L "+v+" "+u),(l&&h||t)&&(u+=" Z"),u},_getSerieSettings:function(e,t){var i=this.seriesGroups[e],s=-1!=i.type.indexOf("area"),r=-1!=i.type.indexOf("line"),n=i.series[t],a=n.dashStyle||i.dashStyle||"",o=n.opacity||i.opacity;(isNaN(o)||o<0||o>1)&&(o=1);var l=n.lineWidth;isNaN(l)&&"auto"!=l&&(l=i.lineWidth),("auto"==l||isNaN(l)||l<0||l>15)&&(l=s?2:r?3:1);var h=n.lineWidthSymbol;return isNaN(h)&&(h=1),{stroke:l,strokeSymbol:h,opacity:o,dashStyle:a}},_getColors:function(t,i,s,r,n){var a=this.seriesGroups[t],o=a.series[i],l=this._get([o.useGradientColors,a.useGradientColors,a.useGradient,!0]),h=this._getSeriesColors(t,i,s);h.fillColor||(h.fillColor=y,h.fillColorSelected=e.jqx.adjustColor(y,1.1),h.fillColorAlt=e.jqx.adjustColor(y,4),h.fillColorAltSelected=e.jqx.adjustColor(y,3),h.lineColor=h.symbolColor=e.jqx.adjustColor(y,.9),h.lineColorSelected=h.symbolColorSelected=e.jqx.adjustColor(y,.9));var d=[[0,1.4],[100,1]],c=[[0,1],[25,1.1],[50,1.4],[100,1]],u=[[0,1.3],[90,1.2],[100,1]],f=NaN;if(isNaN(n)||(f=2==n?d:c),l){var p={};for(var m in h)p[m]=h[m];if(h=p,"verticalLinearGradient"==r||"horizontalLinearGradient"==r){var g="verticalLinearGradient"==r?f||d:f||c,v=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(var x in v){var y=h[v[x]];y&&(h[v[x]]=this.renderer._toLinearGradient(y,"verticalLinearGradient"==r,g))}}else if("radialGradient"==r){var w,f=d;("pie"==a.type||"donut"==a.type||a.polar)&&void 0!=s&&this._renderData[t]&&this._renderData[t].offsets[i]&&(w=this._renderData[t].offsets[i][s],f=u),h.fillColor=this.renderer._toRadialGradient(h.fillColor,f,w),h.fillColorSelected=this.renderer._toRadialGradient(h.fillColorSelected,f,w)}}return h},_installHandlers:function(e,t,i,s,r){if(!this.enableEvents)return!1;var n=this,a=this.seriesGroups[i],o=this.seriesGroups[i].series[s],l=-1!=a.type.indexOf("line")||-1!=a.type.indexOf("area");l||0==a.enableSelection||0==o.enableSelection||(this.renderer.addHandler(e,"mousemove",function(e){var t=n._selected;if(!t||!t.isLineType||"click"!=t.linesUnselectMode||t.group==i&&t.series==s){var a=e.pageX||e.clientX||e.screenX,o=e.pageY||e.clientY||e.screenY,l=n.host.offset();a-=l.left,o-=l.top,n._mouseX==a&&n._mouseY==o||n._ttEl&&n._ttEl.gidx==i&&n._ttEl.sidx==s&&n._ttEl.iidx==r||n._startTooltipTimer(i,s,r)}}),this.renderer.addHandler(e,"mouseout",function(e){return})),0!=a.enableSelection&&0!=o.enableSelection&&this.renderer.addHandler(e,"mouseover",function(a){var o=n._selected;o&&o.isLineType&&"click"==o.linesUnselectMode&&(o.group!=i||o.series!=s)||n._select(e,t,i,s,r,r)}),this.renderer.addHandler(e,"click",function(e){clearTimeout(n._hostClickTimer),n._lastClickTs=(new Date).valueOf(),l&&"symbol"!=t&&"pointMarker"!=t||(n._isColumnType(a.type)&&n._unselect(),isNaN(r)||(e.stopImmediatePropagation(),n._raiseItemEvent("click",a,o,r)))})},_getHorizontalOffset:function(t,i,s,r){var n=this._plotRect;if(0==this._getDataLen(t))return{index:void 0,value:s};var a=this._calcGroupOffsets(t,this._plotRect);if(0==a.xoffsets.length)return{index:void 0,value:void 0};var o,l=s,h=r,d=this.seriesGroups[t];(d.polar||d.spider)&&(o=this._getPolarAxisCoords(t,n));for(var c,u,f,p,m=(this._getXAxis(t).flip,a.xoffsets.first);m<=a.xoffsets.last;m++){var g=a.xoffsets.data[m],v=a.offsets[i][m].to,x=0;if(o){var y=this._toPolarCoord(o,n,g+n.x,v);g=y.x,v=y.y,x=e.jqx._ptdist(l,h,g,v)}else if("horizontal"==d.orientation){g+=n.y;var w=v;v=g,g=w,x=e.jqx._ptdist(l,h,g,v)}else g+=n.x,x=Math.abs(l-g);(isNaN(c)||c>x)&&(c=x,u=m,f=g,p=v)}return{index:u,value:a.xoffsets.data[u],polarAxisCoords:o,x:f,y:p}},onmousemove:function(t,i){if((this._mouseX!=t||this._mouseY!=i)&&(this._mouseX=t,this._mouseY=i,this._selected)){var s=this._selected.group,r=this._selected.series,n=this.seriesGroups[s],a=n.series[r],o=this._plotRect;if(this.renderer&&(o=this.renderer.getRect(),o.x+=5,o.y+=5,o.width-=10,o.height-=10),t<o.x||t>o.x+o.width||i<o.y||i>o.y+o.height)return this._hideToolTip(),void this._unselect();var l="horizontal"==n.orientation,o=this._plotRect;if(-1!=n.type.indexOf("line")||-1!=n.type.indexOf("area")){var h=this._getHorizontalOffset(s,this._selected.series,t,i),d=h.index;if(void 0==d)return;if(this._selected.item!=d){for(var c=this._linesRenderInfo[s][r].segments,u=0;d>c[u].lastItemIndex;)if(++u>=c.length)return;var f=c[u].pathElement,p=c[u].lastItemIndex;this._unselect(!1),this._select(f,"path",s,r,d,p)}var m=this._getSymbol(this._selected.group,this._selected.series);"none"==m&&(m="circle");var g=this._calcGroupOffsets(s,o),v=g.offsets[this._selected.series][d].to,x=v;-1!=n.type.indexOf("range")&&(x=g.offsets[this._selected.series][d].from);var y=l?t:i;if(i=!isNaN(x)&&Math.abs(y-x)<Math.abs(y-v)?x:v,isNaN(i))return;if(t=h.value,l){var w=t;t=i,i=w+o.y}else t+=o.x;if(h.polarAxisCoords&&(t=h.x,i=h.y),i=e.jqx._ptrnd(i),t=e.jqx._ptrnd(t),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(t)||isNaN(i))return;var b=this._getSeriesColors(s,r,d),_=this._getSerieSettings(s,r),T=a.symbolSizeSelected;isNaN(T)&&(T=a.symbolSize),(isNaN(T)||T>50||T<0)&&(T=n.symbolSize),(isNaN(T)||T>50||T<0)&&(T=8),(this.showToolTips||this.enableCrosshairs)&&(this._pointMarker={type:m,x:t,y:i,gidx:s,sidx:r,iidx:d},this._pointMarker.element=this._drawSymbol(m,t,i,b.fillColorSymbolSelected,_.opacity,b.lineColorSymbolSelected,_.opacity,_.strokeSymbol,_.dashStyle,T),this._installHandlers(this._pointMarker.element,"pointMarker",s,r,d)),this._startTooltipTimer(s,this._selected.series,d)}}},_drawSymbol:function(e,t,i,s,r,n,a,o,l,h){var d,c=h||6,u=c/2;switch(e){case"none":return;case"circle":d=this.renderer.circle(t,i,c/2);break;case"square":c-=1,u=c/2,d=this.renderer.rect(t-u,i-u,c,c);break;case"diamond":var f="M "+(t-u)+","+i+" L"+t+","+(i-u)+" L"+(t+u)+","+i+" L"+t+","+(i+u)+" Z";d=this.renderer.path(f);break;case"triangle_up":case"triangle":var f="M "+(t-u)+","+(i+u)+" L "+(t+u)+","+(i+u)+" L "+t+","+(i-u)+" Z";d=this.renderer.path(f);break;case"triangle_down":var f="M "+(t-u)+","+(i-u)+" L "+t+","+(i+u)+" L "+(t+u)+","+(i-u)+" Z";d=this.renderer.path(f);break;case"triangle_left":var f="M "+(t-u)+","+i+" L "+(t+u)+","+(i+u)+" L "+(t+u)+","+(i-u)+" Z";d=this.renderer.path(f);break;case"triangle_right":var f="M "+(t-u)+","+(i-u)+" L "+(t-u)+","+(i+u)+" L "+(t+u)+","+i+" Z";d=this.renderer.path(f);break;default:d=this.renderer.circle(t,i,c)}return this.renderer.attr(d,{fill:s,"fill-opacity":r,stroke:n,"stroke-width":o,"stroke-opacity":a,"stroke-dasharray":l||""}),"circle"!=e&&(this.renderer.attr(d,{r:c/2}),"square"!=e&&this.renderer.attr(d,{x:t,y:i})),d},_getSymbol:function(e,t){var i,s=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],r=this.seriesGroups[e],n=r.series[t];return void 0!=n.symbolType&&(i=n.symbolType),void 0==i&&(i=r.symbolType),"default"==i?s[t%s.length]:void 0!=i?i:"none"},_startTooltipTimer:function(e,t,i,s,r,n,a){this._cancelTooltipTimer();var o=this,l=(o.seriesGroups[e],this.toolTipShowDelay||this.toolTipDelay);(isNaN(l)||l>1e4||l<0)&&(l=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(l=0),isNaN(n)||(l=n),clearTimeout(this._tttimerHide),isNaN(s)&&(s=o._mouseX),isNaN(r)&&(r=o._mouseY-3),0==l&&o._showToolTip(s,r,e,t,i),this._tttimer=setTimeout(function(){0!=l&&o._showToolTip(s,r,e,t,i);var n=o.toolTipHideDelay;isNaN(a)||(n=a),isNaN(n)&&(n=4e3),o._tttimerHide=setTimeout(function(){o._hideToolTip(),o._unselect()},n)},l)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(e){var t=this.seriesGroups[e];return-1!=t.type.indexOf("area")?"horizontal"==t.orientation?"horizontalLinearGradient":"verticalLinearGradient":this._isColumnType(t.type)||-1!=t.type.indexOf("candle")?t.polar?"radialGradient":"horizontal"==t.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=t.type.indexOf("scatter")||-1!=t.type.indexOf("bubble")||this._isPieGroup(e)?"radialGradient":void 0},_select:function(e,t,i,s,r,n){if(this._selected){if(this._selected.item==r&&this._selected.series==s&&this._selected.group==i)return;this._unselect()}var a=this.seriesGroups[i],o=a.series[s];if(0!=a.enableSelection&&0!=o.enableSelection){var l=-1!=a.type.indexOf("line")&&-1==a.type.indexOf("area");this._selected={element:e,type:t,group:i,series:s,item:r,iidxBase:n,isLineType:l,linesUnselectMode:o.linesUnselectMode||a.linesUnselectMode};var h=this._getColors(i,s,n||r,this._getGroupGradientType(i)),d=h.fillColorSelected;l&&(d="none");var c=this._getSerieSettings(i,s),u="symbol"==t?h.lineColorSymbolSelected:h.lineColorSelected;d="symbol"==t?h.fillColorSymbolSelected:d;var f="symbol"==t?1:c.stroke;this.renderer.getAttr(e,"fill")==h.fillColorAlt&&(d=h.fillColorAltSelected),this.renderer.attr(e,{stroke:u,fill:d,"stroke-width":f}),-1==a.type.indexOf("pie")&&-1==a.type.indexOf("donut")||this._applyPieSelect(),this._raiseItemEvent("mouseover",a,o,r)}},_applyPieSelect:function(){var e=this;e._createAnimationGroup("animPieSlice");var t=this._selected;if(t){var i=this.getItemCoord(t.group,t.series,t.item);if(i){var s=this._getRenderInfo(t.group,t.series,t.item),r={element:s,coord:i};this._enqueueAnimation("animPieSlice",void 0,void 0,300,function(i,s,r){var n=s.coord,a=n.selectedRadiusChange*r,o=e.renderer.pieSlicePath(n.center.x,n.center.y,0==n.innerRadius?0:n.innerRadius+a,n.outerRadius+a,n.fromAngle,n.toAngle,n.centerOffset);e.renderer.attr(s.element.element,{d:o}),e._showPieLabel(t.group,t.series,t.item,void 0,a)},r),e._startAnimation("animPieSlice")}}},_applyPieUnselect:function(){this._stopAnimations();var e=this._selected;if(e){var t=this.getItemCoord(e.group,e.series,e.item);if(t&&t.center){var i=this.renderer.pieSlicePath(t.center.x,t.center.y,t.innerRadius,t.outerRadius,t.fromAngle,t.toAngle,t.centerOffset);this.renderer.attr(e.element,{d:i}),this._showPieLabel(e.group,e.series,e.item,void 0,0)}}},_unselect:function(){var e=this;if(e._selected){var t=e._selected.group,i=e._selected.series,s=e._selected.item,r=e._selected.iidxBase,n=e._selected.type,a=e.seriesGroups[t],o=a.series[i],l=-1!=a.type.indexOf("line")&&-1==a.type.indexOf("area"),h=e._getColors(t,i,r||s,e._getGroupGradientType(t)),d=h.fillColor;l&&(d="none");var c=e._getSerieSettings(t,i),u="symbol"==n?h.lineColorSymbol:h.lineColor;d="symbol"==n?h.fillColorSymbol:d,this.renderer.getAttr(e._selected.element,"fill")==h.fillColorAltSelected&&(d=h.fillColorAlt);var f="symbol"==n?1:c.stroke;e.renderer.attr(e._selected.element,{stroke:u,fill:d,"stroke-width":f}),-1==a.type.indexOf("pie")&&-1==a.type.indexOf("donut")||this._applyPieUnselect(),e._selected=void 0,isNaN(s)||e._raiseItemEvent("mouseout",a,o,s)}e._pointMarker&&(e._pointMarker.element&&(e.renderer.removeElement(e._pointMarker.element),e._pointMarker.element=void 0),e._pointMarker=void 0,e._hideCrosshairs())},_raiseItemEvent:function(t,i,s,r){for(var n=s[t]||i[t],a=0;a<this.seriesGroups.length&&this.seriesGroups[a]!=i;a++);if(a!=this.seriesGroups.length){var o={event:t,seriesGroup:i,serie:s,elementIndex:r,elementValue:this._getDataValue(r,s.dataField,a)};n&&e.isFunction(n)&&n(o),this._raiseEvent(t,o)}},_raiseEvent:function(t,i){var s=new e.Event(t);return s.owner=this,i.event=t,s.args=i,this.host.trigger(s)},_calcInterval:function(e,t,i){var s=Math.abs(t-e),r=s/i,n=[1,2,3,4,5,10,15,20,25,50,100],a=[.5,.25,.125,.1],o=.1,l=n;r<1&&(l=a,o=10);var h=0;do{h=0,r>=1?o*=10:o/=10;for(var d=1;d<l.length&&Math.abs(l[h]*o-r)>Math.abs(l[d]*o-r);d++)h=d}while(h==l.length-1);return l[h]*o},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh){var e=this._elementRenderInfo=[];if(!this._isSelectorRefresh)for(var t=0;t<this._renderData.length;t++){for(this._getXAxis(t).dataField;e.length<=t;)e.push({});var i=e[t],s=this._renderData[t];if(s.offsets){if(s.valueAxis){i.valueAxis={itemOffsets:{}};for(var r in s.valueAxis.itemOffsets)i.valueAxis.itemOffsets[r]=s.valueAxis.itemOffsets[r]}if(s.xAxis){i.xAxis={itemOffsets:{}};for(var r in s.xAxis.itemOffsets)i.xAxis.itemOffsets[r]=s.xAxis.itemOffsets[r]}i.series=[];for(var n=i.series,a=this._isPieGroup(t),o=0;o<s.offsets.length;o++){n.push({});for(var l=0;l<s.offsets[o].length;l++)if(a){var h=s.offsets[o][l];n[o][h.displayValue]={value:h.value,x:h.x,y:h.y,fromAngle:h.fromAngle,toAngle:h.toAngle}}else n[o][s.xoffsets.xvalues[l]]={value:s.offsets[o][l].value,valueRadius:s.offsets[o][l].valueRadius,xoffset:s.xoffsets.data[l],from:s.offsets[o][l].from,to:s.offsets[o][l].to}}}}}},getPolarDataPointOffset:function(e,t,i){var s=this._renderData[i];if(!s)return{x:NaN,y:NaN};var r=this.getValueAxisDataPointOffset(t,i),n=this.getXAxisDataPointOffset(e,i),a=this._toPolarCoord(s.polarCoords,s.xAxis.rect,n,r);return{x:a.x,y:a.y}},_getDataPointOffsetDiff:function(e,t,i,s,r,n,a){var o=this._getDataPointOffset(e,i,s,r,n,a),l=this._getDataPointOffset(t,i,s,r,n,a);return Math.abs(o-l)},_getXAxisRenderData:function(e){if(!(e>=this._renderData.length)){var t=this.seriesGroups[e],i=this._renderData[e].xAxis;if(i){if(void 0==t.xAxis){for(var s=0;s<=e&&void 0!=this.seriesGroups[s].xAxis;s++);i=this._renderData[s].xAxis}return i}}},getXAxisDataPointOffset:function(e,t){var i=this.seriesGroups[t];if(isNaN(e))return NaN;if(renderData=this._getXAxisRenderData(t),!renderData)return NaN;var s=renderData.data.axisStats,r=s.min.valueOf(),n=s.max.valueOf(),a=n-r;if(0==a&&(a=1),e.valueOf()>n||e.valueOf()<r)return NaN;var o=this._getXAxis(t),l="horizontal"==i.orientation?"height":"width",h="horizontal"==i.orientation?"y":"x",d=(e.valueOf()-r)/a,c=renderData.rect[l]-renderData.data.padding.left-renderData.data.padding.right;if(i.polar||i.spider){this._renderData[t].polarCoords.isClosedCircle&&(c=renderData.data.axisSize)}return this._plotRect[h]+renderData.data.padding.left+c*(o.flip?1-d:d)},getValueAxisDataPointOffset:function(e,t){var i=this._getValueAxis(t);if(!i)return NaN;var s=this._renderData[t];if(!s)return NaN;var r=1==i.flip,n=s.logBase,a=s.scale,o=s.gbase,l=s.baseOffset;return this._getDataPointOffset(e,o,n,a,l,r)},_getDataPointOffset:function(t,i,s,r,n,a){var o;return isNaN(t)&&(t=i),o=isNaN(s)?(t-i)*r:(e.jqx.log(t,s)-e.jqx.log(i,s))*r,this._isVML&&(o=Math.round(o)),o=a?n+o:n-o},_calcGroupOffsets:function(t,i){for(var s=this.seriesGroups[t];this._renderData.length<t+1;)this._renderData.push({});if(null!=this._renderData[t]&&void 0!=this._renderData[t].offsets)return this._renderData[t];if(this._isPieGroup(t))return this._calcPieSeriesGroupOffsets(t,i);var r=this._getValueAxis(t);if(!r||!s.series||0==s.series.length)return this._renderData[t];var n=1==r.flip,a=1==r.logarithmicScale,o=r.logarithmicScaleBase||10,l=[],h=-1!=s.type.indexOf("stacked"),d=h&&-1!=s.type.indexOf("100"),c=-1!=s.type.indexOf("range"),u=this._isColumnType(s.type),f=-1!=s.type.indexOf("waterfall"),p=this._getDataLen(t),m=s.baselineValue||r.baselineValue||0;d&&(m=0);var g=this._stats.seriesGroups[t];if(g&&g.isValid){var v=g.hasStackValueReversal;if(v&&(m=0),f&&h){if(v)return;m=g.base}m>g.max&&(m=g.max),m<g.min&&(m=g.min);var x=d||a?g.maxRange:g.max-g.min,y=g.min,w=g.max,b=i.height/(a?g.intervals:x),_=0;d?y*w<0?(x/=2,_=-(x+m)*b):_=-m*b:_=-(m-y)*b,n?_=i.y-_:_+=i.y+i.height;var T,j=[],C=[],S=[];a&&(T=e.jqx.log(w,o)-e.jqx.log(m,o),h&&(T=g.intervals,m=d?0:y),g.intervals-T,n||(_=i.y+T/g.intervals*i.height)),_=e.jqx._ptrnd(_);var q=y*w<0?i.height/2:i.height,k=[],D=[],I=h&&(u||a),M=[];l=new Array(s.series.length);for(var P=0;P<s.series.length;P++)l[P]=new Array(p);for(var H=0;H<p;H++){!f&&h&&(D=[]);for(var P=0;P<s.series.length;P++){!h&&a&&(k=[]);var A=s.series[P],B=A.dataField,N=A.dataFieldFrom,O=A.dataFieldTo,E=A.radiusDataField||A.sizeDataField;l[P][H]={};var z=this._isSerieVisible(t,P);if(-1==s.type.indexOf("candle")&&-1==s.type.indexOf("ohlc")){if(h)for(;D.length<=H;)D.push(0);var L=NaN;c&&(L=this._getDataValueAsNumber(H,N,t),isNaN(L)&&(L=m));var F=NaN;F=c?this._getDataValueAsNumber(H,O,t):this._getDataValueAsNumber(H,B,t);var R=this._getDataValueAsNumber(H,E,t);if(h&&(D[H]+=z?F:0),z||(F=NaN),isNaN(F)||a&&F<=0)l[P][H]={from:void 0,to:void 0};else{var W;h&&(I?W=F>=m?j:C:F=D[H]);var V=b*(F-m);if(c&&(V=b*(F-L)),h&&I&&(M[H]?V=b*F:(M[H]=!0,V=b*(F-m))),a){for(;k.length<=H;)k.push({p:{value:0,height:0},n:{value:0,height:0}});var U=c||c?L:m,Y=F>U?k[H].p:k[H].n;Y.value+=F,d?(F=Y.value/(g.psums[H]+g.nsums[H])*100,V=(e.jqx.log(F,o)-g.minPow)*b):(V=e.jqx.log(Y.value,o)-e.jqx.log(U,o),V*=b),V-=Y.height,Y.height+=V}var G=_;if(c){var $=0;$=a?(e.jqx.log(L,o)-e.jqx.log(m,o))*b:(L-m)*b,G+=n?$:-$}if(h){if(d&&!a){var K=g.psums[H]-g.nsums[H];F>m?(V=g.psums[H]/K*q,0!=g.psums[H]&&(V*=F/g.psums[H])):(V=g.nsums[H]/K*q,0!=g.nsums[H]&&(V*=F/g.nsums[H]))}I&&(isNaN(W[H])&&(W[H]=G),G=W[H])}isNaN(S[H])&&(S[H]=0);var X=S[H];V=Math.abs(V);var J=V;if(V>=1&&(h_new=this._isVML?Math.round(V):e.jqx._ptrnd(V)-1,V=Math.abs(V-h_new)>.5?Math.round(V):h_new),X+=V-J,h||(X=0),Math.abs(X)>.5&&(X>0?(V-=1,X-=1):(V+=1,X+=1)),S[H]=X,P==s.series.length-1&&d){for(var Z=0,Q=0;Q<P;Q++)Z+=Math.abs(l[Q][H].to-l[Q][H].from);if((Z+=V)<q)if(V>.5)V=e.jqx._ptrnd(V+q-Z);else for(var Q=P-1;Q>=0;){var ee=Math.abs(l[Q][H].to-l[Q][H].from);if(ee>1){l[Q][H].from>l[Q][H].to&&(l[Q][H].from+=q-Z);break}Q--}}n&&(V*=-1);var te=F<m;c&&(te=L>F);var ie=isNaN(L)?F:{from:L,to:F};te?(I&&(W[H]+=V),l[P][H]={from:G,to:G+V,value:ie,valueRadius:R}):(I&&(W[H]-=V),l[P][H]={from:G,to:G-V,value:ie,valueRadius:R})}}else{var se=["Open","Close","High","Low"];for(var re in se){var ne="dataField"+se[re];A[ne]&&(l[P][H][se[re]]=this._getDataPointOffset(this._getDataValueAsNumber(H,A[ne],t),m,a?o:NaN,b,_,n))}}}}var ae=this._renderData[t];return ae.baseOffset=_,ae.gbase=m,ae.logBase=a?o:NaN,ae.scale=b,ae.offsets=f?this._applyWaterfall(l,p,t,_,m,a?o:NaN,b,n,h):l,ae.xoffsets=this._calculateXOffsets(t,i.width),this._renderData[t]}},_isPercent:function(e){return"string"==typeof e&&e.length>0&&e.indexOf("%")==e.length-1},_calcPieSeriesGroupOffsets:function(t,i){for(var s=this,r=this._getDataLen(t),n=this.seriesGroups[t],a=this._renderData[t]={},o=a.offsets=[],l=0;l<n.series.length;l++){var h=n.series[l],d=this._get([h.minAngle,h.startAngle]);(isNaN(d)||d<0||d>360)&&(d=0);var c=this._get([h.maxAngle,h.endAngle]);(isNaN(c)||c<0||c>360)&&(c=360);var u=c-d,f=h.initialAngle||0;f<d&&(f=d),f>c&&(f=c);var p=h.centerOffset||0,m=e.jqx.getNum([h.offsetX,n.offsetX,i.width/2]),g=e.jqx.getNum([h.offsetY,n.offsetY,i.height/2]),v=Math.min(i.width,i.height)/2,x=f,y=h.radius;s._isPercent(y)&&(y=parseFloat(y)/100*v),isNaN(y)&&(y=.4*v);var w=h.innerRadius;s._isPercent(w)&&(w=parseFloat(w)/100*v),(isNaN(w)||w>=y)&&(w=0);var b=h.selectedRadiusChange;s._isPercent(b)&&(b=parseFloat(b)/100*(y-w)),isNaN(b)&&(b=.1*(y-w)),o.push([]);for(var _=0,T=0,j=0;j<r;j++){var C=this._getDataValueAsNumber(j,h.dataField,t);isNaN(C)||(this._isSerieVisible(t,l,j)||1==h.hiddenPointsDisplay)&&(C>0?_+=C:T+=C)}var S=_-T;0==S&&(S=1);for(var j=0;j<r;j++){var C=this._getDataValueAsNumber(j,h.dataField,t);if(isNaN(C))o[l].push({});else{var q=h.displayText||h.displayField,k=this._getDataValue(j,q,t);void 0==k&&(k=j);var D=0,I=this._isSerieVisible(t,l,j);(I||1==h.hiddenPointsDisplay)&&(D=Math.abs(C)/S*u);var M=i.x+m,P=i.y+g,H=p;e.isFunction(p)&&(H=p({seriesIndex:l,seriesGroupIndex:t,itemIndex:j})),isNaN(H)&&(H=0);var A={key:t+"_"+l+"_"+j,value:C,displayValue:k,x:M,y:P,fromAngle:x,toAngle:x+D,centerOffset:H,innerRadius:w,outerRadius:y,selectedRadiusChange:b,visible:I};o[l].push(A),x+=D}}}return a},_isPointSeriesOnly:function(){for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(-1==t.type.indexOf("line")&&-1==t.type.indexOf("area")&&-1==t.type.indexOf("scatter")&&-1==t.type.indexOf("bubble"))return!1}return!0},_hasColumnSeries:function(){for(var e=["column","ohlc","candlestick","waterfall"],t=0;t<this.seriesGroups.length;t++){var i=this.seriesGroups[t];for(var s in e)if(-1!=i.type.indexOf(e[s]))return!0}return!1},_alignValuesWithTicks:function(e){var t=this._isPointSeriesOnly(),i=this.seriesGroups[e],s=this._getXAxis(e),r=void 0==s.valuesOnTicks?t:0!=s.valuesOnTicks;return s.logarithmicScale&&(r=!0),void 0==e?r:void 0==i.valuesOnTicks?r:i.valuesOnTicks},_getYearsDiff:function(e,t){return t.getFullYear()-e.getFullYear()},_getMonthsDiff:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},_getDateDiff:function(t,i,s,r){var n=0;switch("year"!=s&&"month"!=s&&(n=i.valueOf()-t.valueOf()),s){case"year":n=this._getYearsDiff(t,i);break;case"month":n=this._getMonthsDiff(t,i);break;case"day":n/=864e5;break;case"hour":n/=36e5;break;case"minute":n/=6e4;break;case"second":n/=1e3}return"year"!=s&&"month"!=s&&0!=r&&(n=e.jqx._rnd(n,1,!0)),n},_getBestDTUnit:function(e,t,i,s,r){var n="day",a=t.valueOf()-e.valueOf();n=a<1e3?"second":a<36e5?"minute":a<864e5?"hour":a<2592e6?"day":a<31104e6?"month":"year";for(var o=[{key:"year",cnt:a/31536e6},{key:"month",cnt:a/2592e6},{key:"day",cnt:a/864e5},{key:"hour",cnt:a/36e5},{key:"minute",cnt:a/6e4},{key:"second",cnt:a/1e3},{key:"millisecond",cnt:a}],l=-1,h=0;h<o.length;h++)if(o[h].key==n){l=h;break}for(var d=-1,c=-1;l<o.length&&!(o[l].cnt/100>s);l++){var u=this._estAxisInterval(e,t,i,s,o[l].key,r),f=this._getDTIntCnt(e,t,u,o[l].key);(-1==d||d<f)&&(d=f,c=l)}return n=o[c].key},_getXAxisStats:function(t,i,s){var r=this._getDataLen(t),n="date"==i.type||"time"==i.type;if(n&&!this._autoDateFormats){this._autoDateFormats||(this._autoDateFormats=[]);var a=this._testXAxisDateFormat();a&&this._autoDateFormats.push(a)}var o=n?this._castAsDate(i.minValue,i.dateFormat):this._castAsNumber(i.minValue),l=n?this._castAsDate(i.maxValue,i.dateFormat):this._castAsNumber(i.maxValue);if(this._selectorRange&&this._selectorRange[t]){var h=this._selectorRange[t].min;isNaN(h)||(o=n?this._castAsDate(h,i.dateFormat):this._castAsNumber(h));var d=this._selectorRange[t].max;isNaN(d)||(l=n?this._castAsDate(d,i.dateFormat):this._castAsNumber(d))}for(var c,u,f=o,p=l,m=void 0==i.type||"auto"==i.type,g=m||"basic"==i.type,v=0,x=0,y=0;y<r&&i.dataField;y++){var w=this._getDataValue(y,i.dataField,t);w=n?this._castAsDate(w,i.dateFormat):this._castAsNumber(w),isNaN(w)||(n?v++:x++,(isNaN(c)||w<c)&&(c=w),(isNaN(u)||w>=u)&&(u=w))}m&&(!n&&x==r||n&&v==r)&&(g=!1),g&&(c=0,u=Math.max(0,r-1)),isNaN(f)&&(f=c),isNaN(p)&&(p=u),n?(this._isDate(f)||(f=this._isDate(p)?p:new Date),this._isDate(p)||(p=this._isDate(f)?f:new Date)):(isNaN(f)&&(f=0),isNaN(p)&&(p=g?Math.max(0,r-1):f)),void 0==c&&(c=f),void 0==u&&(u=p);var b=i.rangeSelector;if(b){var _=b.minValue||f;_&&n&&(_=this._castAsDate(_,b.dateFormat||i.dateFormat));var T=b.maxValue||p;T&&n&&(T=this._castAsDate(T,b.dateFormat||i.rangeSelector)),f<_&&(f=_),p<_&&(p=T),f>T&&(f=_),p>T&&(p=T)}var j,C,S=i.unitInterval;n&&(j=i.baseUnit,j||(j=this._getBestDTUnit(f,p,t,s)),C="hour"==j||"minute"==j||"second"==j||"millisecond"==j);var q=1==i.logarithmicScale,k=i.logarithmicScaleBase;(isNaN(k)||k<=1)&&(k=10);var S=i.unitInterval;q?S=1:(isNaN(S)||S<=0)&&(S=this._estAxisInterval(f,p,t,s,j));var D={min:f,max:p},I=this.seriesGroups[t];if(q){f||(f=1,p&&f>p&&(f=p)),p||(p=f),D={min:f,max:p};var M=e.jqx._rnd(e.jqx.log(f,k),1,!1),P=e.jqx._rnd(e.jqx.log(p,k),1,!0);p=Math.pow(k,P),f=Math.pow(k,M)}else n||!I.polar&&!I.spider||(f=e.jqx._rnd(f,S,!1),p=e.jqx._rnd(p,S,!0));return{min:f,max:p,logAxis:{enabled:q,base:k,minPow:M,maxPow:P},dsRange:{min:c,max:u},filterRange:D,useIndeces:g,isDateTime:n,isTimeUnit:C,dateTimeUnit:j,interval:S}},_getDefaultDTFormatFn:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return"year"==e||"month"==e||"day"==e?function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()}:function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()+"<br>"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}},_getDTIntCnt:function(e,t,i,s){var r=0,n=new Date(e),a=new Date(t);if(a=a.valueOf(),i<=0)return 1
;for(;n.valueOf()<a;)"millisecond"==s?n=new Date(n.valueOf()+i):"second"==s?n=new Date(n.valueOf()+1e3*i):"minute"==s?n=new Date(n.valueOf()+6e4*i):"hour"==s?n=new Date(n.valueOf()+6e4*i*24):"day"==s?n.setDate(n.getDate()+i):"month"==s?n.setMonth(n.getMonth()+i):"year"==s&&n.setFullYear(n.getFullYear()+i),r++;return r},_estAxisInterval:function(e,t,i,s,r,n){if(isNaN(e)||isNaN(t))return NaN;var a=[1,2,5,10,15,20,50,100,200,500],o=0,l=s/(!isNaN(n)&&n>0?n:50);if(this._renderData&&this._renderData.length>i&&this._renderData[i].xAxis&&!isNaN(this._renderData[i].xAxis.avgWidth)){var h=Math.max(1,this._renderData[i].xAxis.avgWidth);0!=h&&isNaN(n)&&(l=.9*s/h)}if(l<=1)return Math.abs(t-e);for(;;){var d=o>=a.length?Math.pow(10,3+o-a.length):a[o];if((this._isDate(e)&&this._isDate(t)?this._getDTIntCnt(e,t,d,r):(t-e)/d)<=l)break;o++}var c=this.seriesGroups[i];return(c.spider||c.polar)&&2*d>t-e&&(d=t-e),d},_getPaddingSize:function(e,t,i,s,r,n,a){var o=e.min,l=e.max;e.logAxis.enabled&&(o=e.logAxis.minPow,l=e.logAxis.maxPow);var h=e.interval,d=e.dateTimeUnit;if(r){var c=s/Math.max(1,l-o+h)*h;return n?{left:0,right:c}:i?{left:0,right:0}:{left:c/2,right:c/2}}if(i&&!a)return{left:0,right:0};if(this._isDate(o)&&this._isDate(l)){var u=this._getDTIntCnt(o,l,Math.min(h,l-o),d),f=s/Math.max(2,u);return{left:f/2,right:f/2}}var u=Math.max(1,l-o);if(1==u)return sz=s/4,{left:sz,right:sz};var f=s/(u+1);return{left:f/2,right:f/2}},_calculateXOffsets:function(t,i){var s=this.seriesGroups[t],r=this._getXAxis(t),n=[],a=[],o=this._getDataLen(t),l=this._getXAxisStats(t,r,i),h=l.min,d=l.max,c=l.isDateTime,u=l.isTimeUnit,f=this._hasColumnSeries(),p=s.polar||s.spider,m=this._get([s.startAngle,s.minAngle,0]),g=this._get([s.endAngle,s.maxAngle,360]),v=p&&!(Math.abs(Math.abs(g-m)-360)>1e-4),x=this._alignValuesWithTicks(t),y=this._getPaddingSize(l,r,x,i,p,v,f),w=d-h,b=l.filterRange;0==w&&(w=1);var _=i-y.left-y.right;p&&x&&!v&&(y.left=y.right=0);for(var T=-1,j=-1,C=0;C<o;C++){var S=void 0===r.dataField?C:this._getDataValue(C,r.dataField,t);if(l.useIndeces){if(C<b.min||C>b.max){n.push(NaN),a.push(void 0);continue}if(k=y.left+(C-h)/w*_,1==l.logAxis.enabled){var q=l.logAxis.base;k=this._jqxPlot.scale(S,{min:h.valueOf(),max:d.valueOf(),type:"logarithmic",base:q},{min:0,max:_,flip:!1})}n.push(e.jqx._ptrnd(k)),a.push(S),-1==T&&(T=C),(-1==j||j<C)&&(j=C)}else if(S=c?this._castAsDate(S,r.dateFormat):this._castAsNumber(S),isNaN(S)||S<b.min||S>b.max)n.push(NaN),a.push(void 0);else{var k=0;if(1==l.logAxis.enabled){var q=l.logAxis.base;k=this._jqxPlot.scale(S,{min:h.valueOf(),max:d.valueOf(),type:"logarithmic",base:q},{min:0,max:_,flip:!1})}else!c||c&&u?(diffFromMin=S-h,k=(S-h)*_/w):k=(S.valueOf()-h.valueOf())/(d.valueOf()-h.valueOf())*_;k=e.jqx._ptrnd(y.left+k),n.push(k),a.push(S),-1==T&&(T=C),(-1==j||j<C)&&(j=C)}}if(1==r.flip)for(var C=0;C<n.length;C++)isNaN(n[C])||(n[C]=i-n[C]);(u||c)&&(w=this._getDateDiff(h,d,r.baseUnit),w=e.jqx._rnd(w,1,!1));var D=Math.max(1,w),I=_/D;return T==j&&1==D&&(n[T]=y.left+_/2),{axisStats:l,data:n,xvalues:a,first:T,last:j,length:-1==j?0:j-T+1,itemWidth:I,intervalWidth:I*l.interval,rangeLength:w,useIndeces:l.useIndeces,padding:y,axisSize:_}},_getXAxis:function(e){return void 0==e||this.seriesGroups.length<=e?this.categoryAxis||this.xAxis:this.seriesGroups[e].categoryAxis||this.seriesGroups[e].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(e,t){var i=this.seriesGroups[e],s=i.series[t];return 1==s.greyScale||0!=s.greyScale&&(1==i.greyScale||0!=i.greyScale&&1==this.greyScale)},_getSeriesColors:function(t,i,s){var r=this._getSeriesColorsInternal(t,i,s);if(this._isGreyScale(t,i))for(var n in r)r[n]=e.jqx.toGreyScale(r[n]);return r},_getColorFromScheme:function(e,t,i){var s="#000000",r=this.seriesGroups[e],n=r.series[t];if(this._isPieGroup(e)){var a=this._getDataLen(e);s=this._getItemColorFromScheme(n.colorScheme||r.colorScheme||this.colorScheme,t*a+i,e,t)}else{for(var o=0,l=0;l<=e;l++)for(var h in this.seriesGroups[l].series){if(l==e&&h==t)break;o++}var d=this.colorScheme;if(r.colorScheme&&(d=r.colorScheme,sidex=seriesIndex),void 0!=d&&""!=d||(d=this.colorSchemes[0].name),!d)return s;for(var l=0;l<this.colorSchemes.length;l++){var c=this.colorSchemes[l];if(c.name==d){for(;o>c.colors.length;)o-=c.colors.length,++l>=this.colorSchemes.length&&(l=0),c=this.colorSchemes[l];s=c.colors[o%c.colors.length]}}}return s},_createColorsCache:function(){this._colorsCache={get:function(e){if(this._store[e])return this._store[e]},set:function(e,t){this._size<1e4&&(this._store[e]=t,this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(t,i,s){var r=this.seriesGroups[t],n=r.series[i];e.isFunction(n.colorFunction)||"pie"==r.type||"donut"==r.type||(s=NaN);var a=t+"_"+i+"_"+(isNaN(s)?"NaN":s);if(this._colorsCache.get(a))return this._colorsCache.get(a);var o,l={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};if(e.isFunction(n.colorFunction)){var h=isNaN(s)?NaN:this._getDataValue(s,n.dataField,t);if(-1!=r.type.indexOf("range")&&!isNaN(s)){h={from:this._getDataValue(s,n.dataFieldFrom,t),to:this._getDataValue(s,n.dataFieldTo,t)}}if("object"==typeof(o=n.colorFunction(h,s,n,r)))for(var d in o)l[d]=o[d];else l.fillColor=o}else{for(var d in l)n[d]&&(l[d]=n[d]);n.fillColor||n.color?n.fillColor=n.fillColor||n.color:l.fillColor=this._getColorFromScheme(t,i,s)}var c={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:.95},lineColorSelected:{baseColor:"lineColor",adjust:.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(var d in l)"object"==typeof o&&o[d]||n[d]&&(l[d]=n[d]);for(var d in l)"object"==typeof o&&o[d]||n[d]||(l[d]=e.jqx.adjustColor(l[c[d].baseColor],c[d].adjust));return this._colorsCache.set(a,l),l},_getItemColorFromScheme:function(t,i,s,r){void 0!=t&&""!=t||(t=this.colorSchemes[0].name);for(var n=0;n<this.colorSchemes.length&&t!=this.colorSchemes[n].name;n++);for(var a=0;a<=i;){n==this.colorSchemes.length&&(n=0);var o=this.colorSchemes[n].colors.length;if(!(a+o<=i)){var l=this.colorSchemes[n].colors[i-a];return this._isGreyScale(s,r)&&0==l.indexOf("#")&&(l=e.jqx.toGreyScale(l)),l}a+=o,n++}},getColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e)return this.colorSchemes[t].colors},addColorScheme:function(e,t){for(var i=0;i<this.colorSchemes.length;i++)if(this.colorSchemes[i].name==e)return void(this.colorSchemes[i].colors=t);this.colorSchemes.push({name:e,colors:t})},removeColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e){this.colorSchemes.splice(t,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(t,i,s,r,n,a){if(void 0==t)return"";if(this._isObject(t)&&!this._isDate(t)&&!s)return"";if(s){if(!e.isFunction(s))return t.toString();try{return s(t,a,n,r)}catch(e){return e.message}}return this._isNumber(t)?this._formatNumber(t,i):this._isDate(t)?this._formatDate(t,i):i?(i.prefix||"")+t.toString()+(i.sufix||""):t.toString()},_getFormattedValue:function(t,i,s,r,n,a){var o=this.seriesGroups[t],l=o.series[i],h="",d=r,c=n;c||(c=l.formatFunction||o.formatFunction),d||(d=l.formatSettings||o.formatSettings),!l.formatFunction&&l.formatSettings&&(c=void 0);var u={},f=0;for(var p in l)0==p.indexOf("dataField")&&(u[p.substring(9).toLowerCase()]=this._getDataValue(s,l[p],t),f++);if(0==f&&(u=this._getDataValue(s,void 0,t)),-1!=o.type.indexOf("waterfall")&&this._isSummary(t,s)&&(u=this._renderData[t].offsets[i][s].value,f=0),c&&e.isFunction(c))try{return c(1==f?u[""]:u,s,l,o)}catch(e){return e.message}if(1==f&&this._isPieGroup(t))return this._formatValue(u[""],d,c,t,i,s);if(f>0){var m=0;for(var p in u){m>0&&""!=h&&(h+="<br>");var g="dataField"+(p.length>0?p.substring(0,1).toUpperCase()+p.substring(1):""),v="displayText"+(p.length>0?p.substring(0,1).toUpperCase()+p.substring(1):""),x=l[v]||l[g],y=u[p];void 0!=y&&(y=this._formatValue(y,d,c,t,i,s),h+=!0===a?y:x+": "+y,m++)}}else void 0!=u&&(h=this._formatValue(u,d,c,t,i,s));return h||""},_isNumberAsString:function(t){if("string"!=typeof t)return!1;t=e.trim(t);for(var i=0;i<t.length;i++){var s=t.charAt(i);if(!(s>="0"&&s<="9"||","==s||"."==s)&&(("-"!=s||0!=i)&&!("("==s&&0==i||")"==s&&i==t.length-1)))return!1}return!0},_castAsDate:function(t,i){if(t instanceof Date&&!isNaN(t))return t;if("string"==typeof t){var s;if(i&&(s=e.jqx.dataFormat.parsedate(t,i),this._isDate(s)))return s;if(this._autoDateFormats)for(var r=0;r<this._autoDateFormats.length;r++)if(s=e.jqx.dataFormat.parsedate(t,this._autoDateFormats[r]),this._isDate(s))return s;var n=this._detectDateFormat(t);return n&&(s=e.jqx.dataFormat.parsedate(t,n),this._isDate(s))?(this._autoDateFormats.push(n),s):(s=new Date(t),this._isDate(s)&&-1==t.indexOf(":")&&s.setHours(0,0,0,0),s)}},_castAsNumber:function(e){if(e instanceof Date&&!isNaN(e))return e.valueOf();if("string"==typeof e)if(this._isNumber(e))e=parseFloat(e);else if(!/[a-zA-Z]/.test(e)){var t=new Date(e);void 0!=t&&(e=t.valueOf())}return e},_isNumber:function(e){return"string"==typeof e&&this._isNumberAsString(e)&&(e=parseFloat(e)),"number"==typeof e&&isFinite(e)},_isDate:function(e){return e instanceof Date&&!isNaN(e.getDate())},_isBoolean:function(e){return"boolean"==typeof e},_isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},_formatDate:function(t,i){var s=t.toString();return i&&(i.dateFormat&&(s=e.jqx.dataFormat.formatDate(t,i.dateFormat)),s=(i.prefix||"")+s+(i.sufix||"")),s},_formatNumber:function(e,t){if(!this._isNumber(e))return e;t=t||{};var i=".",s="",r=this;r.localization&&(i=r.localization.decimalSeparator||r.localization.decimalseparator||i,s=r.localization.thousandsSeparator||r.localization.thousandsseparator||s),t.decimalSeparator&&(i=t.decimalSeparator),t.thousandsSeparator&&(s=t.thousandsSeparator);var n=t.prefix||"",a=t.sufix||"",o=t.decimalPlaces;isNaN(o)&&(o=this._getDecimalPlaces([e],void 0,3));var l=t.negativeWithBrackets||!1,h=e<0;h&&l&&(e*=-1);var d,c=e.toString(),u=Math.pow(10,o);if(c=(Math.round(e*u)/u).toString(),isNaN(c)&&(c=""),d=c.lastIndexOf("."),o>0)for(d<0?(c+=i,d=c.length-1):"."!==i&&(c=c.replace(".",i));c.length-1-d<o;)c+="0";d=c.lastIndexOf(i),d=d>-1?d:c.length;for(var f=c.substring(d),p=0,m=d;m>0;m--,p++)p%3==0&&m!==d&&(!h||m>1||h&&l)&&(f=s+f),f=c.charAt(m-1)+f;return c=f,h&&l&&(c="("+c+")"),n+c+a},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_calculateControlPoints:function(e,t){var i=e[t],s=e[t+1],r=e[t+2],n=e[t+3],a=e[t+4],o=e[t+5],l=Math.sqrt(Math.pow(r-i,2)+Math.pow(n-s,2)),h=Math.sqrt(Math.pow(a-r,2)+Math.pow(o-n,2)),d=l+h;0==d&&(d=1);var c=.4*l/d,u=.4-c;return[r+c*(i-a),n+c*(s-o),r-u*(i-a),n-u*(s-o)]},_getBezierPoints:function(t){for(var i="",s=[],r=[],n=t.split(" "),a=0;a<n.length;a++){var o=n[a].split(",");s.push(parseFloat(o[0])),s.push(parseFloat(o[1])),!isNaN(s[s.length-1])&&isNaN(s[s.length-2])}var l=s.length;if(l<=1)return"";if(2==l)return i="M"+e.jqx._ptrnd(s[0])+","+e.jqx._ptrnd(s[1])+" L"+e.jqx._ptrnd(s[0]+1)+","+e.jqx._ptrnd(s[1]+1)+" ";for(var a=0;a<l-4;a+=2)r=r.concat(this._calculateControlPoints(s,a));for(var a=2;a<l-5;a+=2)i+=" C"+e.jqx._ptrnd(r[2*a-2])+","+e.jqx._ptrnd(r[2*a-1])+" "+e.jqx._ptrnd(r[2*a])+","+e.jqx._ptrnd(r[2*a+1])+" "+e.jqx._ptrnd(s[a+2])+","+e.jqx._ptrnd(s[a+3])+" ";return i=l<=4||Math.abs(s[0]-s[2])<3||Math.abs(s[1]-s[3])<3||this._isVML?"M"+e.jqx._ptrnd(s[0])+","+e.jqx._ptrnd(s[1])+" L"+e.jqx._ptrnd(s[2])+","+e.jqx._ptrnd(s[3])+" "+i:"M"+e.jqx._ptrnd(s[0])+","+e.jqx._ptrnd(s[1])+" Q"+e.jqx._ptrnd(r[0])+","+e.jqx._ptrnd(r[1])+" "+e.jqx._ptrnd(s[2])+","+e.jqx._ptrnd(s[3])+" "+i,l>=4&&(Math.abs(s[l-2]-s[l-4])<3||Math.abs(s[l-1]-s[l-3])<3||this._isVML)?i+=" L"+e.jqx._ptrnd(s[l-2])+","+e.jqx._ptrnd(s[l-1])+" ":l>=5&&(i+=" Q"+e.jqx._ptrnd(r[2*l-10])+","+e.jqx._ptrnd(r[2*l-9])+" "+e.jqx._ptrnd(s[l-2])+","+e.jqx._ptrnd(s[l-1])+" "),i},_animTickInt:50,_createAnimationGroup:function(e){this._animGroups||(this._animGroups={}),this._animGroups[e]={animations:[],startTick:NaN}},_startAnimation:function(e){var t=new Date,i=t.getTime();this._animGroups[e].startTick=i,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(e,t,i,s,r,n,a){s<0&&(s=0),void 0==a&&(a="easeInOutSine"),this._animGroups[e].animations.push({key:t,properties:i,duration:s,fn:r,context:n,easing:a})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){if(!this._animtimer){var e=this;this._animtimer=setTimeout(function(){e._runAnimation()},this._animTickInt)}},_runAnimation:function(t){if(this._animGroups){var i=new Date,s=i.getTime(),r={};for(var n in this._animGroups){for(var a=this._animGroups[n].animations,o=this._animGroups[n].startTick,l=0,h=0;h<a.length;h++){var d=a[h],c=s-o;d.duration>l&&(l=d.duration);var u=d.duration>0?c/d.duration:1,f=u;if(d.easing&&0!=d.duration&&(f=e.easing[d.easing](u,c,0,1,d.duration)),u>1&&(u=1,f=1),d.fn)d.fn(d.key,d.context,f);else{for(var p={},n=0;n<d.properties.length;n++){var m=d.properties[n],g=0;g=1==u?m.to:easeParecent*(m.to-m.from)+m.from,p[m.key]=g}this.renderer.attr(d.key,p)}}o+l>s&&(r[n]={startTick:o,animations:a})}this._animGroups=r,this.renderer instanceof e.jqx.HTML5Renderer&&this.renderer.refresh()}this._animtimer=null;for(var n in this._animGroups){this._enableAnimTimer();break}},_fixCoords:function(e,t){if("horizontal"!=this.seriesGroups[t].orientation)return e;var i=e.x;e.x=e.y,e.y=i+this._plotRect.y-this._plotRect.x;var i=e.width;return e.width=e.height,e.height=i,e},getItemCoord:function(e,t,i){var s=this;if(s._isPieGroup(e)&&(!s._isSerieVisible(e,t,i)||!s._renderData||s._renderData.length<=e))return{x:NaN,y:NaN};if(!s._isSerieVisible(e,t)||!s._renderData||s._renderData.length<=e)return{x:NaN,y:NaN};var r=s.seriesGroups[e],n=r.series[t],a=s._getItemCoord(e,t,i);if(s._isPieGroup(e)){if(isNaN(a.x)||isNaN(a.y)||isNaN(a.fromAngle)||isNaN(a.toAngle))return{x:NaN,y:NaN};var o=this._plotRect,l=a.fromAngle*(Math.PI/180),h=a.toAngle*(Math.PI/180);x1=o.x+a.center.x+Math.cos(l)*a.outerRadius,x2=o.x+a.center.x+Math.cos(h)*a.outerRadius,y1=o.y+a.center.y-Math.sin(l)*a.outerRadius,y2=o.y+a.center.y-Math.sin(h)*a.outerRadius;var d=Math.min(x1,x2),c=Math.abs(x2-x1),u=Math.min(y1,y2);return a={x:d,y:u,width:c,height:Math.abs(y2-y1),center:a.center,centerOffset:a.centerOffset,innerRadius:a.innerRadius,outerRadius:a.outerRadius,selectedRadiusChange:a.selectedRadiusChange,fromAngle:a.fromAngle,toAngle:a.toAngle}}if(-1!=r.type.indexOf("column")||-1!=r.type.indexOf("waterfall")){var f=this._getColumnSerieWidthAndOffset(e,t);a.height=Math.abs(a.y.to-a.y.from),a.y=Math.min(a.y.to,a.y.from),a.x+=f.offset,a.width=f.width}else if(-1!=r.type.indexOf("ohlc")||-1!=r.type.indexOf("candlestick")){var f=this._getColumnSerieWidthAndOffset(e,t),u=a.y,p=Math.min(u.Open,u.Close,u.Low,u.High),m=Math.max(u.Open,u.Close,u.Low,u.High);a.height=Math.abs(m-p),a.y=p,a.x+=f.offset,a.width=f.width}else if(-1!=r.type.indexOf("line")||-1!=r.type.indexOf("area"))a.width=a.height=0,a.y=a.y.to;else if(-1!=r.type.indexOf("bubble")||-1!=r.type.indexOf("scatter")){a.center={x:a.x,y:a.y.to};var g=a.y.radius;"circle"!=n.symbolType&&void 0!=n.symbolType&&(g/=2),a.y=a.y.to,a.radius=g,a.width=2*g,a.height=2*g}if(a=this._fixCoords(a,e),r.polar||r.spider){var v=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,a.x,a.y);a.x=v.x,a.y=v.y,a.center&&(a.center=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,a.center.x,a.center.y))}return-1==r.type.indexOf("bubble")&&-1==r.type.indexOf("scatter")||(a.x-=g,a.y-=g),a},_getItemCoord:function(e,t,i){var s,r,n=this.seriesGroups[e];if(!n||!this._renderData)return{x:NaN,y:NaN};if(!n.series[t])return{x:NaN,y:NaN};var a=this._plotRect;if(this._isPieGroup(e)){var o=this._renderData[e].offsets[t][i];if(!o)return{x:NaN,y:NaN};var l=(o.fromAngle+o.toAngle)/2*(Math.PI/180);return s=a.x+o.x+Math.cos(l)*o.outerRadius,r=a.y+o.y-Math.sin(l)*o.outerRadius,{x:s,y:r,center:{x:o.x,y:o.y},centerOffset:o.centerOffset,innerRadius:o.innerRadius,outerRadius:o.outerRadius,selectedRadiusChange:o.selectedRadiusChange,fromAngle:o.fromAngle,toAngle:o.toAngle}}if(s=a.x+this._renderData[e].xoffsets.data[i],r=this._renderData[e].offsets[t][i],isNaN(s)||!r)return{x:NaN,y:NaN};var h={};for(var d in r)h[d]=r[d];return{x:s,y:h}},getXAxisValue:function(t,i){var s=this.seriesGroups[i];if(s){var r=this._getXAxis(i),n=this._plotRect,a=0,o=NaN,l=this._renderData[0].xoffsets.axisStats,h=0,d=0;if(s.polar||s.spider){if(isNaN(t.x)||isNaN(t.y))return NaN;var c=this._getPolarAxisCoords(i,n);if(e.jqx._ptdist(t.x,t.y,c.x,c.y)>c.r)return NaN;var u=Math.atan2(c.y-t.y,t.x-c.x);u=Math.PI/2-u,u<0&&(u=2*Math.PI+u),o=u*c.r;var f=c.startAngle+Math.PI/2,p=c.endAngle+Math.PI/2;h=f*c.r,d=p*c.r,a=(p-f)*c.r;var m=this._getPaddingSize(l,r,r.valuesOnTicks,a,!0,c.isClosedCircle,this._hasColumnSeries());c.isClosedCircle?(a-=m.left+m.right,d-=m.left+m.right):r.valuesOnTicks||(h+=m.left,d-=m.right)}else{if("horizontal"!=s.orientation){if(t<n.x||t>n.x+n.width)return NaN;o=t-n.x,a=n.width}else{if(t<n.y||t>n.y+n.height)return NaN;o=t-n.y,a=n.height}if(this._renderData[i]&&this._renderData[i].xoffsets){var m=this._renderData[i].xoffsets.padding;a-=m.left+m.right,o-=m.left}d=a}return this._jqxPlot.scale(o,{min:h,max:d},{min:l.min.valueOf(),max:l.max.valueOf(),type:l.logAxis.enabled?"logarithmic":"linear",base:l.logAxis.base,flip:r.flip})}},getValueAxisValue:function(t,i){var s=this.seriesGroups[i];if(s){var r=this._getValueAxis(i),n=this._plotRect,a=0,o=NaN;if(s.polar||s.spider){if(isNaN(t.x)||isNaN(t.y))return NaN;var l=this._getPolarAxisCoords(i,n);o=e.jqx._ptdist(t.x,t.y,l.x,l.y),a=l.r,o=a-o}else if("horizontal"==s.orientation){if(t<n.x||t>n.x+n.width)return NaN;o=t-n.x,a=n.width}else{if(t<n.y||t>n.y+n.height)return NaN;o=t-n.y,a=n.height}var h=this._stats.seriesGroups[i];return this._jqxPlot.scale(o,{min:0,max:a},{min:h.min.valueOf(),max:h.max.valueOf(),type:h.logarithmic?"logarithmic":"linear",base:h.logBase,flip:!r.flip})}},_detectDateFormat:function(t,i){var s={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};i&&(s=e.extend({},s,i));var r=[];e.isArray(t)?r=t:r.push(t);for(var n in s)s[n]={format:s[n],count:0};for(var a=0;a<r.length;a++)if(value=r[a],null!=value&&void 0!=value)for(var n in s){var o=e.jqx.dataFormat.parsedate(value,s[n].format);null!=o&&s[n].count++}var l={key:void 0,count:0};for(var n in s)s[n].count>l.count&&(l.key=n,l.count=s[n].count);return l.key?s[l.key].format:""},_testXAxisDateFormat:function(e){var t=this,i=t._getXAxis(e),s=t._getDataLen(e),r={};if(t.localization&&t.localization.patterns)for(var n in t.localization.patterns)r["local_"+n]=t.localization.patterns[n];for(var a=[],o=0;o<s&&o<10;o++)value=t._getDataValue(o,i.dataField,e),null!=value&&void 0!=value&&a.push(value);return t._detectDateFormat(a,r)}})}(jqxBaseFramework),function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.aggregates=null,this.aggregatesRenderer=null,this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){var i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){var s=this;if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"validation")&&(this.validation=e.jqx.get(i,"validation")),e.jqx.hasProperty(i,"autoCellHeight")&&(this.autoCellHeight=e.jqx.get(i,"autoCellHeight")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsFormat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=e.jqx.get(i,"minWidth")),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=e.jqx.get(i,"maxWidth")),e.jqx.hasProperty(i,"cellsRenderer")&&(this.cellsRenderer=e.jqx.get(i,"cellsRenderer")),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")&&(this.initeditor=e.jqx.get(i,"initEditor")),e.jqx.hasProperty(i,"createEditor")&&(this.createeditor=e.jqx.get(i,"createEditor")),e.jqx.hasProperty(i,"destroyEditor")&&(this.destroyeditor=e.jqx.get(i,"destroyEditor")),e.jqx.hasProperty(i,"getEditorValue")&&(this.geteditorvalue=e.jqx.get(i,"getEditorValue")),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")&&(this.cellclassname=e.jqx.get(i,"cellClassName")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesRenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var r in i)if(!s.hasOwnProperty(r)&&!s.hasOwnProperty(r.toLowerCase()))throw t.host.remove(),new Error("jqxDataTable: Invalid property name - "+r+".")}},this._initfields(i),this}e.jqx.jqxWidget("jqxDataTable","",{}),e.extend(e.jqx._jqxDataTable.prototype,{defineInstance:function(){var t={altRows:!1,aggregatesHeight:34,autoShowLoadElement:!0,autoRowHeight:!0,columnsHeight:30,columns:[],columnGroups:null,columnsResize:!1,columnsReorder:!1,dataview:null,disabled:!1,editable:!1,editSettings:{saveOnPageChange:!0,saveOnBlur:!0,saveOnSelectionChange:!0,cancelOnEsc:!0,saveOnEnter:!0,editSingleCell:!1,editOnDoubleClick:!0,editOnF2:!0},enableHover:!0,enableBrowserSelection:!1,filterHeight:30,filterable:!1,filterMode:"default",groupsRenderer:null,groups:new Array,headerZIndex:359,height:null,handleKeyboardNavigation:null,indentWidth:25,initRowDetails:!1,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed.",localization:null,pagerHeight:28,pageSize:10,pageSizeOptions:["5","10","20"],pageable:!1,pagerPosition:"bottom",pagerMode:"default",pageSizeMode:"default",pagerButtonsCount:5,pagerRenderer:null,ready:null,rendertoolbar:null,rowDetails:!1,renderStatusBar:null,rendered:null,rendering:null,rtl:!1,sortable:!1,showtoolbar:!1,showstatusbar:!1,statusBarHeight:34,serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:e.jqx.utilities.scrollBarSize,touchScrollBarSize:e.jqx.utilities.touchScrollBarSize,showAggregates:!1,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,beginEdit:null,endEdit:null,autokoupdates:!0,columnsVirtualization:!1,exportSettings:{columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,recordsInView:!0,fileName:"jqxDataTable"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},toolbarHeight:34,tableZIndex:369,_updating:!1,touchmode:"auto",width:null,that:this,incrementalSearch:!0,events:["bindingComplete","sort","filter","pageChanged","pageSizeChanged","rowClick","rowDoubleClick","cellValueChanged","rowBeginEdit","rowEndEdit","rowSelect","rowUnselect","rowCheck","rowUncheck","columnResized","columnReordered","rowExpand","rowCollapse","cellBeginEdit","cellEndEdit"]};return e.extend(!0,this,t),this.that=this,t},createInstance:function(t){var i=this;if(15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),"table"==i.element.nodeName.toLowerCase()||e(i.element).children("table").length>0){var s=i.host.find("tbody tr"),r=i.host.find("th"),n=new Array;0===r.length&&(r=s[0],s.splice(0,1)),
i.localizestrings&&(i.localizestrings(),null!=i.localization&&i.localizestrings(i.localization,!1));for(var a=[],o=0;o<s.length;o++){for(var l=s[o],h={},d=0;d<r.length;d++){var c=e.trim(e(r[d]).text());if(0===o){var u={name:c};if(i.columns[d]&&i.columns[d].cellsFormat){var f=i.columns[d].cellsFormat.toLowerCase();-1==f.indexOf("p")&&-1==f.indexOf("c")&&-1==f.indexOf("n")&&-1==f.indexOf("f")||(u.type="number"),-1==f.indexOf("d")&&-1==f.indexOf("m")&&-1==f.indexOf("y")&&-1==f.indexOf("h")&&-1==f.indexOf("m")&&-1==f.indexOf("s")&&-1==f.indexOf("t")||(u.type="date")}n.push(u)}var p=e(l).find("td:eq("+d+")");if(n[d].type){var m=i.getvaluebytype(e.trim(p.text()),n[d]);h[c]=m}else h[c]=e.trim(p.text())}a[a.length]=h}i.host.wrap("<div></div>");var g=i.host.parent(),v=i.host.data();v.jqxDataTable.host=g,v.jqxDataTable.element=g[0],i.host.parent()[0].id=i.element.id;try{i.host.parent()[0].style=i.element.style}catch(e){}i.element=g[0],i.host=g,i.host.data(v);var x={dataFields:n,localdata:a,datatype:"array"},y=new e.jqx.dataAdapter(x);i.source=y}i.source&&!i.source.dataBind&&(i.source=new e.jqx.dataAdapter(i.source));var w=i.source._source.datafields;w&&w.length>0&&(i._camelCase=void 0!==i.source._source.dataFields,i.selectionMode=i.selectionMode.toLowerCase()),null==i.host.attr("tabindex")&&i.host.attr("tabindex","0"),i.host.attr("role","grid"),i.host.attr("align","left"),i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content")),i._testmodules()||(i.render(!0),e.jqx.utilities.resize(i.host,function(){var t=e(window).width(),s=e(window).height(),r=i.host.width(),n=i.host.height();i._lastHostWidth==r&&i._lastHostHeight==n||i._updatesize(i._lastHostWidth!=r,i._lastHostHeight!=n),i._lastWidth=t,i._lastHeight=s,i._lastHostWidth=r,i._lastHostHeight=n}))},getvaluebytype:function(t,i){var s=t;if(null==t)return t;if(","==this.gridlocalization.decimalseparator&&t.indexOf(this.gridlocalization.decimalseparator)>=0&&(t=t.replace(this.gridlocalization.decimalseparator,".")),t.indexOf(this.gridlocalization.currencysymbol)>=0&&(t=t.replace(this.gridlocalization.currencysymbol,"")),t.indexOf(this.gridlocalization.percentagesymbol)>=0&&(t=t.replace(this.gridlocalization.percentagesymbol,"")),e.isArray(t)&&"array"!=i.type){for(var r=0;r<t.length;r++)t[r]=this.getvaluebytype(t[r],i);return t}if("date"==i.type)if("NaN"==t)t="";else{var n=new Date(t);if("string"==typeof t&&i.format){var a=e.jqx.dataFormat.parsedate(t,i.format);null!=a&&(n=a)}t=("NaN"==n.toString()||"Invalid Date"==n.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):n,null==t&&(t=s)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{var t=parseFloat(t);isNaN(t)&&(t=s)}else if("int"==i.type||"integer"==i.type){var t=parseInt(t);isNaN(t)&&(t=s)}else"bool"!=i.type&&"boolean"!=i.type||(null!=t&&void 0!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||(0!=t||""===t)&&"");return t},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");if(t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var i=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(i=!0),i?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var s=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(s=!0),s?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_testmodules:function(){var t="",i=this,s=function(){""!=t.length&&(t+=",")};if(this.host.jqxScrollBar||(s(),t+=" jqxscrollbar.js"),this.host.jqxButton||(s(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(s(),t+=" jqxdata.js"),""!=t||this.editable||this.filterable||this.pageable){var r=[];if((this.filterable&&"simple"!=this.filterMode||"advanced"==this.pagerMode&&this.pageable)&&function(e){switch(e){case"checkbox":i.host.jqxCheckBox||r.checkbox||(r.checkbox=!0,s(),t+=" jqxcheckbox.js");break;case"dropdownlist":i.host.jqxDropDownList||r.dropdownlist?i.host.jqxListBox||r.listbox||(s(),r.listbox=!0,t+=" jqxlistbox.js"):(s(),r.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}}("dropdownlist"),""!=t)throw new Error("jqxDataTable: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus(),this.host.focus();var e=this;setTimeout(function(){e.wrapper.focus(),e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},isBindingCompleted:function(){return!this._loading},_updatesize:function(t,i){if(!this._loading){var s=this,r=s.host.width(),n=s.host.height();s._oldWidth||(s._oldWidth=r),s._oldHeight||(s._oldHeight=n),void 0!=s._resizeTimer&&(clearTimeout(s._resizeTimer),s._resizeTimer=null);var a=function(){s._resizeTimer&&clearTimeout(s._resizeTimer),s.resizingGrid=!0,e.jqx.isHidden(s.host)||(s._updatecolumnwidths(),s.refresh(),s._oldWidth=r,s._oldHeight=n,s.resizingGrid=!1)};a(),s._resizeTimer=setTimeout(function(){var e=s.host.width(),t=s.host.height();s._oldWidth==e&&s._oldHeight==t||a()},300)}},resize:function(e,t){void 0!=e&&(this.width=e),void 0!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();return this.touchDevice=t,1==this.touchmode?(t=!0,e.jqx.mobile.setMobileSimulator(this.table[0]),this.touchDevice=t):0==this.touchmode&&(t=!1),t&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(null!=t){for(var s in t)s.toLowerCase()!==s&&(t[s.toLowerCase()]=t[s]);for(var r=["pagergotopagestring","pagershowrowsstring","pagerrangestring","pagernextbuttonstring","pagerpreviousbuttonstring","pagerfirstbuttonstring","pagerlastbuttonstring","toppagerstring","firstDay","days","months","AM","PM","patterns","percentsymbol","currencysymbol","currencysymbolposition","decimalseparator","thousandsseparator","filterapplystring","filteraddnew","filtercancelstring","filterclearstring","filterstring","filterstringcomparisonoperators","filternumericcomparisonoperators","filterdatecomparisonoperators","filterbooleancomparisonoperators","emptydatastring","filterselectstring","todaystring","clearstring","validationstring","loadtext","filtersearchstring","loadingErrorMessage"],n=this,a=0;a<r.length;a++){var o=r[a];void 0!==t[o]&&(n.gridlocalization[o]=t[o])}t.loadingErrorMessage&&(this.loadingErrorMessage=t.loadingErrorMessage),!1!==i&&(this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",filterapplystring:"Apply",filtercancelstring:"Cancel",filterclearstring:"Clear Filter",filterstring:"advanced",filtersearchstring:"Search:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed."}},_updateScrollbars:function(e){var t=!1;("auto"===this.width||null===this.width||this.autowidth)&&999999==this.maxWidth&&(t=!0);var i=parseInt(this.scrollBarSize),s=this.table?this.table.height():0,r=0,n="inherit",a=this.vScrollBar[0].style.visibility;this.hScrollBar[0].style.visibility;if(e)var o=e;else var o=this.host.height();this.columnGroups?o-=this.showHeader?this.columnsheader.height():0:o-=this.showHeader?this.columnsHeight:0,this.filterable&&(o-=this.filter.height()),this.pageable&&(o-=this.pagerHeight,"both"===this.pagerPosition&&(o-=this.pagerHeight)),this.showtoolbar&&(o-=this.toolbarHeight),this.showstatusbar&&(o-=this.statusBarHeight),this.showAggregates&&(o-=this.aggregatesHeight);var l=!1;if(("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(l=!0),!l&&s>o&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)?(this.vScrollBar[0].style.visibility=n,r=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:s-o})):this.vScrollBar[0].style.visibility="hidden",a!=this.vScrollBar[0].style.visibility){this._updatecolumnwidths();var h=this.table.height();s!=h&&(s=h,!l&&s>o&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)&&(this.vScrollBar[0].style.visibility=n,r=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:s-o})))}0==this.scrollBarSize&&(r=0);var d=this.table?this.table.width():0;d>3&&(d-=3);var c=parseInt(this.host.css("border-left-width"))+parseInt(this.host.css("border-right-width")),u=c+this.host.width()-r;if(d>u&&!t){if(this.hScrollBar[0].style.visibility=n,this.hScrollBar.jqxScrollBar({max:d-u}),r=4+parseInt(i),0==i&&(r=0),!l){if(s>o-r+4&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)){this.hScrollBar.jqxScrollBar({max:c+d-u});var f="hidden"===this.vScrollBar[0].style.visibility;this.vScrollBar[0].style.visibility=n,this._updatecolumnwidths(),f&&this.hScrollBar.jqxScrollBar({max:d-u+r+c});var p=this.table?this.table.width():0;p>3&&(p-=3),p!=d&&p<u&&(this.hScrollBar.jqxScrollBar({max:c+p-u}),this.hScrollBar[0].style.visibility="hidden",r=0)}this.vScrollBar.jqxScrollBar({max:s-o+r})}}else this.hScrollBar[0].style.visibility="hidden";0===this.source.records.length&&this.source.hierarchy&&0===this.source.hierarchy.length&&(this.vScrollBar[0].style.visibility="hidden",this.bottomRight[0].style.visibility="hidden"),"hidden"==this.vScrollBar[0].style.visibility&&0!=this.vScrollInstance.value&&this.vScrollInstance.setPosition(0)},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var s=i.outerWidth()+20;return i.remove(),s},_arrangeAutoHeight:function(e){if(e||(e=0),"auto"===this.height||null===this.height||this.autoheight){var t=this.table.height(),i=0;if(this.columnGroups?i+=this.showHeader?this.columnsheader.height():-1:i+=this.showHeader?this.columnsHeight:-1,i+=this.showstatusbar?this.statusBarHeight:0,i+=this.showAggregates?this.aggregatesHeight:0,i+=this.showtoolbar?this.toolbarHeight:0,i+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(i+=this.pageable?this.pagerHeight:0),i+=t,this.filterable){var s=this.filter.find(".filterrow"),r=this.filter.find(".filterrow-hidden"),n=1;r.length>0&&(n=0),i+=this.filterHeight-1+this.filterHeight*s.length*n}return i+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(i+e),!0}return!1},_arrangeAutoWidth:function(e){if(e||(e=0),"auto"===this.width||null===this.width||this.autowidth){for(var t=0,i=0;i<this.columns.records.length;i++){var s=this.columns.records[i].width;this.columns.records[i].hidden||("auto"==s?(s=this._measureElementWidth(this.columns.records[i].text),t+=s):t+=s)}return width=t,width+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(width+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;if(this.showtoolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.filterable){var i=this.filter.find(".filterrow"),s=this.filter.find(".filterrow-hidden"),r=1;s.length>0&&(r=0),t+=this.filterHeight,e-=parseInt(this.filterHeight);var n=1==r?i.length:0;t+=this.filterHeight*n,e-=this.filterHeight*n}return this.pageable&&"bottom"!=this.pagerPosition&&(t+=parseInt(this.pagerHeight)+1,e>this.pagerHeight&&"both"===this.pagerPosition&&(e-=parseInt(this.pagerHeight))),{top:t,height:e}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var t=this.host.width(),i=this.host.height(),s=i;this.pageable?"bottom"===this.pagerPosition?(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="inherit"):"both"===this.pagerPosition?(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="inherit"):"top"===this.pagerPosition&&(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="hidden"):(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="hidden");var r=0;if(this.showtoolbar?(this.toolbar.width(t),this.toolbar.height(this.toolbarHeight-1),this.toolbar.css("top",0),r+=this.toolbarHeight,i-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.filterable){this.filter.width(t),this.filter.css("top",r);var n=this.filter.find(".filterrow"),a=this.filter.find(".filterrow-hidden"),o=1;a.length>0&&(o=0),this.filter.height(this.filterHeight-1+this.filterHeight*n.length*o),r+=this.filterHeight,i-=parseInt(this.filterHeight);var l=1==o?n.length:0;r+=this.filterHeight*l,i-=this.filterHeight*l}if(this.showstatusbar?(this.statusbar.width(this.table?Math.max(t,this.table.width()):t),this.statusbar.height(this.statusBarHeight-1)):this.statusbar[0].style.height="0px",this.showAggregates?this.aggregates.height(this.aggregatesHeight-1):this.aggregates[0].style.height="0px",this.pageable&&"bottom"!=this.pagerPosition)this.toppager[0].style.width=t+"px",this.toppager[0].style.height=parseInt(this.pagerHeight)+"px",this.toppager[0].style.top=parseInt(r)+"px",r+=parseInt(this.pagerHeight)+1,i>this.pagerHeight&&(i-=parseInt(this.pagerHeight));else{this.toppager[0].style.width!=t+"px"&&(this.toppager[0].style.width=parseInt(t)+"px"),this.toppager[0].style.height!=this.pagerHeight+"px"&&(this.toppager[0].style.height=parseInt(this.pagerHeight)+"px"),this.toppager[0].style.top!=r+"px"&&(this.toppager[0].style.top=r+"px");var h="bottom"!=this.pagerPosition?this.pagerHeight:0,d=r+h+"px";this.content[0].style.top!=d&&(this.content[0].style.top=r+this.pagerHeight+"px")}this._updateScrollbars(s);var c=parseInt(this.scrollBarSize),u=2,f=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(f=c+4),"hidden"!=this.hScrollBar[0].style.visibility&&(u=c+4+2),0==c&&(f=0,u=0),this.showAggregates&&("hidden"===this.hScrollBar[0].style.visibility?this.aggregates.width(this.table?Math.max(t,this.table.width())+4:t):this.aggregates.width("auto")),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var p=this._arrangeAutoHeight(u-2),m=this._arrangeAutoWidth(f+1);if(p||m){var t=this.host.width();this.toppager[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.statusbar[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"}if(p){var g=this._measureTopAndHeight();r=g.top,i=g.height}}var v=0;this.pageable&&(v=this.pagerHeight,"top"!=this.pagerPosition&&(u+=this.pagerHeight)),this.showAggregates&&(u+=this.aggregatesHeight,v+=this.aggregatesHeight),this.showstatusbar&&(u+=this.statusBarHeight,v+=this.statusBarHeight),this.hScrollBar[0].style.height!=c+"px"&&(this.hScrollBar[0].style.height=parseInt(c)+"px"),this.hScrollBar[0].style.top==r+i-4-c-v+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=r+i-4-c-v-1+"px",this.hScrollBar[0].style.left="0px");var x=this.hScrollBar[0].style.width,y=!1,w=!1;0==f?x!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",y=!0):x!=t-c-4+"px"&&(this.hScrollBar[0].style.width=t-c-4+"px",y=!0),this.vScrollBar[0].style.width!=c+"px"&&(this.vScrollBar[0].style.width=c+"px",w=!0),this.vScrollBar[0].style.height!=parseInt(i)-u+"px"&&(this.vScrollBar[0].style.height=parseInt(i)-u+"px",w=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(c)-4+"px"&&this.vScrollBar[0].style.top==r+"px"||(this.vScrollBar[0].style.top=r+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(c)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:r}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:c+2}));var b=this.vScrollInstance;b.disabled=this.disabled;var _=this.hScrollInstance;_.disabled=this.disabled,y&&_.refresh(),w&&b.refresh();var T=function(e){"hidden"!=e.vScrollBar[0].style.visibility&&"hidden"!=e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="inherit",e.bottomRight[0].style.left=1+parseInt(e.vScrollBar.css("left"))+"px",e.bottomRight[0].style.top=parseInt(e.hScrollBar.css("top"))+"px",e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight[0].style.width=parseInt(c)+3+"px",e.bottomRight[0].style.height=parseInt(c)+4+"px",e.showAggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(c)+4+e.aggregatesHeight),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.aggregatesHeight}))):e.bottomRight[0].style.visibility="hidden"};if(T(this),this.content[0].style.width!=t-f+"px"&&(this.content[0].style.width=t-f+"px"),this.content[0].style.height!=i-u+3+"px"&&(this.content[0].style.height=i-u+3+"px"),this.content[0].style.top!=r+"px"&&(this.content[0].style.top=parseInt(r)+"px"),this.rtl&&(this.content.css("left",f),this.filter&&this.filter.children().length>0&&e(this.filter.children()).css("left",f),this.table)){var j=this.table.width();j<t-f&&(this.content.css("left",t-j+2),this.filter&&this.filter.children().length>0&&e(this.filter.children()).css("left",t-j+2))}this.showAggregates&&(this.aggregates.css("top",r+i-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0)),this.rtl&&this.aggregates.css("left","0px"),"hidden"!=this.hScrollBar.css("visibility")&&(this.hScrollBar.css({top:r+i-4-c-v+this.aggregatesHeight+"px"}),this.aggregates.css("top",1+r+i-c-5-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0))),T(this)),this.showstatusbar&&(this.statusbar.css("top",r+i-this.statusBarHeight-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.statusbar.css("left",this.content.css("left")):this.statusbar.css("left","0px"))),this.pageable?(this.pager[0].style.width=t+"px",this.pager[0].style.height=this.pagerHeight+"px",this.pager[0].style.top=parseInt(r)+parseInt(i)-parseInt(this.pagerHeight)-1+"px"):this.pager[0].style.height="0px",this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),i!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostwidth=t}},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=e&&"object"==typeof e)var t=e.left,i=e.top,e=i;null!=e&&null!=t&&void 0!=e&&void 0!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&void 0!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&void 0!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){this._updating=!1,!1!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(t,i,s){if(!0!==this.loadingstate){"block"==this.host.css("display")&&(this.autoShowLoadElement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")));var r=this;null==t&&(t={}),void 0!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),void 0!=t.filter&&null!=t.filter||(t.filter=null),void 0!=t.sort&&null!=t.sort||(t.sort=null),void 0!=t.data&&null!=t.data||(t.data=null);if(null!=t&&(void 0!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataView,this.dataview.pageable=this.pageable,this.dataview.grid=this,!r.initializedcall){if(t._source&&this.sortable&&(void 0!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),void 0!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection;var n=t._source.sortdirection;if("a"==n||"asc"==n||"ascending"==n||1==n)var a=!0;else var a=!1;this.sortdirection=null!=n?{ascending:a,descending:!a}:{ascending:!1,descending:!1}}this.pageable&&t._source&&(void 0!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),void 0!=t._source.pagesize?(this.pageSize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,void 0==this.dataview.pagesize&&(this.dataview.pagesize=this.pageSize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection))}this._loading=!0,this.dataview.update=function(t){r._loading=!1,r.rowsByKey=new Array;var n=r.source._source.datafields;if(r.groups&&r.groups.length>0){var a=Object.prototype.toString,o=r.groups[0];if(Object.prototype.toString="function"==typeof o?o:function(){return this[o]},!r.source.records.sort){var l=new Array,h=0;e.each(data,function(){l[startindex+h++]=this}),data=l}r.source.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;var s=0,r=0;if(t&&t.uid&&(s=t.uid),i&&i.uid&&(r=i.uid),t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(e){}if("number"==typeof s){if(s<r)return-1;if(s>r)return 1}return 0}),Object.prototype.toString=a}for(var d=0;d<r.source.records.length;d++){var c=r.source.records[d];if(r.rowsByKey[c.uid]=c,c.records&&c.records.length>0){var u=function(e){for(var t=0;t<e.length;t++)e[t]&&(r.rowsByKey[e[t].uid]=e[t],e[t].records&&e[t].records.length>0&&u(e[t].records))};u(c.records)}if(0===d){var f=!1;if(n)for(var p=0;p<n.length;p++)if(n[p]&&!n[p].type){f=!0,n[p].type="string";var m=c[n[p].name];if(void 0==m)continue;if(!0!==m&&!1!==m||(n[p].type="boolean"),null!=m&&m.toString().indexOf(r.gridlocalization.currencysymbol)>-1||m.toString().indexOf(r.gridlocalization.percentsymbol)>-1){var g=m.toString().split(" ").length,v=new Number(r._toNumber(m.toString()));isNaN(v)||1!=g||(n[p].type="number")}(e.jqx.dataFormat.isNumber(m)||!isNaN(parseFloat(m))&&isFinite(m))&&(n[p].type="number"),e.jqx.dataFormat.isDate(m)&&(n[p].type="date")}if(f)for(var p=0;p<n.length;p++){var x=r.source.getvaluebytype(c[n[p].name],n[p]);if(null!=x&&"number"==n[p].type){var y=x;y=new Number(r._toNumber(y.toString())),isNaN(y)||(x=y)}c[n[p].name]=x}}}if("pager"===i||"filter"===i||"sort"===i?r.refresh():r._render(),r.autoShowLoadElement&&!r._loading&&(e(r.dataloadelement).css("visibility","hidden"),e(r.dataloadelement).css("display","none")),r.pageable&&(r.disabled||r.pagernexttop&&(r.pagerfirsttop.jqxButton({disabled:!1}),r.pagerfirstbottom.jqxButton({disabled:!1}),r.pagerlasttop.jqxButton({disabled:!1}),r.pagerlastbottom.jqxButton({disabled:!1}),r.pagernexttop.jqxButton({disabled:!1}),r.pagerprevioustop.jqxButton({disabled:!1}),r.pagershowrowscombotop.jqxDropDownList&&"advanced"==r.pagerMode&&(r.pagershowrowscombotop.jqxDropDownList({disabled:!1}),r.pagershowrowscombobottom.jqxDropDownList({disabled:!1})),r.pagernextbottom.jqxButton({disabled:!1}),r.pagerpreviousbottom.jqxButton({disabled:!1}))),r._updateTouchScrolling(),r._raiseEvent("bindingComplete"),s&&s(),!r.initializedcall&&(r.initializedcall=!0,r.isInitialized=!0,r.ready&&r.ready(),(null!=r.width&&-1!=r.width.toString().indexOf("%")||null!=r.height&&-1!=r.height.toString().indexOf("%"))&&r._updatesize(!0),"hidden"==r.host.css("visibility"))){e.jqx.browser.msie&&e.jqx.browser.version;"visible"==r.vScrollBar.css("visibility")&&r.vScrollBar.css("visibility","inherit"),"visible"==r.hScrollBar.css("visibility")&&r.hScrollBar.css("visibility","inherit"),r._intervalTimer=setInterval(function(){"visible"==r.host.css("visibility")&&(r._updatesize(!0),clearInterval(r._intervalTimer))},100)}},this.dataview.databind(t)}},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=t;args=i,args.owner=this;var r=new e.Event(s);r.owner=this,r.args=args;var n=this.host.trigger(r);return i=r.args,n},ensureColumnVisible:function(e){for(var t=0,i=0,s=0;s<this.columns.records.length;s++){if(this.columns.records[s].datafield==e){t+=this.columns.records[s].width,i=this.columns.records[s].width;break}t+=this.columns.records[s].width}if("hidden"!=this.hScrollBar.css("visibility")){var r=this.hScrollBar.jqxScrollBar("value"),n=r+this.host.width();r>t-i?this.hScrollBar.jqxScrollBar("setPosition",t-i):t>n&&this.hScrollBar.jqxScrollBar("setPosition",r+t-n)}},ensurerowvisiblebykey:function(t){if("hidden"===this.vScrollBar[0].style.visibility)return!1;var i=this._getuirow(t);if(i){var s=this.vScrollBar.jqxScrollBar("value"),r=this.host.height(),n=0;this.columnGroups?n+=this.showHeader?this.columnsheader.height():0:n+=this.showHeader?this.columnsHeight:0,this.filterable&&(n+=this.filter.height()),this.pageable&&"top"===this.pagerPosition&&(n+=this.pagerHeight),this.showtoolbar&&(n+=this.toolbarHeight),r-=n,this.pageable&&"top"!==this.pagerPosition&&(r-=this.pagerHeight),this.showstatusbar&&(r-=this.statusBarHeightt),this.showAggregates&&(r-=this.aggregatesHeight),"hidden"!=this.hScrollBar.css("visibility")&&(r-=20);var a=this.host.coord().top+n,o=s,l=r+o,h=i.coord().top+s-a;h=Math.round(h);var d=h+i.outerHeight();if(d=Math.round(d),0===Math.round(i.position().top))return this.vScrollBar.jqxScrollBar("setPosition",0);var c=e(this._table.children()[1]).children().length-1,u=this._getuikey(c),f=this._getuirow(u);if(f&&f[0]===i[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(h<o){var p=h-i.height();return p<0&&(p=0),this.vScrollBar.jqxScrollBar("setPosition",p)}return d>l?this.vScrollBar.jqxScrollBar("setPosition",4+d-r-s):void 0}},ensureRowVisible:function(e){var t=this._getkey(e);this.ensurerowvisiblebykey(t)},getColumn:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;var s=t;t=t.toLowerCase();var r=this.getColumn(e);if(null!=r){r[t];r[t]=i,r[s]=i;var n=this.getColumn(e);switch(null!=n&&(n[t]=i),t){case"filteritems":case"text":case"editable":case"resizable":case"draggable":case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t?(this._rendercolumnheaders(),this.refresh()):"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?(this._rendercolumnheaders(),this.refresh()):"width"==t||"maxwidth"==t||"minwidth"==t?(r._width=null,r._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return;this.vScrollInstance.setPosition(0),this._renderrows(),this.updatepagerdetails(),this._arrange(),
this._arrangeFilterRow&&this._arrangeFilterRow(),this._renderhorizontalscroll(),this._showicons(),this.showAggregates&&this._updateaggregates(),this._updateTouchScrolling()}},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){var i=e.jqx.mobile.getTouchEventName("touchstart"),s=e.jqx.mobile.getTouchEventName("touchend"),r=e.jqx.mobile.getTouchEventName("touchmove");t.table&&(t.removeHandler(t.table,i+".touchScroll"),t.removeHandler(t.table,r+".touchScroll"),t.removeHandler(t.table,s+".touchScroll"),t.removeHandler(t.table,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.table[0],Math.max(t.vScrollInstance.max,t.hScrollInstance.max),function(e,i){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i)}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e)}t.scrolled=new Date,t.vScrollInstance.thumbCapture=!0},this.element.id,this.hScrollBar,this.vScrollBar))}},_showicons:function(){if(this.table)for(var t=0;t<this.columns.records.length;t++){var i=this.columns.records[t];if(e(i.filtericon).hide(),e(i.sortasc).hide(),e(i.sortdesc).hide(),"simple"!==this.filterMode)for(var s=0;s<this.dataview.filters.length;s++){var r=this.dataview.filters[s];if(r.datafield===i.displayfield){e(i.filtericon).show();break}}if(null!==this.sortcolumn&&this.sortcolumn===i.displayfield&&null!=this.sortdirection&&(this.sortdirection.ascending?e(i.sortasc).show():e(i.sortdesc).show()),"left"!=i.align&&"center"!=i.align&&!this.rtl||this.rtl&&"right"!=i.align&&"center"!=i.align){var n=e.jqx.isHidden(e(i.filtericon))?0:16;n+=e.jqx.isHidden(e(i.sortasc))?0:16,n+=e.jqx.isHidden(e(i.sortdesc))?0:16;var a=e(e(e(i.element).children()[0]).children()[0]);this.rtl?n>0?a.css("margin-left",4+n+"px"):a.css("margin-left","4px"):n>0?a.css("margin-right",4+n+"px"):a.css("margin-right","4px")}}},render:function(t){var i="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='toppager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='statusbar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerText="",this.element.innerHTML=i,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var s=this.host.find("#verticalScrollBar"+this.element.id),r=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=s.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.filter=this.host.find("#filter"),this.filter[0].id="filter"+this.element.id,this.filter.addClass(this.toTP("jqx-widget-header")),this.filter.addClass(this.toTP("jqx-grid-toolbar")),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.aggregates=this.host.find("#aggregates"),this.aggregates[0].id="aggregates"+this.element.id,this.aggregates.addClass(this.toTP("jqx-grid-statusbar")),this.aggregates.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.toppager=this.host.find("#toppager"),this.toppager.addClass(this.toTP("jqx-grid-pager-top")),this.toppager.addClass(this.toTP("jqx-widget-header")),this.gridtable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var n=this.source.datafields;if(null==n&&this.source._source&&(n=this.source._source.datafields),n)for(var a=0;a<this.columns.length;a++){var o=this.columns[a];if(o&&o.cellsFormat&&o.cellsFormat.length>2)for(var l=0;l<n.length;l++)if(n[l].name==o.datafield&&!n[l].format){n[l].format=o.cellsFormat;break}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this.showAggregates&&this.aggregates.css("visibility","inherit"),this.tableheight=null;var h=this,d=function(){h.content&&(h.content[0].scrollTop=0,h.content[0].scrollLeft=0),h.gridcontent&&(h.gridcontent[0].scrollLeft=0,h.gridcontent[0].scrollTop=0)};this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return d(),!1}),!0!==t&&this._render()},_render:function(){if(null!=this.dataview&&!this._loading){(25!=this.columnsHeight||this.columnGroups)&&this._measureElement("column"),this.filterable?this.filter[0].style.visibility="inherit":this.filter[0].style.visibility="hidden",this.rowinfo=new Array,this._removeHandlers(),null==this.columns?this.columns=new e.jqx.dataCollection(this.element):this._initializeColumns(),this.host.height(this.height),this.host.width(this.width),e.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header")),this.showHeader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var t=this.columnsHeight;t=this._preparecolumnGroups(),this.columnsheader.height(t),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._rendercolumnheaders(),this.tableheight=null,this.gridcontent.find("#contenttable"+this.element.id).remove(),null!=this.table&&(this.table.remove(),this.table=null),this.table=e('<div id="contenttable'+this.element.id+'" style="overflow: hidden; position: relative;"></div>'),this.gridcontent.addClass(this.toTP("jqx-grid-content")),this.gridcontent.addClass(this.toTP("jqx-widget-content")),this.gridcontent.append(this.table),this._renderrows(),this.filterable&&this._renderfilter(),this.pageable&&this._initpager(),this._arrange(),this.renderStatusBar&&this.renderStatusBar(this.statusbar),this.rendertoolbar&&this.rendertoolbar(this.toolbar),this.showAggregates&&this._updateaggregates(),this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._renderhorizontalscroll(),this._showicons(),this._addHandlers()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},_initpager:function(){var t=this.gridlocalization.pagergotopagestring,i=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),s=(this.pagerHeight-17)/2;if(this.pagerdiv=this.pagerdiv||e('<div style="width: 100%; height: 100%; position: relative;"></div>'),this.toppagerdiv=this.toppagerdiv||e('<div style="width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.toppagerdiv.remove();if(this.pagerRenderer){this.pagerdiv.children().remove(),this.toppager.children().remove();var r=this.pagerRenderer();null!=r&&this.pagerdiv.append(e(r)),this.pager.append(this.pagerdiv);var r=this.pagerRenderer();null!=r&&this.toppagerdiv.append(e(r)),this.toppager.append(this.toppagerdiv)}else{this.pagerdiv.css("top",s),this.toppagerdiv.css("top",s);var n=function(s,r){var n=this,a=e('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>'),o=e('<div style="float: right; margin-right: 7px;"></div>'),l=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),h=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),d=e('<div type="button" style="margin-left: 3px; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),c=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),u=e('<div style="margin-right: 7px; float: right;"></div>'),f=e('<div style="margin-right: 7px; float: right;"></div>'),p=e('<div style="padding-bottom: 3px; margin-right: 3px; float: right;"></div>');a.attr("disabled",n.disabled);var m=e('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>');if(m[0].id="gridpagerlist"+r+n.element.id,n.removeHandler(l,"mousedown"),n.removeHandler(l,"mouseup"),n.removeHandler(l,"click"),n.removeHandler(h,"mousedown"),n.removeHandler(h,"mouseup"),n.removeHandler(h,"click"),n.removeHandler(d,"mousedown"),n.removeHandler(d,"mouseup"),n.removeHandler(d,"click"),n.removeHandler(c,"mousedown"),n.removeHandler(c,"mouseup"),n.removeHandler(c,"click"),n.rtl?(l.attr("title",n.gridlocalization.pagerpreviousbuttonstring),h.attr("title",n.gridlocalization.pagernextbuttonstring)):(h.attr("title",n.gridlocalization.pagerpreviousbuttonstring),l.attr("title",n.gridlocalization.pagernextbuttonstring)),e.jqx.browser.msie&&e.jqx.browser.version<8&&p.css("padding-top","3px"),this["pagerfirst"+r]=d,this["pagerlast"+r]=c,this["pagernext"+r]=l,this["pagerprevious"+r]=h,this["pagergotoinput"+r]=a,this["pagerdetails"+r]=u,this["pagershowrows"+r]=f,this["pagergotolabel"+r]=o,this["pagershowrowscombo"+r]=m,this["pagerbuttons"+r]=p,"default"==n.pagerMode){n.rtl?(c.attr("title",n.gridlocalization.pagerfirstbuttonstring),d.attr("title",n.gridlocalization.pagerlastbuttonstring)):(d.attr("title",n.gridlocalization.pagerfirstbuttonstring),c.attr("title",n.gridlocalization.pagerlastbuttonstring));var g=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");g.addClass(n.toThemeProperty("jqx-icon-arrow-first")),d.wrapInner(g);var v=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");v.addClass(n.toThemeProperty("jqx-icon-arrow-last")),c.wrapInner(v),n.rtl?(s.append(c),s.append(l),s.append(p),s.append(h),s.append(d)):(s.append(d),s.append(h),s.append(p),s.append(l),s.append(c)),c.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme}),d.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme});var x=n.rtl?"right":"left";p.css("float",x),c.css("float",x),d.css("float",x),l.css("float",x),h.css("float",x),u.css("float",n.rtl?"left":"right"),n.rtl?(u.css("margin-left","7px"),u.css("margin-right","0px")):(u.css("margin-left","0px"),u.css("margin-right","7px"))}else n.rtl||(s.append(l),s.append(h));l.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme}),h.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme});var y=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");y.addClass(n.toThemeProperty("jqx-icon-arrow-left")),h.wrapInner(y);var w=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(w.addClass(n.toThemeProperty("jqx-icon-arrow-right")),l.wrapInner(w),n.rtl||s.append(u),"default"!=n.pagerMode){n.rtl?(s.append(o),s.append(a),s.append(f),s.append(m),s.append(u),s.append(l),s.append(h)):(s.append(m),s.append(f),s.append(a),s.append(o));var b=n.pageSizeOptions;m.jqxDropDownList({_checkForHiddenParent:!1,rtl:n.rtl,disabled:n.disabled,source:b,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:44,height:16,theme:n.theme});for(var _=0,T=0;T<b.length;T++)this.pageSize>=b[T]&&(_=T);o[0].innerHTML=t,m.jqxDropDownList({selectedIndex:_});var j=a.find("input");j.addClass(n.toThemeProperty("jqx-input")),j.addClass(n.toThemeProperty("jqx-widget-content")),this.rtl&&j.css("direction","rtl");var n=this;this.removeHandler(m,"select"),this.addHandler(m,"select",function(e){if(e.args){n.vScrollInstance&&n.vScrollInstance.setPosition(0);var t=e.args.index;n.pagershowrowscombotop.data().jqxDropDownList.instance.selectIndex(t),n.pagershowrowscombobottom.data().jqxDropDownList.instance.selectIndex(t),n.pagershowrowscombobottom.data().jqxDropDownList.instance.renderSelection("mouse"),n.pagershowrowscombotop.data().jqxDropDownList.instance.renderSelection("mouse");var i=n.dataview.pagenum*n.dataview.pagesize,s=b[t],r=n.pageSize;n.pageSize=parseInt(s),isNaN(n.pageSize)&&(n.pageSize=10),s>=100?(n.pagershowrowscombotop.jqxDropDownList({width:55}),n.pagershowrowscombobottom.jqxDropDownList({width:55})):(n.pagershowrowscombotop.jqxDropDownList({width:44}),n.pagershowrowscombobottom.jqxDropDownList({width:44})),n.dataview.pagesize=n.pageSize;var a=Math.floor(i/n.dataview.pagesize);if(a!==n.dataview.pagenum||parseInt(s)!==parseInt(r)){n._raiseEvent("pageSizeChanged",{pagenum:a,oldpageSize:r,pageSize:n.dataview.pagesize});n.goToPage(a)||(n.serverProcessing?n.updateBoundData("pager"):n.refresh())}}});var a=a.find("input");a.addClass(n.toThemeProperty("jqx-grid-pager-input")),a.addClass(n.toThemeProperty("jqx-rc-all")),this.removeHandler(a,"keydown"),this.removeHandler(a,"change"),n.addHandler(a,"keydown",function(e){if(e.keyCode>=65&&e.keyCode<=90)return!1;if("13"==e.keyCode){var t=a.val();return t=parseInt(t),isNaN(t)||n.goToPage(t-1),!1}}),n.addHandler(a,"change",function(){var e=a.val();e=parseInt(e),isNaN(e)||n.goToPage(e-1)})}f[0].innerHTML=i,n.addHandler(l,"mouseenter",function(){w.addClass(n.toThemeProperty("jqx-icon-arrow-right-hover"))}),n.addHandler(h,"mouseenter",function(){y.addClass(n.toThemeProperty("jqx-icon-arrow-left-hover"))}),n.addHandler(l,"mouseleave",function(){w.removeClass(n.toThemeProperty("jqx-icon-arrow-right-hover"))}),n.addHandler(h,"mouseleave",function(){y.removeClass(n.toThemeProperty("jqx-icon-arrow-left-hover"))}),n.addHandler(l,"mousedown",function(){w.addClass(n.toThemeProperty("jqx-icon-arrow-right-selected"))}),n.addHandler(l,"mouseup",function(){w.removeClass(n.toThemeProperty("jqx-icon-arrow-right-selected"))}),n.addHandler(h,"mousedown",function(){y.addClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))}),n.addHandler(h,"mouseup",function(){y.removeClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))}),"default"===n.pagerMode&&(n.addHandler(c,"mouseenter",function(){v.addClass(n.toThemeProperty("jqx-icon-arrow-last-hover"))}),n.addHandler(d,"mouseenter",function(){g.addClass(n.toThemeProperty("jqx-icon-arrow-first-hover"))}),n.addHandler(c,"mouseleave",function(){v.removeClass(n.toThemeProperty("jqx-icon-arrow-last-hover"))}),n.addHandler(d,"mouseleave",function(){g.removeClass(n.toThemeProperty("jqx-icon-arrow-first-hover"))}),n.addHandler(c,"mousedown",function(){v.addClass(n.toThemeProperty("jqx-icon-arrow-last-selected"))}),n.addHandler(d,"mousedown",function(){g.addClass(n.toThemeProperty("jqx-icon-arrow-first-selected"))}),n.addHandler(c,"mouseup",function(){v.removeClass(n.toThemeProperty("jqx-icon-arrow-last-selected"))}),n.addHandler(d,"mouseup",function(){g.removeClass(n.toThemeProperty("jqx-icon-arrow-first-selected"))})),n.addHandler(e(document),"mouseup.pagerbuttons"+r+this.element.id,function(){w.removeClass(n.toThemeProperty("jqx-icon-arrow-right-selected")),y.removeClass(n.toThemeProperty("jqx-icon-arrow-left-selected")),v&&(v.removeClass(n.toThemeProperty("jqx-icon-arrow-last-selected")),g.removeClass(n.toThemeProperty("jqx-icon-arrow-first-selected")))}),n.addHandler(l,"click",function(){l.jqxButton("disabled")||(n.rtl?n.goToPrevPage():n.goToNextPage())}),n.addHandler(h,"click",function(){h.jqxButton("disabled")||(n.rtl?n.goToNextPage():n.goToPrevPage())}),"default"===this.pagerMode&&(n.addHandler(d,"click",function(){if(!d.jqxButton("disabled"))if(n.rtl){var e=n.dataview.totalrecords,t=Math.ceil(e/n.pageSize);n.goToPage(t-1)}else n.goToPage(0)}),n.addHandler(c,"click",function(){if(!c.jqxButton("disabled"))if(n.rtl)n.goToPage(0);else{var e=n.dataview.totalrecords,t=Math.ceil(e/n.pageSize);n.goToPage(t-1)}}))};this.pagerdiv.children().remove(),this.toppagerdiv.children().remove(),n.call(this,this.pagerdiv,"bottom"),n.call(this,this.toppagerdiv,"top"),this.pager.append(this.pagerdiv),this.toppager.append(this.toppagerdiv),this.updatepagerdetails()}},_updatepagertheme:function(){},goToPage:function(t,i){if(this._loading)return!1;if(void 0!=this.editKey){if(!this.editSettings.saveOnPageChange)return!1;if(!this.endroweditbykey(this.editKey))return!1}if(null!=t&&void 0!=t||(t=0),-1==t&&(t=0),t<0)return!1;var s=this.dataview.totalrecords,r=this.dataview.pagenum,n=Math.ceil(s/this.pageSize);return t>=n&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),t>0&&(t=n-1)),this.dataview.pagenum!=t&&(this.pageable&&(this.dataview.pagenum=t,this._raiseEvent("pageChanged",{pagenum:t,oldpagenum:r,pageSize:this.dataview.pagesize})),this.serverProcessing?this.updateBoundData("pager",i):(this.refresh(),i&&e.isFunction(i)&&i()),!0)},goToPrevPage:function(e){if(this.dataview.pagenum>0)return this.goToPage(this.dataview.pagenum-1,e);if("default"!=this.pagerMode&&"advanced"!=this.pagerMode){var t=this.dataview.totalrecords,i=Math.ceil(t/this.pageSize);return this.goToPage(i-1,e)}return!1},goToNextPage:function(e){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=Math.ceil(t/this.pageSize);return this.dataview.pagenum<i-1?this.goToPage(this.dataview.pagenum+1,e):"default"!=this.pagerMode&&"advanced"!=this.pagerMode&&this.goToPage(0,e)},updatepagerdetails:function(){if(this.pageable){var t=this;if(!this.serverProcessing)if(this.source.hierarchy){var i=t._names(),s=0,r=function(n,a){for(var o=0;o<a.length;o++)0==t.dataview.filters.length&&(a[o]._visible=!0),!1!==a[o]._visible&&s++,t.treeGrid&&"root"==t.treeGrid.pageSizeMode||a[o].records&&(a[o][i.expanded]||a[o][i.leaf])&&!1!==a[o]._visible&&(r(n+1,a[o].records),this.treeGrid&&e(this.treeGrid).jqxTreeGrid("showSubAggregates")&&0!=n&&s--)};r(0,this.dataview.rows),this.dataview.totalrecords=s}else this.dataview.totalrecords=this.dataview.rows.length;var n=this.dataview.pagenum*this.pageSize,a=(this.dataview.pagenum+1)*this.pageSize;a>=this.dataview.totalrecords&&(a=this.dataview.totalrecords);var o=this.dataview.totalrecords;n++;var l=Math.ceil(o/this.dataview.pagesize);if(l>=1&&l--,l++,"root"==this.pageSizeMode&&(l=Math.ceil(this.rootRecordsLength/this.dataview.pagesize),l>=1&&l--,l++,o=this.rootRecordsLength,this.dataview.totalrecords=this.rootRecordsLength),"default"!=this.pagerMode){if(this.pagergotoinputbottom){var h=this.pagergotoinputbottom.find("input");h.val(this.dataview.pagenum+1),h.attr("title","1 - "+l),h=this.pagergotoinputtop.find("input"),h.val(this.dataview.pagenum+1),h.attr("title","1 - "+l)}}else{var d="",c=this.pagerButtonsCount;0!=c&&c||(c=5);var u=0;for(this.rtl&&(u=c-1);this.rtl&&u>=0||!this.rtl&&u<c;){var f=1+u,p=this.dataview.pagenum/c;f+=Math.floor(p)*c;var m=this.toTP("jqx-grid-pager-number");if(m+=" "+this.toTP("jqx-rc-all"),f>l&&!this.rtl)break;if(this.rtl&&f>l)u--;else{if(this.rtl||0==u&&f>c&&(d+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(-1+f)+"'>...</a>"),this.dataview.pagenum===f-1&&(m+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(u===c-1){var m=this.toTP("jqx-grid-pager-number");m+=" "+this.toTP("jqx-rc-all"),l>=1+f&&(d+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(1+f)+"'>...</a>")}this.dataview.pagenum===f-1&&(m+=" "+this.toTP("jqx-fill-state-pressed")),d+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+f+"'>"+f+"</a>"}else if(d+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+f+"'>"+f+"</a>",u===c-1){var m=this.toTP("jqx-grid-pager-number");m+=" "+this.toTP("jqx-rc-all"),l>=1+f&&(d+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(1+f)+"'>...</a>")}if(this.rtl){var m=this.toTP("jqx-grid-pager-number");m+=" "+this.toTP("jqx-rc-all"),0==u&&f>c&&(d+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(-1+f)+"'>...</a>")}this.rtl?u--:u++}}if(!this.pagerbuttonsbottom)return;var g=this.pagerbuttonsbottom.find("a");this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave");var g=this.pagerbuttonstop.find("a");this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave"),this.pagerbuttonsbottom[0].innerHTML=d,this.pagerbuttonstop[0].innerHTML=d,this.disabled&&this.host.find(".jqx-grid-pager-number").css("cursor","default");var v=function(){g.click(function(i){if(!t.disabled){var s=e(i.target).attr("data-page");t.goToPage(parseInt(s)-1)}}),g.mouseenter(function(i){t.disabled||e(i.target).addClass(t.toTP("jqx-fill-state-hover"))}),g.mouseleave(function(i){t.disabled||e(i.target).removeClass(t.toTP("jqx-fill-state-hover"))})};if("both"===this.pagerPosition||"bottom"===this.pagerPosition){var g=this.pagerbuttonsbottom.find("a");v()}if("both"===this.pagerPosition||"top"===this.pagerPosition){var g=this.pagerbuttonstop.find("a");v()}}if(0==a&&a<n&&(n=0),this.pagerdetailsbottom&&(this.rtl?(this.pagerdetailsbottom[0].innerHTML=o+this.gridlocalization.pagerrangestring+a+"-"+n,this.pagerdetailstop[0].innerHTML=o+this.gridlocalization.pagerrangestring+a+"-"+n):(this.pagerdetailsbottom[0].innerHTML=n+"-"+a+this.gridlocalization.pagerrangestring+o,this.pagerdetailstop[0].innerHTML=n+"-"+a+this.gridlocalization.pagerrangestring+o)),"default"==this.pagerMode){var x=this.pagerbuttonsbottom.width()+e(this.pagerdetailsbottom).width()+160;this.pagerdiv.css("min-width",x),this.toppagerdiv.css("min-width",x)}n>a&&this.goToPrevPage()}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var t=this,i=0;i<this.columnGroups.length;i++)this.columnGroups[i].parent=null,this.columnGroups[i].groups=null;for(var i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;for(var s=function(e){for(var i=0;i<t.columnGroups.length;i++){var s=t.columnGroups[i];if(s.name===e)return s}return null},i=0;i<this.columnGroups.length;i++){var r=this.columnGroups[i];if(r.groups||(r.groups=null),r.parentGroup&&(r.parentgroup=r.parentGroup),r.parentgroup){var n=s(r.parentgroup);n&&(r.parent=n,n.groups||(n.groups=new Array),-1===n.groups.indexOf(r)&&n.groups.push(r))}}for(var i=0;i<this.columns.records.length;i++){var r=this.columns.records[i];if(r.columngroup){var n=s(r.columngroup);n&&(n.groups||(n.groups=new Array),r.parent=n,-1===n.groups.indexOf(r)&&n.groups.push(r))}}for(var a=0,i=0;i<this.columns.records.length;i++){var r=this.columns.records[i],o=r;for(r.level=0;o.parent;)o=o.parent,r.level++;var o=r,l=r.level;for(a=Math.max(a,r.level);o.parent;)(o=o.parent)&&(o.level=--l)}for(var h=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var s=h(e.groups[i]),r=0;r<s.length;r++)t.push(s[r]);return t},i=0;i<this.columnGroups.length;i++){var r=this.columnGroups[i],d=h(r);r.columns=d;for(var c=new Array,u=0,f=0;f<d.length;f++)c.push(this.columns.records.indexOf(d[f])),d[f].pinned&&u++;if(0!=u)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return e=parseInt(e),t=parseInt(t),e<t?-1:e>t?1:0});for(var p=1;p<c.length;p++)if(c[p]!=c[p-1]+1)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+a,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),!!s&&(s=!1,e.returnValue=s,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20);var i=this.vScrollInstance.value;if(t!=i)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var t=this.hScrollInstance.value;e>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max);var i=this.hScrollInstance.value;if(t!=i)return!0}return!1},_removeHandlers:function(){this.removeHandler(this.host,"focus"),this.removeHandler(e(window),"jqxReady."+this.element.id),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);var t="mousedown";this.isTouchDevice()&&(t=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.host,"dragstart."+this.element.id),this.removeHandler(this.host,"keydown"),this.table&&(this.removeHandler(this.table,"mouseleave"),this.removeHandler(this.table,"mousemove"),this.removeHandler(this.table,t),this.removeHandler(this.table,"selectstart."+this.element.id),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.removeHandler(this.table,"dblclick"))},_addHandlers:function(){var t=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return t.wheel(e,t),!1},this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.table,"selectstart."+this.element.id,function(i){return!!t.enableBrowserSelection||(!(!t.filterable||!e(i.target).ischildof(t.filterrow))||(!!(t.rowDetails&&e(i.target).parents("[data-role=details]").length>0)||void 0!=t.editKey&&void 0))}),this.addHandler(e(window),"jqxReady."+this.element.id,function(){t._updatecolumnwidths(),t.refresh()}),this.editable&&this.addHandler(e(document),"mousedown.gridedit"+this.element.id,function(i){if(t.editable&&t.editSettings.saveOnBlur&&null!=t.editKey&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var s=t.host.coord(),r=t.host.width(),n=t.host.height(),a=!1,o=!1;if((i.pageY<s.top||i.pageY>s.top+n)&&(a=!0,o=!0),(i.pageX<s.left||i.pageX>s.left+r)&&(a=!0,!0),a){var l=t._editors;if(l)for(var h=0;h<l.length;h++){var d=l[h].editor,c=function(t){var s=e(t.children()[0]).data();if(s&&!s.jqxWidget&&(s=t.data()),s||(s=t.data()),s.jqxWidget&&s.jqxWidget.container&&"block"==s.jqxWidget.container[0].style.display){var r=s.jqxWidget,n=r.container.coord().top,l=r.container.coord().top+r.container.height();return!(!o||!(i.pageY<n||i.pageY>l))&&(a=!0,r.close(),!0)}}(d),u=d.attr("aria-owns");if(u){if(u==document.activeElement.id)return!0;if(e(document.activeElement).ischildof(e("#"+u)))return!0}else if(u=d.children().attr("aria-owns")){if(u==document.activeElement.id)return!0;if(e(document.activeElement).ischildof(e("#"+u)))return!0}if(!1===c)return}}a&&t.endroweditbykey(t.editKey)}}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"focus",function(e){e.preventDefault});var i=this.isTouchDevice();this.vScrollInstance.valueChanged=function(e){t._timer&&clearTimeout(t._timer),i?t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px"):t._timer=setTimeout(function(){t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px")},5)},this.hScrollInstance.valueChanged=function(e){t._timer&&clearTimeout(t._timer),i?t.table&&t._renderhorizontalscroll():t._timer=setTimeout(function(){t.table&&t._renderhorizontalscroll()},5)};var s="mousedown";this.isTouchDevice()&&(s=e.jqx.mobile.getTouchEventName("touchend"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(s="mousedown"));var r=function(e,i){for(var s=null,r=t._table.coord(),n=r.top,a=r.left,o=t._table[0].rows,l=0;l<o.length;l++)for(var h=o[l],d=h.cells,c=0;c<d.length;c++){var u=d[c],f=u.offsetLeft+a,p=u.offsetTop+n,m=u.offsetWidth,g=u.offsetHeight;if(0!==m&&0!==g){if(!(p<=i&&i<p+g))break;if(f<=e&&e<f+m){s=u;break}}}return s},n=function(){if(t.hoveredRow){var e=t.hoveredRow[0].cells,i=function(e){for(var i=0;i<e.length;i++){var s=e[i],r=s.className;r=r.replace(" "+t.toTP("jqx-fill-state-hover"),""),r=r.replace(" "+t.toTP("jqx-grid-cell-hover"),""),s.className=r}};if(i(e),t._pinnedTable&&e.length>0){i(t._pinnedTable[0].rows[t.hoveredRow[0].rowIndex].cells)}}t.hoveredRow=null};this.addHandler(this.table,"mouseleave",function(e){n(),t.wrapper&&(t.wrapper.parent().removeAttr("tabindex",0),t.wrapper.removeAttr("tabindex",1),t.content.removeAttr("tabindex",2))});var a=function(e){if(!t.enableHover)return!0;if(t.hoveredRow=e,!e)return!0;var i=e[0].cells,s=t.rowDetails&&!t.treeGrid,r=s&&!t.treeGrid?1:0,n=0;r>0&&t.rtl&&(r=0,n=1);for(var a=r;a<i.length-n;a++){var o=i[a];o.className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")}if(t._pinnedTable&&t._pinnedTable[0].rows.length)for(var l=t._pinnedTable[0].rows[t.hoveredRow[0].rowIndex].cells,a=r;a<l.length-n;a++){var o=l[a]
;o.className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")}};t.isTouchDevice()&&(t.enableHover=!1),this.addHandler(this.table,"mousemove",function(i){var s=i.pageX,o=i.pageY;if(t.disabled)return!0;if(!t.enableHover)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;var l=r(s,o);if(!l)return!0;var h=e(l).parent();return n(),!(!t.rowDetails||!t.treeGrid||"row-details"!=h.attr("data-role"))||(!(!t.renderedRecords||0!==t.renderedRecords.length)||(null!=t.editKey&&t.editKey===h.attr("data-key")||(a(h),!0)))}),this.addHandler(this.host,"keydown",function(e){return t._handleKey(e)}),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){t.table.trigger("mousedown",e)}),this.addHandler(this.table,s,function(i){var s=(i.target,null);if(t.disabled)return!0;if(!(t.touchmode&&i.originalEvent&&i.originalEvent._pageX)){var n=(t.table.coord(),i.pageX),o=i.pageY;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&arguments&&2==arguments.length&&(n=arguments[1].pageX,o=arguments[1].pageY),t.isTouchDevice()){var l=e.jqx.position(i);if(n=l.left,o=l.top,isNaN(n)||isNaN(o)){var l=e.jqx.position(i.originalEvent);n=l.left,o=l.top}}s=r(n,o);var h=e(s).parent(),d=h.attr("data-key");if(t.rowDetails&&t.treeGrid&&"row-details"==h.attr("data-role"))return!0;var c=function(){t.enableBrowserSelection||(i.preventDefault&&i.preventDefault(),i.stopPropagation()),t.host.focus()};if(void 0!==d){var u=e(s).index(),f=t.columns.records[u];if(d==t.editKey){if(!t.editSettings.editSingleCell)return!0;if(t.clickedTD==s)return!0;if(null!=t.editKey&&t.editSettings.saveOnSelectionChange){var p=t.endroweditbykey(t.editKey);if(!p)return!0}}else if(null!=t.editKey&&t.editSettings.saveOnSelectionChange){var p=t.endroweditbykey(t.editKey);if(!p)return!0}t.clickedTD=s;var m=t.rowinfo[d];if(m&&m.group)return!0;var g=!1;if(m){var v=t.getrowdisplayindex(m.row),x=t.getrowindex(m.row);t._raiseEvent("rowClick",{index:v,boundIndex:x,key:d,row:m.row,originalEvent:i,dataField:f.datafield});var y=(new Date).getTime();t.clickTime||(t.clickTime=new Date),t._lastSelectedKey==d&&y-t.clickTime.getTime()<300&&(t._raiseEvent("rowDoubleClick",{index:v,boundIndex:x,key:d,row:m.row,originalEvent:i,dataField:f.datafield}),g=!0,i.preventDefault&&i.preventDefault())}if(t.clickTime=new Date,s.className.indexOf("jqx-grid-group")>=0)m.expanded?t.hidedetailsbykey(d):t.showdetailsbykey(d);else if(i.target&&i.target.className.indexOf&&i.target.className.indexOf("jqx-grid-group")>=0&&t.treeGrid)m.expanded?t.treeGrid.collapseRow(d):t.treeGrid.expandRow(d),a(t._getuirow(d)),i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault();else{if(!(i.target&&i.target.className.indexOf&&i.target.className.indexOf("checkbox")>=0&&t.treeGrid)){var u=e(s).index(),f=t.columns.records[u];if(i.stopPropagation&&i.stopPropagation(),t.editable&&null==t.editKey&&t._lastSelectedKey==d&&t.editSettings.editOnDoubleClick&&g){var p=t.beginroweditbykey(d,f);return!0}if(t.isTouchDevice()&&t.scrolled&&new Date-t.scrolled<500)return t.enableBrowserSelection||i.preventDefault&&i.preventDefault(),!1;if("singlerow"===t.selectionMode&&"custom"!==t.selectionMode)return t.selectrowbykey(d,"mouse",!1),t._lastSelectedKey=d,t._updateSelection(),i.preventDefault&&i.preventDefault(),c(),!0;if("custom"!==t.selectionMode&&(i.ctrlKey||i.metaKey||t.clearSelection(!1),i.shiftKey&&t._lastSelectedKey)){var m=t.rowinfo[t._lastSelectedKey];t._doSelection(t._lastSelectedKey,!0,!1);var w=e(t._table.children()[1]).children("[data-key="+t._lastSelectedKey+"]"),b=w.index(),_=h.index();return t._selectRange(_,b),t.selectrowbykey(d,"mouse",!1),t._updateSelection(),i.preventDefault&&i.preventDefault(),c(),!0}return t._lastSelectedKey=d,t.clickTime=new Date,"custom"===t.selectionMode||(m&&(m.selected?t.unselectrowbykey(d,"mouse",!1):t.selectrowbykey(d,"mouse",!1),c()),t._updateSelection(),t.enableBrowserSelection||i.preventDefault&&i.preventDefault(),!0)}m.checked?t.treeGrid.uncheckRow(d):t.treeGrid.checkRow(d),a(t._getuirow(d)),i.stopPropagation&&i.stopPropagation()}}}})},_updateSelection:function(){var t=this,i=e(t._table.children()[1]).children(),s=t._pinnedTable?e(t._pinnedTable.children()[1]).children():null,r=t.rowDetails&&!t.treeGrid,n=r?1:0,a=0;n>0&&t.rtl&&(n=0,a=1);for(var o=0;o<i.length;o++){var l=i[o].cells;if(s)var h=s[o].cells;var d=null;if(i[o].getAttribute&&(d=i[o].getAttribute("data-key")),t.rowinfo[d]&&"none"!==t.selectionMode)if(t.rowinfo[d].selected)for(var c=n;c<l.length-a;c++){var u=l[c];e(u).addClass(t.toTP("jqx-grid-cell-selected")+" "+t.toTP("jqx-fill-state-pressed")),h&&e(h[c]).addClass(t.toTP("jqx-grid-cell-selected")+" "+t.toTP("jqx-fill-state-pressed"))}else for(var c=n;c<l.length-a;c++){var u=l[c];if(h)var f=h[c];var p=u.className;p=p.replace(" jqx-fill-state-pressed",""),p=p.replace(" jqx-fill-state-pressed-"+t.theme,""),p=p.replace(" jqx-grid-cell-selected",""),p=p.replace(" jqx-grid-cell-selected-"+t.theme,""),u.className=p,f&&(f.className=p)}}},_selectRange:function(t,i){var s=e(e(this._table.children()[1]).children()[i]),r=this;if(t>i)for(var n=i,a=s;n<t;){var a=a.next(),o=a.attr("data-key");r._doSelection(o,!0,!1),n++}else if(t<i)for(var n=i,a=s;n>t;){var a=a.prev(),o=a.attr("data-key");this._doSelection(o,!0,!1),n--}},_getuikey:function(t,i){var s=null,r=e(this._table.children()[1]).children();if(s=e(r[t]).attr("data-key"),e(r[t]).attr("data-role")){var n=e(r[t]);if("next"==i){for(;n;)if(n=n.next()){var a=n.attr("data-role");if(!a)return s=n.attr("data-key")}}else if("prev"==i)for(;n;)if(n=n.prev()){var a=n.attr("data-role");if(!a)return s=n.attr("data-key")}return null}return s},getRows:function(){return this.source.records},getView:function(){var t=this,i=this._names(),s=new Array,r=function(s,n){if(n)for(var a=0;a<n.length;a++)if(n[a]&&!1!==n[a]._visible){var o=e.extend({},n[a]);s.push(o),n[a][i.expanded]?(o.records=new Array,r(o.records,n[a].records)):t.dataview.filters.length>0&&(o.records=new Array,r(o.records,n[a].records))}};return r(s,this.dataViewRecords),s},getKeys:function(){for(var e=new Array,t=this.source.records,i=0;i<t.length;i++)e.push(t[i].uid);return e},getKey:function(e){var t=this.getRows();return t?t[e].uid:-1},_getkey:function(t){if(this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);var i=null,s=function(){var i=e(this._table.children()[1]).children(),s=null,r=0;if(this.pageable&&(r-=this.dataview.pagenum*this.dataview.pagesize),this.groups.length>0){for(var n=0,a=0;a<i.length;a++){var o=e(i[a]);if(!(o.children()[0].getAttribute("colspan")>0)){if(n===r+t)return s=o.attr("data-key");n++}}return s}if(this.rowDetails)for(var n=0,a=0;a<i.length;a++){if(n===t+r)return s=e(i[a]).attr("data-key");a%2==1&&n++}else s=e(i[r+t]).attr("data-key");return s};if(null==(i=s.call(this))&&this.pageable){var r=Math.floor(t/this.dataview.pagesize);if(this.dataview.pagenum!=r){var n=this.getRows()[t];if(n&&null!=n.uid)return n.uid;if(isNaN(r))return null;this.goToPage(r),i=s.call(this)}}return i},_getuirow:function(t){try{var i=e(this._table.children()[1]).children("[data-key="+t+"]");if(i.length>0)return i}catch(i){for(var s=e(this._table.children()[1]).children(),r=0;r<s.length;r++){var n=s[r],a=n.getAttribute("data-key");if(t==a)return e(n)}return null}return null},_getpinneduirow:function(t){if(!this._pinnedTable)return null;try{var i=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(i.length>0)return i}catch(i){for(var s=e(this._pinnedTable.children()[1]).children(),r=0;r<s.length;r++){var n=s[r],a=n.getAttribute("data-key");if(t==a)return e(n)}return null}return null},_names:function(){var e={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};if(!this.source||this.source&&!this.source._source.hierarchy)return e;var t=this.source._source.hierarchy.reservedNames;return t||e},_getMatches:function(t,i){if(void 0==t||0==t.length)return-1;var s=this.renderedRecords;void 0!=i&&(s=s.slice(i));var r=0;if(this.rowDetails&&!this.treeGrid&&r++,r<this.columns.records.length)var n=this.columns.records[r].datafield;else new Array;var a=new Array;return e.each(s,function(i){var s=this[n];s||(s=""),e.jqx.string.startsWithIgnoreCase(s.toString(),t)&&a.push(this.uid)}),a},_handleKey:function(t){if(this._loading)return!0;if(e(t.target).ischildof(this.filter))return!0;if(e(t.target).ischildof(this.toolbar))return!0;if(e(t.target).ischildof(this.statusbar))return!0;var i=this._names(),s=this,r=t.charCode?t.charCode:t.keyCode?t.keyCode:0,n=this._lastSelectedKey,a=(this.rowinfo[n],this._getuirow(n)),o=t.shiftKey&&"singlerow"!=this.selectionMode,l=t.ctrlKey||t.metaKey;if(a){if(this.handleKeyboardNavigation){if(this.handleKeyboardNavigation(r))return!0}if(this.editable&&void 0==this.editKey&&113===r&&this.editSettings.editOnF2&&this.beginroweditbykey(a.attr("data-key")),void 0==this.editKey&&!l&&!o&&this.incrementalSearch&&!(r>=33&&r<=40)){this._searchString||(this._searchString=""),(8==r||46==r)&&this._searchString.length>=1&&(this._searchString=this._searchString.substr(0,this._searchString.length-1));var h=String.fromCharCode(r),d=!isNaN(parseInt(h));if(r>=65&&r<=97||d||8==r||32==r||46==r){t.shiftKey||(h=h.toLocaleLowerCase()),8!=r&&32!=r&&46!=r&&(this._searchString.length>0&&this._searchString.substr(0,1)==h||(this._searchString+=h)),32==r&&(this._searchString+=" "),this._searchTime=new Date;var n=this.getSelection();if(n.length>=1){for(var c=n[0].uid,u=-1,f=0;f<this.renderedRecords.length;f++)if(this.renderedRecords[f].uid==c){u=f;break}var p=this._getMatches(this._searchString,u);if(0==p.length||p.length>0&&p[0]==c)var p=this._getMatches(this._searchString)}else var p=this._getMatches(this._searchString);if(p.length>0){var n=this.getSelection();if(n.length>=1){var m=p.indexOf(n[0].uid);if(-1==m)this.clearSelection(!1),this.selectrowbykey(p[0]);else{var g=m+1;g>=p.length&&(g=0),this.clearSelection(!1),this.selectrowbykey(p[g])}}else this.clearSelection(!1),this.selectrowbykey(p[0]);this._lastSearchString=this._searchString}}void 0!=this._searchTimer&&clearTimeout(this._searchTimer),27!=r&&13!=r||(this._searchString="",this._lastSearchString=""),this._searchTimer=setTimeout(function(){s._searchString="",s._lastSearchString=""},500)}if(void 0!=this.editKey){if(27===r&&this.editSettings.cancelOnEsc)this.endroweditbykey(this.editKey,!0);else if(13===r&&this.editSettings.saveOnEnter){if(t.target&&"div"!=t.target.nodeName.toLowerCase()&&"input"!=t.target.nodeName.toLowerCase())return!0;this.endroweditbykey(this.editKey,!1)}else if(this.editSettings.editSingleCell&&this.editColumn){var v=this.columns.records.indexOf(this.editColumn);if(9==r&&v<this.columns.records.length-1&&!t.shiftKey){for(var x=this.editKey,y=null,f=v+1;f<this.columns.records.length;f++)if(this.columns.records[f].editable&&!this.columns.records[f].hidden){y=this.columns.records[f];break}y&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(x,y))}else if(9==r&&t.shiftKey&&v>0){for(var x=this.editKey,w=null,f=v-1;f>=0;f--)if(this.columns.records[f].editable&&!this.columns.records[f].hidden){w=this.columns.records[f];break}w&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(x,w))}if(9==r){var b=this.rowinfo[this.editKey],u=this.getrowindex(b),a=this._getuirow(this.editKey);if(t.shiftKey||y){if(!w&&t.shiftKey){for(var _=null,f=this.columns.records.length-1;f>=0;f--)if(this.columns.records[f].editable&&!this.columns.records[f].hidden){_=this.columns.records[f];break}if(_){for(;a;)if(a=a.prev()){var T=a.attr("data-role");if(!T){var j=a.attr("data-key");break}}if(j){this.clearSelection(!1),this._lastSelectedKey=j;var b=this.rowsByKey[j],u=this.getrowindex(b),C=this.getrowdisplayindex(b);this._raiseEvent("rowSelect",{key:j,index:C,boundIndex:u,row:this.rowsByKey[j]}),this.endroweditbykey(this.editKey,!1),this._doSelection(j,!0,!0),this.beginroweditbykey(j,_)}}}}else{for(var _=null,f=0;f<this.columns.records.length;f++)if(this.columns.records[f].editable&&!this.columns.records[f].hidden){_=this.columns.records[f];break}if(_){for(;a;)if(a=a.next()){var T=a.attr("data-role");if(!T){var j=a.attr("data-key");break}}if(j){this.clearSelection(!1),this._lastSelectedKey=j;var b=this.rowsByKey[j],u=this.getrowindex(b),C=this.getrowdisplayindex(b);this._raiseEvent("rowSelect",{key:j,index:C,boundIndex:u,row:this.rowsByKey[j]});var S=this.endroweditbykey(this.editKey,!1);S?(this._doSelection(j,!0,!0),this.beginroweditbykey(j,_)):this.beginroweditbykey(this.editKey,_)}}}return!1}}return!0}if(t.ctrlKey||t.metaKey){var q=String.fromCharCode(r).toLowerCase();if("c"==q||"x"==q){var n=this.getSelection();if(n.length>=1){for(var k="",D=0;D<this.renderedRecords.length;D++)for(var I=this.renderedRecords[D],f=0;f<n.length;f++){var b=n[f];if(b.uid===I.uid){for(var M=0;M<this.columns.records.length;M++){var P=this.getCellTextByKey(b.uid,this.columns.records[M].displayfield);k+=P,M<this.columns.records.length-1&&(k+="\t")}k+="\r\n";break}}if(""!=k&&(k=k.substring(0,k.length-1)),window.clipboardData)window.clipboardData.setData("Text",k);else{var H=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');H.val(k),e("body").append(H),H.select(),setTimeout(function(){document.designMode="off",H.select(),H.remove()},100)}}}}if(32===r&&this.treeGrid&&this.treeGrid.checkboxes){var n=this.getSelection();if(n.length>1){for(var f=0;f<n.length;f++){var A=n[f].uid;this.rowinfo[A].checked?this.treeGrid.uncheckRow(A,!1):this.treeGrid.checkRow(A,!1)}return this._renderrows(),!1}var c=a.attr("data-key");if(c)return this.rowinfo[c].checked?this.treeGrid.uncheckRow(c):this.treeGrid.checkRow(c),!1}var B=a.index(),N=function(t){var i=null,r=e(s._table.children()[1]).children().length-1,n=e(e(s._table.children()[1]).children()[r]),a=n.attr("data-role");if(a){for(;n;)if(n=n.prev()){var a=n.attr("data-role");if(!a){i=n.attr("data-key");break}}}else i=n.attr("data-key");return"all"==t?{row:n,key:i}:i},O=function(t){var i=null,r=e(e(s._table.children()[1]).children()[0]),n=r.attr("data-role");if(n){for(;r;)if(r=r.next()){var n=r.attr("data-role");if(!n){i=r.attr("data-key");break}}}else i=r.attr("data-key");return"all"==t?{row:r,key:i}:i},c=null,E=function(){if(l||o||s.clearSelection(!1),33==r||37==r){var e=B;c=s._getuikey(e,"prev"),c||(c=O())}else if(34==r||39==r){var e=B;c=s._getuikey(e,"next"),c||(c=N())}else 38==r?c=N():40==r&&(c=O());s._lastSelectedKey=c;var t=s.rowsByKey[c],e=s.getrowindex(t),i=s.getrowdisplayindex(t);s._raiseEvent("rowSelect",{key:c,index:i,boundIndex:e,row:s.rowsByKey[c]}),s._doSelection(c,!0,!0),s.host.focus()};if(this.treeGrid&&this.rtl&&(37==r?r=39:39==r&&(r=37)),36==r||l&&38==r)return function(){s.clearSelection(!1);var e=O();o||l?s._selectRange(a.index(),0):s._lastSelectedKey=e,s.selectrowbykey(e,"keyboard")}(),!1;if(35==r||l&&40==r)return function(){s.clearSelection(!1);var e=N("all"),t=e.key;o||l?s._selectRange(a.index(),e.row.index()):s._lastSelectedKey=t,s.selectrowbykey(t,"keyboard")}(),!1;if(33==r||37==r){var c=a.attr("data-key");if(this.rowDetails&&37==r&&!this.treeGrid)return this.hidedetailsbykey(c),!1;if(this.treeGrid&&37==r){if(this.rowinfo[c].row&&!this.rowinfo[c].row[i.parent]&&!this.rowinfo[c][i.leaf]&&!this.rowinfo[c].expanded)return!1;if(this.rowinfo[c].expanded&&!this.rowinfo[c][i.leaf])return this.treeGrid.collapseRow(c),!1;if(this.rowinfo[c].row&&this.rowinfo[c].row[i.parent]&&(c=this.rowinfo[c].row[i.parent].uid),this.rowinfo[c][i.leaf])return!1}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToNextPage(E):this.goToPrevPage(E),!1;if(this.treeGrid&&this.pageable&&33==r)return this.goToPrevPage(E),!1}else if(34==r||39==r){var c=a.attr("data-key");if(this.rowDetails&&39==r&&!this.treeGrid)return this.showdetailsbykey(c),!1;if(this.treeGrid&&39==r){if(this.rowinfo[c][i.leaf])return!1;if(!this.rowinfo[c].expanded)return this.treeGrid.expandRow(c),!1;if(this.rowinfo[c].row&&this.rowinfo[c].row.records&&this.rowinfo[c].row.records.length>0)if(this.dataview.filters.length>0){for(var z=this.rowinfo[c].row.records,f=0;f<z.length;f++)if(z[f]._visible){c=z[f].uid;break}}else c=this.rowinfo[c].row.records[0].uid}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToPrevPage(E):this.goToNextPage(E),!1;if(this.treeGrid&&this.pageable&&34==r)return this.goToNextPage(E),!1}else if(38==r){for(;a;)if(a=a.prev()){var T=a.attr("data-role");if(!T){c=a.attr("data-key");break}}if(this.pageable&&null==c)return this.goToPrevPage(E),!1}else if(40==r){for(;a;)if(a=a.next()){var T=a.attr("data-role");if(!T){c=a.attr("data-key");break}}if(this.pageable&&null==c)return this.goToNextPage(E),!1}if(null!=c){if(l||o||this.clearSelection(!1),this.rowinfo[c]&&this.rowinfo[c].selected&&(l||o)){this._doSelection(this._lastSelectedKey,!1,!1),this._lastSelectedKey=c;var b=this.rowsByKey[c],u=this.getrowindex(b);s._updateSelection();var C=this.getrowdisplayindex(b);return this._raiseEvent("rowUnselect",{key:c,index:C,boundIndex:u,row:b}),!1}this._lastSelectedKey=c;var b=this.rowsByKey[c],u=this.getrowindex(b);this._doSelection(c,!0,!1),s._updateSelection();var C=this.getrowdisplayindex(b);if(this._raiseEvent("rowSelect",{key:c,index:C,boundIndex:u,row:b}),this.treeGrid)if(37==r){var a=this._getuirow(c),L=null;if(a){var T=a.attr("data-role");T||(L=a.attr("data-key"))}if(this.pageable&&null==L&&this.dataview.pagenum>0)for(;null==this._getuirow(c)&&this.dataview.pagenum>0;)this.goToPrevPage()}else if(39==r){var a=this._getuirow(c),L=null;if(a){var T=a.attr("data-role");T||(L=a.attr("data-key"))}this.pageable&&null==L&&this.goToNextPage()}return!1}}},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var s=document.selection.createRange();if(null==s)return{start:0,end:t.value.length,length:0};var r=e[0].createTextRange(),n=r.duplicate();r.moveToBookmark(s.getBookmark()),n.setEndPoint("EndToStart",r);var i=s.text.length;return{start:n.text.length,end:n.text.length+s.text.length,length:i,text:s.text}},_doSelection:function(e,t,i){if(null==e)return void this.clearSelection();"singlerow"===this.selectionMode&&this.clearSelection(!1);var s=this.rowinfo[e];if(s)s.selected=t,this.ensurerowvisiblebykey(e);else{this.ensurerowvisiblebykey(e);var s=this.rowinfo[e];s?s.selected=t:this.rowinfo[e]={selected:t}}"none"!=this.selectionMode&&!1!==i&&this._renderrows()},clearSelection:function(e){if(this.rowinfo){var t=this.getRows();for(var i in this.rowinfo){var s=this.rowinfo[i];if(s.selected){s.selected=!1;var r=t.indexOf(s.row),n=this.getrowdisplayindex(s.row);this._raiseEvent("rowUnselect",{key:i,index:n,boundIndex:r,row:s.row})}}}!1!==e&&this._renderrows()},exportData:function(i){if(!e.jqx.dataAdapter.ArrayExporter){if(!this.treeGrid)throw"jqxDataTable: Missing reference to jqxdata.export.js!";throw"jqxTreeGrid: Missing reference to jqxdata.export.js!"}var s=this.exportSettings.columnsHeader;void 0==s&&(s=!0);var r=this.exportSettings.hiddenColumns;void 0==r&&(r=!1);var n=this.exportSettings.serverURL,a=this.exportSettings.characterSet,o=this.exportSettings.collapsedRecords;void 0==o&&(o=!1);var l=this.exportSettings.fileName;void 0===l&&(l=this.treeGrid?"jqxTreeGrid_Data":"jqxDataTable_Data");var h=this,d=this.getRows();if(1==this.exportSettings.recordsInView&&(d=this.getView()),this.treeGrid&&this.treeGrid.virtualModeCreateRecords)var d=this.treeGrid.getRows();if(this.groups&&this.groups.length>0){var c=this.source.getGroupedRecords(this.groups,"records","label",null,"data",null,"parent",d),u=function(t,i){for(var s=0;s<t.length;s++){var r=e.extend({},t[s]);if(i.push(r),r.records&&r.records.length>0)for(var n=u(r.records,new Array),a=0;a<n.length;a++)n[a].leaf,i.push(n[a])}return i},f=u.call(this,c,new Array);d=f}if(0==d.length)throw"No data to export.";this.exporting=!0,this.altRows&&this._renderrows();for(var p=new Array,m=0;m<this.columns.records.length;m++)!r&&this.columns.records[m].hidden||p.push(e.extend({},this.columns.records[m]));if(this.groups&&this.groups.length>0&&p.length>0)for(var g=this._names(),m=0;m<d.length;m++)d[m][g.leaf]||(h.rtl?d[m][p[p.length-1].displayfield]=d[m].label:d[m][p[0].displayfield]=d[m].label);var v=0;if(this.treeGrid){var x=this.treeGrid.getRows();1==this.exportSettings.recordsInView&&(x=this.getView());var g=this._names(),y=function(e){for(var t=0;t<e.length;t++){var i=e[t],s=i[g.expanded]||!i[g.expanded]&&o;v=Math.max(v,1+i[g.level]),i.records&&i.records.length>0&&s&&y(e[t].records)}};if(y(x),"xml"!=i&&"json"!=i){for(var w=p.length,m=0;m<v;m++){var b=new t(this,this);b.width=this.indentWidth,b.datafield="Level"+m,b.displayfield="Level"+m,b.align="center",b.cellsalign="center",b.text="",this.rtl?p.splice(w,0,b):p.splice(m,0,b)}var _=new Array,T=!(!this.source._source.hierarchy||!this.source._source.hierarchy.groupingDataFields),j=function(t){for(var s=0;s<t.length;s++){for(var r=e.extend({},t[s]),n=0;n<r[g.level];n++)r["Level"+n]="";var a=r[g.expanded]||!r[g.expanded]&&o;("xls"==i||"html"==i||"pdf"==i)&&r.records&&r.records.length>0?r["Level"+r[g.level]]=a?"-":"+":r["Level"+r[g.level]]="",r[g.leaf]&&(r["Level"+r[g.level]]="");for(var n=r[g.level]+1;n<v;n++)r["Level"+n]="";if(T&&!r[g.leaf]&&(h.rtl?r[p[p.length-v-1].displayfield]=r.label:r[p[v].displayfield]=r.label),r.aggregate)for(var l="xls"==i?"_AG":"",n=v;n<p.length;n++){var d=n;h.rtl&&(d=p.length-n-1),void 0!=r[p[d].displayfield]&&(r[p[d].displayfield]=l+r[p[d].displayfield])}_.push(r),a&&!r[g.leaf]&&j(r.records)}};j(x),d=_}else d=x}var C=void 0!=r&&r,S={},q={},k=this.host.find(".jqx-grid-cell:first"),D=this.host.find(".jqx-grid-cell-alt:first"),I=this.toThemeProperty;k.removeClass(I("jqx-grid-cell-selected")),k.removeClass(I("jqx-fill-state-pressed")),D.removeClass(I("jqx-grid-cell-selected")),D.removeClass(I("jqx-fill-state-pressed")),k.removeClass(I("jqx-grid-cell-hover")),k.removeClass(I("jqx-fill-state-hover")),D.removeClass(I("jqx-grid-cell-hover")),D.removeClass(I("jqx-fill-state-hover"));for(var M="cell",P=1,H="column",A=1,B=[],N=0;N<p.length;N++){var b=p[N];if(""!=b.cellclassname)if(b.customCellStyles=new Array,"string"==typeof b.cellclassname)b.customCellStyles.push(b.cellclassname);else for(var m=0;m<d.length;m++){var O=m,E=b.cellclassname(O,b.displayfield,d[m][b.displayfield],d[m]);E&&(b.customCellStyles[m]=E)}}if(e.each(p,function(t){var r=t;h.treeGrid&&(t>=v?r=p.length-v-1:v>0&&t<v&&(r=0));var n=e(h._table[0].rows[0].cells[r]);if(h._table[0].rows.length>1){var a=e(h._table[0].rows[1].cells[r]);if(0==a.length)var a=e(h._table[0].rows[1].cells[0])}if(0==n.length)var n=e(h._table[0].rows[0].cells[0]);var o=this,l=function(e){var t=h.toThemeProperty;if(e.removeClass(t("jqx-cell")),e.removeClass(t("jqx-grid-cell-selected")),e.removeClass(t("jqx-fill-state-pressed")),e.removeClass(t("jqx-grid-cell-hover")),e.removeClass(t("jqx-fill-state-hover")),o.customCellStyles)for(var i in o.customCellStyles)e.removeClass(o.customCellStyles[i])};if(l(n),a&&l(a),null==this.displayfield)return!0;h.showAggregates&&h.getcolumnaggregateddata&&B.push(h.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,d));var c=h._getexportcolumntype(this);!this.exportable||this.hidden&&!C||(S[this.displayfield]={},S[this.displayfield].text=this.text,S[this.displayfield].width=parseInt(this.width),isNaN(S[this.displayfield].width)&&(S[this.displayfield].width=60),S[this.displayfield].width>500&&(S[this.displayfield].width=500),S[this.displayfield].formatString=this.cellsFormat,S[this.displayfield].localization=h.gridlocalization,S[this.displayfield].type=c,S[this.displayfield].cellsAlign=this.cellsalign,S[this.displayfield].hidden=!s,S[this.displayfield].index=r,S[this.displayfield].maxIndex=p.length),M="cell"+P;var u=this.element;if("json"!=i&&"xml"!=i){H="column"+A;var f=function(e,t,s,r,n,a,o,l,h){q[e]={index:1+o,maxIndex:p.length},a.rtl&&(q[e].index=p.length-o),"html"!=i&&"xls"!=i&&"pdf"!=i||(t&&(q[e]["font-size"]=t.css("font-size"),q[e]["font-weight"]=t.css("font-weight"),q[e]["font-style"]=t.css("font-style"),q[e]["background-color"]=a._getexportcolor(t.css("background-color")),q[e].color=a._getexportcolor(t.css("color")),q[e]["border-color"]=a._getexportcolor(t.css("border-top-color"))),s?q[e]["text-align"]=n.align:(q[e]["text-align"]=n.cellsalign,q[e].formatString=n.cellsFormat,q[e].dataType=c),"html"!=i&&"pdf"!=i||(q[e]["border-top-width"]="0px",a.rtl?(q[e]["border-left-width"]="1px",q[e]["border-right-width"]="0px",o==p.length-v-1&&s&&(q[e]["border-right-width"]="1px")):(q[e]["border-left-width"]="0px",q[e]["border-right-width"]="1px"),q[e]["border-bottom-width"]="1px",t&&(q[e]["border-top-style"]=t.css("border-top-style"),q[e]["border-left-style"]=t.css("border-left-style"),q[e]["border-right-style"]=t.css("border-right-style"),q[e]["border-bottom-style"]=t.css("border-bottom-style")),s?(0!=o||a.rtl?o==p.length-1&&a.rtl&&(q[e]["border-right-width"]="1px"):q[e]["border-left-width"]="1px",t&&(q[e]["border-top-width"]="1px",q[e]["border-bottom-width"]=t.css("border-bottom-width"))):0!=o||a.rtl?o==p.length-1&&a.rtl&&(q[e]["border-right-width"]="1px"):q[e]["border-left-width"]="1px",t&&(q[e].height=t.css("height")),a.treeGrid&&!s&&(q[e].index-1<v?a.rtl?q[e]["border-left-width"]="0px":q[e]["border-right-width"]="0px":q[e].index-1==v&&(a.rtl?q[e]["border-right-width"]="0px":q[e]["border-left-width"]="0px")))),!n.exportable||n.hidden&&!C||(1==l?(S[n.displayfield].customCellStyles||(S[n.displayfield].customCellStyles=new Array),S[n.displayfield].customCellStyles[h]=e):s?S[n.displayfield].style=e:r?S[n.displayfield].cellAltStyle=e:S[n.displayfield].cellStyle=e)};if(f(H,u,!0,!1,this,h,t),A++,f(M,n,!1,!1,this,h,t),h.altRows&&(M="cellalt"+P,f(M,a,!1,!0,this,h,t)),this.customCellStyles){for(var m in o.customCellStyles)n.removeClass(o.customCellStyles[m]);for(var m in o.customCellStyles)n.addClass(o.customCellStyles[m]),f(M+o.customCellStyles[m],n,!1,!1,this,h,t,!0,m),n.removeClass(o.customCellStyles[m])}P++}}),"json"!=i&&"xml"!=i&&v>0&&this.treeGrid){var z=v+1;if(this.rtl&&(z=p.length-v),q["column"+z]){var L=q["column"+z];L.merge=v,L["border-left-width"]="1px";for(var m=(q["cell"+z],0);m<p.length;m++){var z=m+1;this.rtl&&(z=p.length-m),q["column"+z].level=m,q["column"+z].maxLevel=v,q["cell"+z].maxLevel=v;var b=p[m];if(b.customCellStyles)for(var F in b.customCellStyles)q["cell"+z+b.customCellStyles[F]]&&(q["cell"+z+b.customCellStyles[F]].maxLevel=v);q["cellalt"+z]&&(q["cellalt"+z].maxLevel=v)}for(var m=0;m<v;m++){var z=m+1,R=m;this.rtl&&(z=p.length-m);var W=q["column"+z];W.disabled=!0,q["cell"+z].level=R,q["cell"+z].maxLevel=v,q["column"+z].level=R,q["cellalt"+z]&&(q["cellalt"+z].level=R,q["cellalt"+z].maxLevel=v);var b=p[m];if(b.customCellStyles)for(var F in b.customCellStyles)q["cell"+z+b.customCellStyles[F]]&&(q["cell"+z+b.customCellStyles[F]].maxLevel=v,q["cell"+z+b.customCellStyles[F]].level=R);if(("html"==i||"pdf"==i||"xls"==i)&&(W["font-size"]=L["font-size"],W["font-weight"]=L["font-weight"],W["font-style"]=L["font-style"],W["background-color"]=L["background-color"],W.color=L.color,W["border-color"]=L["border-color"],"html"==i||"pdf"==i)){W["border-top-width"]=L["border-top-width"],W["border-left-width"]=L["border-left-width"],this.rtl&&(W["border-right-width"]=L["border-right-width"],0==m&&(W["border-right-width"]="1px")),0!=m||this.rtl?0==m&&this.rtl&&(W["border-left-width"]="0px"):W["border-left-width"]="0px",this.rtl?this.rtl&&(W["border-left-width"]="0px"):W["border-right-width"]="0px",W["border-bottom-width"]="0px";var W=q["cell"+z];this.rtl?this.rtl&&(W["border-left-width"]="0px"):W["border-right-width"]="0px"}}}}if(this.showAggregates){var V=[],U="xls"==i?"_AG":"",Y=0;this.rowDetails&&!this.treeGrid&&Y++,B.length>0&&(e.each(p,function(e){if(this.aggregates)for(var t=0;t<this.aggregates.length;t++)if(V[t]||(V[t]={}),V[t]){var i=h._getaggregatename(this.aggregates[t]),s=h._getaggregatetype(this.aggregates[t]),r=B[e-Y];r&&(V[t][this.displayfield]=U+i+": "+r[s])}}),e.each(p,function(e){for(var t=0;t<V.length;t++)void 0==V[t][this.displayfield]&&(V[t][this.displayfield]=U)})),e.each(V,function(){d.push(this)})}var G=this,$=e.jqx.dataAdapter.ArrayExporter(d,S,q,n,this.treeGrid&&("xml"==i||"json"==i));if(void 0==l){this._renderrows();var K=this.treeGrid&&("xml"==i||"json"==i),X=$.exportTo(i,this.treeGrid&&("xml"==i||"json"==i));return this.showAggregates&&e.each(V,function(){d.pop(this)}),setTimeout(function(){G.exporting=!1},50),X}var K=this.treeGrid&&("xml"==i||"json"==i);$.exportToFile(i,l,n,a,K),this.showAggregates&&e.each(V,function(){d.pop(this)}),this._renderrows(),setTimeout(function(){G.exporting=!1},50)},_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var s=parseInt(i[0].substring(5)),r=parseInt(i[1]),n=parseInt(i[2]),a=parseInt(i[3].substring(1,4)),o={r:s,g:r,b:n},l=this._rgbToHex(o);return 0==s&&0==r&&0==n&&0==a?"#ffffff":"#"+l}var s=parseInt(i[0].substring(4)),r=parseInt(i[1]),n=parseInt(i[2].substring(1,4)),o={r:s,g:r,b:n},l=this._rgbToHex(o);return"#"+l}if(-1!=t.toString().indexOf("#")&&4==t.toString().length){t+=t.toString().substring(1,4)}return t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},_getexportcolumntype:function(t){var i=this,s="string",r=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(r){var n="";if(e.each(r,function(){if(this.name==t.displayfield)return this.type&&(n=this.type),!1}),n)return n}if(null!=t){if(void 0==this.dataview.cachedrecords)return s;var a=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return a=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return s;if(null!=(a=this.dataview.cachedrecords[0][t.displayfield])&&""==a.toString())return"string"}if(null!=a){if(-1!=t.cellsFormat.indexOf("c"))return"number";if(-1!=t.cellsFormat.indexOf("n"))return"number";if(-1!=t.cellsFormat.indexOf("p"))return"number";if(-1!=t.cellsFormat.indexOf("d"))return"date";if(-1!=t.cellsFormat.indexOf("y"))return"date";if(-1!=t.cellsFormat.indexOf("M"))return"date";if(-1!=t.cellsFormat.indexOf("m"))return"date";if(-1!=t.cellsFormat.indexOf("t"))return"date";if("boolean"==typeof a)s="boolean";else if(e.jqx.dataFormat.isNumber(a))s="number";else{var o=new Date(a);if("NaN"==o.toString()||"Invalid Date"==o.toString())if(e.jqx.dataFormat){if(null!=(o=e.jqx.dataFormat.tryparsedate(a))){if(o&&o.getFullYear()&&1970==o.getFullYear()&&0==o.getMonth()&&1==o.getDate()){var l=new Number(a);return isNaN(l)?"string":"number"}return"date"}s="string"}else s="string";else s="date"}}}return s},showDetails:function(e){var t=this._getkey(e);this.showdetailsbykey(t)},hideDetails:function(e){var t=this._getkey(e);this.hidedetailsbykey(t)},setCellValueByKey:function(t,i,s){var r=this,n=this.rowsByKey[t],a=this.getrowindex(n),o=n;if(null!=o&&o[i]==s)return!1;if(null==o||null!==o[i]||""!==s){var l="";if(null!=o&&o[i]!==s){var h=this.getColumn(i),d="string",c=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(c){var u="";e.each(c,function(){if(this.name==h.displayfield)return this.type&&(u=this.type),!1}),u&&(d=u)}if(l=o[i],!h.nullable||null!=s&&""!==s&&h.nullable&&void 0===s.label){if(e.jqx.dataFormat.isNumber(l)||"number"==d||"float"==d||"int"==d||"decimal"==d&&"date"!=d)s=new Number(s),s=parseFloat(s),isNaN(s)&&(s=0);else if((e.jqx.dataFormat.isDate(l)||"date"==d)&&""!=s){var f=s;f=new Date(f),"Invalid Date"!=f&&null!=f?s=f:"Invalid Date"==f&&(f=new Date,s=f)}if(o[i]===s)return}if(r.dataview._filteredData=null,r.dataview._sortData=null,r.dataview._sortHierarchyData=null,o[i]=s,this.treeGrid){var p=this.treeGrid.getRow(t);p&&(p[i]=s)}
if(null!=s&&null!=s.label){var h=this.getColumn(i);if(o[h.displayfield]=s.label,o[i]=s.value,this.treeGrid){var p=this.treeGrid.getRow(t);p&&(p[h.displayfield]=s.label,p[i]=s.value)}}}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var m=a,g=this.source._source._localdata()[m];this.source.suspendKO=!0;var v=g;if(v[i]&&v[i].subscribe)null!=s&&null!=s.label?(v[h.displayfield](s.label),v[i](s.value)):v[i](s);else{var c=this.source._source.datafields,x=null;if(c&&e.each(c,function(){if(this.name==i)return x=this.map,!1}),null==x)null!=s&&null!=s.label?(v[i]=s.value,v[h.displayfield]=s.label):v[i]=s;else{var y=x.split(this.source.mapChar);if(y.length>0){for(var w=v,b=0;b<y.length-1;b++)w=w[y[b]];w[y[y.length-1]]=s}}this.source._source._localdata.replace(g,e.extend({},v))}this.source.suspendKO=!1}if(this.source.updaterow&&(void 0==sync||1==sync)){var _=!1,T=function(e){0==e&&this.setCellValue(n,i,l,!0,!1)};try{var j=t;_=this.source.updaterow(j,o,T),void 0==_&&(_=!0)}catch(e){return _=!1,void this.setCellValue(n,i,l)}}var C=this.getrowdisplayindex(n),h=this.getColumn(i);this._raiseEvent("cellValueChanged",{value:s,oldValue:l,dataField:i,displayField:h.displayfield,key:t,boundIndex:a,index:C,row:this.rowsByKey[t]}),this.editable&&null!=this.editKey||this._renderrows()}},setCellValue:function(e,t,i){if(null==e||null==t)return!1;var s=parseInt(e),r=this._getkey(s);this.setCellValueByKey(r,t,i)},getCellText:function(e,t){if(null==e||null==t)return!1;var i=parseInt(e),s=this._getkey(i);return this.getCellTextByKey(s,t)},getCellTextByKey:function(t,i){if(null==t||null==i)return null;var s=this.getCellValueByKey(t,i),r=this.getColumn(i);return r&&""!=r.cellsFormat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(s)?s=e.jqx.dataFormat.formatdate(s,r.cellsFormat,this.gridlocalization):(e.jqx.dataFormat.isNumber(s)||!isNaN(parseFloat(s))&&isFinite(s))&&(s=e.jqx.dataFormat.formatnumber(s,r.cellsFormat,this.gridlocalization))),s},getCellValue:function(e,t){if(null==e||null==t)return!1;var i=parseInt(e),s=this._getkey(i);return this.getCellValueByKey(s,t)},getCellValueByKey:function(e,t){var i=this.rowsByKey[e];!i&&this.treeGrid&&(i=this.treeGrid.getRow(e));var s=(this.getrowindex(i),i);return null!=s?s[t]:null},beginRowEdit:function(e){var t=this._getkey(e);this.beginroweditbykey(t)},beginCellEdit:function(e,t){var i=this._getkey(e),s=this.getColumn(t);this.beginroweditbykey(i,s)},endCellEdit:function(e,t,i){this.endRowEdit(e,i)},endRowEdit:function(e,t){var i=this._getkey(e);this.endroweditbykey(i,t)},getrowindex:function(e){var t=this.getRows().indexOf(e);if(-1!=t)return t;if(this.groups&&this.groups.length>0)for(var i=this.getRows(),s=0;s<i.length;s++)if(e.originalRecord){if(i[s].uid==e.originalRecord.uid){t=s;break}}else if(i[s].uid==e.uid){t=s;break}return t},getrowdisplayindex:function(e){if(this.treeGrid)return-1;var t=this.getView(),i=t.indexOf(e);if(-1!=i)return i;if(void 0==e)return i;for(var s=t,r=0;r<s.length;r++)if(s[r].uid==e.uid||e.originalRecord&&s[r].uid==e.originalRecord.uid){i=r;break}return i},beginroweditbykey:function(t,i){if(this.beginEdit){if(!1===this.beginEdit(t,i))return!1}var s=this.treeGrid?this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0:this.groups.length;if(s>0){var r=this.rowsByKey[t];if(this.treeGrid)var r=this.treeGrid.getRow(t);if(r.level<s)return!1}if(null==this._lastSelectedKey&&this.selectrowbykey(t),this.editKey===t&&void 0!=this.editKey)return!1;if(this.rowinfo[t]&&this.rowinfo[t].locked)return!1;if(null!=this.editKey)return this.endroweditbykey(t,!0),!1;var n=this.editSettings.editSingleCell;if(!i&&n&&this.columns.records&&this.columns.records.length>0){for(var a=0;a<this.columns.records.length&&(i=this.columns.records[a],!i.editable||i.hidden);a++);if(!i)return!1}if(n&&i&&!i.editable)return this.editKey=null,!1;n&&(this.editColumn=i);var o=this,r=this.rowsByKey[t];if(this.treeGrid)var r=this.treeGrid.getRow(t);var l=this.getrowindex(r),h=this._getuirow(t),d=this._getpinneduirow(t);this._editors=new Array;var c=!1;if(h)for(var u=h[0].cells,f=0,a=0;a<u.length;a++){var p=this.columns.records[a],m=u[a];if(!p.rowDetailscolumn&&!(p.checkboxcolumn||(p.pinned&&(m=d[0].cells[a]),n&&i&&p.datafield!=i.datafield||(e(m).removeClass(this.toTP("jqx-grid-cell-selected")),e(m).removeClass(this.toTP("jqx-fill-state-pressed")),e(m).removeClass(this.toTP("jqx-grid-cell-hover")),e(m).removeClass(this.toTP("jqx-fill-state-hover")),"none"==p.columntype)))){var g=e(m).outerWidth(),v=e(m).width();0===f&&(f=e(m).outerHeight()-1),e(m).css("padding","0px"),cellContent="<div style='height:"+f+"px; width: 100%; overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 9999;'></div>";var x=this.getCellTextByKey(t,p.displayfield);m.innerHTML=cellContent;var y=e(m.firstChild);switch(p.columntype){case"textbox":case"default":var w=e("<input style='border: none;' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox'/>").appendTo(y);if(this.rtl&&w.css("direction","rtl"),w.addClass(this.toThemeProperty("jqx-input")),w.addClass(this.toThemeProperty("jqx-widget-content")),w.addClass(this.toThemeProperty("jqx-cell-editor")),w[0].onfocus=function(t){setTimeout(function(){if(t){var i=e(t.target).parent().parent().index();i>=0&&o.ensureColumnVisible(o.columns.records[i].datafield)}else{var i=e(document.activeElement).parent().parent().index();i>=0&&o.ensureColumnVisible(o.columns.records[i].datafield)}o.content&&(o.content[0].scrollTop=0,o.content[0].scrollLeft=0),o.gridcontent&&(o.gridcontent[0].scrollLeft=0,o.gridcontent[0].scrollTop=0)},10)},p.editable){if(!c){c=!0;var b=e.jqx.browser.msie&&e.jqx.browser.version>10;b||w.focus();var _=w;setTimeout(function(){var e=_.val().length;b||_.focus();try{if("selectionStart"in _[0])_[0].setSelectionRange(0,e);else{var t=_[0].createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",0),t.select()}}catch(e){}},10)}}else w.attr("disabled",!0),w.attr("readOnly",!0),w.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(w.width(v),w.height(f),e.jqx.browser.msie&&e.jqx.browser.version<9&&w.css("line-height",parseInt(f)+"px"),w.css("text-align",p.cellsalign),null===x&&(x=""),void 0==x&&(x=""),w.val(x),p.createeditor){var T=x,x=this.getCellValueByKey(t,p.displayfield);p.createeditor(this.treeGrid?t:l,x,w,T,v,f)}if(this._editors.push({column:p,editor:w}),""!=p.cellsFormat&&(-1==p.cellsFormat.indexOf("p")&&-1==p.cellsFormat.indexOf("c")&&-1==p.cellsFormat.indexOf("n")&&-1==p.cellsFormat.indexOf("f")||w.keydown(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0,i=String.fromCharCode(t),s=parseInt(i);if(isNaN(s))return!0;if(o._selection(w).length>0)return!0;var r="",n=w.val();if(p.cellsFormat.length>1){var a=parseInt(p.cellsFormat.substring(1));isNaN(a)&&(a=0)}else var a=0;if(a>0&&-1!=n.indexOf(o.gridlocalization.decimalseparator)&&o._selection(w).start>n.indexOf(o.gridlocalization.decimalseparator))return!0;for(var l=0;l<n.length-a;l++){var h=n.substring(l,l+1);null!=h.match(/^[0-9]+$/)&&(r+=h)}return!(r.length>=11)&&void 0})),p.initeditor){var T=x,x=this.getCellValueByKey(t,p.displayfield);p.initeditor(this.treeGrid?t:l,x,w,T,v,f)}break;case"custom":case"template":this.editorsCache||(this.editorsCache=new Array);var j=e("<div style='width: 100%; height: 100%; border: none;'></div>").appendTo(y),C=e.trim(p.datafield).split(" ").join("");-1!=C.indexOf(".")&&(C=C.replace(".",""));var S=this.editorsCache["templateeditor_"+C];if("custom"==p.columntype)var S=this.editorsCache["customeditor_"+C+"_"+t];var T=x,x=this.getCellValueByKey(t,p.displayfield);if(S){var w=S;w.width(g),w.height(f),w.appendTo(j)}else{var w=e("<div style='border: none;'></div>");w.width(g),w.height(f),S=w,null===x&&(x=""),"custom"!=p.columntype?this.editorsCache["templateeditor_"+C]=w:this.editorsCache["customeditor_"+C+"_"+t]=w,w.appendTo(j),p.createeditor&&p.createeditor(this.treeGrid?t:l,x,w,T,g,f)}p.initeditor&&p.initeditor(this.treeGrid?t:l,x,w,T,g,f),this._editors.push({column:p,editor:w})}}}this.editKey=t,this.beginUpdate();var q=this.getrowdisplayindex(r);if(this._raiseEvent("rowBeginEdit",{key:t,index:q,boundIndex:l,row:this.rowsByKey[t]}),n){var r=this.rowsByKey[t],k=null,D=null;r&&(k=r[i.datafield],D=r[i.displayfield]),this._raiseEvent("cellBeginEdit",{value:k,displayValue:D,key:t,index:q,dataField:i.datafield,displayField:i.displayfield,boundIndex:l,row:this.rowsByKey[t]})}this.endUpdate(!1)},_toNumber:function(e){e.indexOf||void 0==e||(e=e.toString()),e.indexOf(this.gridlocalization.currencysymbol)>-1&&(e=e.replace(this.gridlocalization.currencysymbol,""));e=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)s=s.replace(t,i),r=s.indexOf(t);return s}(e,this.gridlocalization.thousandsseparator,""),e=e.replace(this.gridlocalization.decimalseparator,"."),e.indexOf(this.gridlocalization.percentsymbol)>-1&&(e=e.replace(this.gridlocalization.percentsymbol,""));for(var t="",i=0;i<e.length;i++){var s=e.substring(i,i+1);"-"===s&&(t+="-"),"."===s&&(t+="."),null!=s.match(/^[0-9]+$/)&&(t+=s)}return e=t,e=e.replace(/ /g,"")},_geteditorvalue:function(t,i,s,r){var n=new String;if(i){if(!t.geteditorvalue)switch(t.columntype){case"textbox":default:if(n=i.val(),""!=t.cellsFormat){var a="string",o=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(o){var l="";e.each(o,function(){if(this.name==t.displayfield)return this.type&&(l=this.type),!1}),l&&(a=l)}var h="number"===a||"float"===a||"int"===a||"integer"===a,d="date"===a||"time"===a;if(h||"string"===a&&(-1!=t.cellsFormat.indexOf("p")||-1!=t.cellsFormat.indexOf("c")||-1!=t.cellsFormat.indexOf("n")||-1!=t.cellsFormat.indexOf("f"))){if(""===n&&t.nullable)return"";n=this._toNumber(n),n=new Number(n),isNaN(n)&&(n="")}if(d||"string"===a&&(-1!=t.cellsFormat.indexOf("H")||-1!=t.cellsFormat.indexOf("m")||-1!=t.cellsFormat.indexOf("M")||-1!=t.cellsFormat.indexOf("y")||-1!=t.cellsFormat.indexOf("h")||-1!=t.cellsFormat.indexOf("d"))){if(""===n&&t.nullable)return"";var c=n;n=new Date(n),("Invalid Date"==n||null==n||t.cellsFormat.length>1)&&(e.jqx.dataFormat&&(n=e.jqx.dataFormat.parsedate(c,t.cellsFormat,this.gridlocalization)),"Invalid Date"!=n&&null!=n||(n=""))}}t.displayfield!=t.datafield&&(n={label:n,value:n})}if(t.geteditorvalue){var u=this.getCellValueByKey(r,t.displayfield);n=t.geteditorvalue(this.treeGrid?r:s,u,i)}}return n},_validateEditors:function(e){for(var t=this,i=!0,s=t.rowsByKey[e],r=t.getrowindex(s),n=t._editors,e=t.editKey,a=t._getuirow(e),o=0;o<n.length;o++){var l=n[o].editor,h=n[o].column,d=t._geteditorvalue(h,l,r,e);if(h.validation){l.removeClass(t.toThemeProperty("jqx-grid-validation-label"));var c=h.datafield;try{var u=h.validation({value:d,row:e,datafield:h.datafield,displayfield:h.displayfield,column:h},d),f=t.gridlocalization.validationstring;void 0!=u.message&&(f=u.message);("boolean"==typeof u?u:u.result)||(void 0!=u.showmessage&&1!=u.showmessage||t._showvalidationpopup(a,c,f,l),i=!1)}catch(e){t._showvalidationpopup(a,c,t.gridlocalization.validationstring,l),i=!1}}}return i},endroweditbykey:function(t,i){var s=this;if(null!==s.editKey){if(this.endEdit){if(!1===this.endEdit(t))return}var r=s.rowsByKey[t],n=s.getrowindex(r),a=s._editors,o=s.editKey;s._getuirow(o);if(!0!==i){var l=!0;if(a&&(l=s._validateEditors(o))){for(var h=e.extend({},r),d=e.extend({},r),c=0;c<a.length;c++){var u=a[c].editor,f=a[c].column,p=s._geteditorvalue(f,u,n,o);p&&void 0!=p.label?(h[f.displayfield]=p.label,h[f.datafield]=p.value):h[f.displayfield]=p}var m=function(){s.dataview._sortHierarchyData=null,s.dataview._sortData=null;for(var i=0;i<a.length;i++){var l=a[i].editor,h=a[i].column,c=s._geteditorvalue(h,l,n,o),u=d[h.displayfield];if(c&&void 0!=c.label?(r[h.displayfield]=c.label,r[h.datafield]=c.value):r[h.displayfield]=c,s.treeGrid){var f=s.treeGrid.getRow(o);f&&(f[h.displayfield]=c)}if(s.editorsCache){var p=function(e){if(e&&e.jqxWidget){var t=e.jqxWidget.element.className;if((t.indexOf("dropdownlist")>=0||t.indexOf("datetimeinput")>=0||t.indexOf("combobox")>=0||t.indexOf("menu")>=0)&&e.jqxWidget.isOpened){e.jqxWidget.isOpened()&&e.jqxWidget.close()}}},m="customeditor_"+h.displayfield+"_"+t,g="templateeditor_"+h.displayfield;if(s.editorsCache[m]){var v=e(s.editorsCache[m]).data(),x=s.editorsCache[m];!v.jqxWidget&&e(x).children()[0]&&e(e(x).children()[0]).data().jqxWidget&&(v=e(e(x).children()[0]).data()),p(v),s.editorsCache[m].detach()}if(s.editorsCache[g]){s.editorsCache[g].detach();var v=e(s.editorsCache[g]).data(),x=s.editorsCache[g];!v.jqxWidget&&e(x).children()[0]&&e(e(x).children()[0]).data().jqxWidget&&(v=e(e(x).children()[0]).data()),p(v)}}c!=u&&(s.beginUpdate(),s._raiseEvent("cellValueChanged",{value:c,oldValue:u,dataField:h.datafield,displayField:h.displayfield,key:t,index:n,row:r}),s.endUpdate(!1))}};s.updaterowbykey(s.editKey,h,!1,m)}if(!l)return!1}return s._detachEditors(o),!0}},_detachEditors:function(t){var i=this,s=i.rowsByKey[t],r=i.getrowindex(s);if(i.editorsCache)for(var n in i.editorsCache){var a=e(i.editorsCache[n]).data();if(a&&a.jqxWidget){var o=a.jqxWidget.element.className;if((o.indexOf("dropdownlist")>=0||o.indexOf("datetimeinput")>=0||o.indexOf("combobox")>=0||o.indexOf("menu")>=0)&&a.jqxWidget.isOpened){var l=a.jqxWidget.isOpened();l&&a.jqxWidget.close()}}e(i.editorsCache[n]).detach()}i.beginUpdate();var h=i.getrowdisplayindex(s);if(i.editSettings.editSingleCell){var s=i.rowsByKey[t],d=null,c=null;s&&(d=s[i.editColumn.datafield],c=s[i.editColumn.displayfield]),i._raiseEvent("cellEndEdit",{value:d,displayValue:c,key:t,index:h,dataField:i.editColumn.datafield,displayField:i.editColumn.displayfield,boundIndex:r,row:i.rowsByKey[t]})}i._raiseEvent("rowEndEdit",{key:t,index:h,boundIndex:r,row:i.rowsByKey[t]}),i.endUpdate(!1),i.editColumn=null,i.editKey=null,i._renderrows(),i._renderhorizontalscroll(),i.host.focus(),setTimeout(function(){i.host.focus()},10)},_showvalidationpopup:function(t,i,s,r){if(void 0==s)var s=this.gridlocalization.validationstring;r.addClass(this.toThemeProperty("jqx-grid-validation-label"));var n=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),a=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");n.html(s),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),n.addClass(this.toThemeProperty("jqx-grid-validation")),n.addClass(this.toThemeProperty("jqx-rc-all")),n.hide(),a.hide(),n.prependTo(this.table),a.prependTo(this.table);var o=this.hScrollInstance,l=o.value,h=parseInt(l),d=this.getColumn(i).uielement;if(t){var c=t;n.css("top",parseInt(c.position().top)+30+"px");var u=parseInt(n.css("top"));a.css("top",u-11),a.removeClass(),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var f=!1;u>=this._table.height()&&(a.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),u=parseInt(c.position().top)-c.outerHeight()-5,u<0&&(u=0,a.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),f=!0),n.css("top",u+"px"),a.css("top",u+n.outerHeight()-9));var p=-h+parseInt(e(d).position().left),m=parseInt(this._table.css("left"));isNaN(m)&&(m=0),0!=m&&(h=0),a.css("left",h+p+30);var g=n.width();if(g+p>this.host.width()-20){p-=g+p-this.host.width()+40}f?n.css("left",h+parseInt(e(d).position().left)-n.outerWidth()):n.css("left",h+p),r.mouseenter(function(){r.hasClass("jqx-grid-validation-label")&&(n.show(),a.show())}),r.mouseleave(function(){n.hide(),a.hide()}),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:n,validationrow:a}}},addRow:function(t,i,s,r){if(void 0!=i){this._datachanged=!0,void 0==s&&(s="last");var n=!1,a=this.that;if(null==t){var o=this.dataview.filters&&this.dataview.filters.length>0,l=o?this.source.records.length:this.dataview.totalrecords;if(!this.pageable){this.source._source.totalrecords?this.dataview.totalrecords=this.source._source.totalrecords:this.source._source.totalRecords?this.dataview.totalrecords=this.source._source.totalRecords:0!==this.source.hierarchy.length?this.dataview.totalrecords=this.source.hierarchy.length:this.dataview.totalrecords=this.source.records.length;var l=o?this.source.records.length:this.dataview.totalrecords}if(e.isArray(i)){var h=new Array;e.each(i,function(e,t){var s=a.dataview.getid(a.dataview.source.id,i[e],l+e);h.push(s),a.getColumn(a.dataview.source.id)&&(i[e][a.dataview.source.id]=s)}),t=h}else t=this.dataview.getid(this.dataview.source.id,i,l),this.getColumn(this.dataview.source.id)&&(i[this.dataview.source.id]=t)}else e.isArray(i)?e.each(i,function(e,s){var r=t[e];a.getColumn(a.dataview.source.id)&&(i[e][a.dataview.source.id]=r)}):this.getColumn(this.dataview.source.id)&&(i[this.dataview.source.id]=t);var d=!!this.treeGrid&&!!this.treeGrid.virtualModeCreateRecords,c=function(t,i,s,n){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);var a=t.vScrollInstance.value,o=!1;if(e.isArray(s)?e.each(s,function(e,s){var a=null;null!=i&&null!=i[e]&&(a=i[e]),this.uid=a,t.rowsByKey[a]=this,i==r&&(r=null),o=t.source.addRecord(this,n,r,d)}):(s.uid=i,t.rowsByKey[i]=s,i==r&&(r=null),o=t.source.addRecord(s,n,r,d)),t.groups&&t.groups.length>0){var l=Object.prototype.toString,h=t.groups[0];if(Object.prototype.toString="function"==typeof h?h:function(){return this[h]},!t.source.records.sort){var c=new Array,u=0;e.each(data,function(){c[startindex+u++]=this}),data=c}t.source.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;var s=0,r=0;if(t&&t.uid&&(s=t.uid),i&&i.uid&&(r=i.uid),t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(e){}if("number"==typeof s){if(s<r)return-1;if(s>r)return 1}return 0}),Object.prototype.toString=l}return t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null,void 0!=t._updating&&0!=t._updating||t.refresh(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(s),t.source.suspendKO=!1),t.vScrollInstance.setPosition(a),o};if(this.source.addrow){var u=function(e,r){1!=e&&void 0!=e||(void 0!=r&&(t=r),c(a,t,i,s))};try{n=a.treeGrid?this.source.addrow(t,i,s,r,u):this.source.addrow(t,i,s,u),void 0==n&&(n=!0)}catch(e){n=!1}if(0==n)return!1}else c(this,t,i,s);return n}return!1},deleteRow:function(e){var t=this._getkey(e);this.deleterowbykey(t)},deleterowbykey:function(t){if(void 0!=t){this._datachanged=!0;var i=!1,s=this.that,r=function(t,i){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null;var s=!1,r=t.vScrollInstance.value;if(e.isArray(i))e.each(i,function(){var e=this;if(t.rowsByKey[e]){if(s=!0,t.rowinfo[e].selected&&t.unselectrowbykey(e,!1),t.treeGrid)var i=t._names(),r=t.rowsByKey[e][i.parent];if(delete t.rowsByKey[e],t.treeGrid&&t.rowinfo[e]){var n=t.rowinfo[e].row.records,a=function(e){for(var i=0;i<e.length;i++){var s=e[i].uid;delete t.rowsByKey[s],delete t.rowinfo[s],e[i].records&&a(e[i].records)}};n&&(a(n),delete t.rowinfo[e])}t.source.deleteRecord(e),r&&i&&r.records&&0==r.records.length&&(r[i.leaf]=!0,t.rowinfo[r.uid][i.leaf]=!0)}});else{var s=!1;if(t.rowsByKey[i]){if(s=!0,t.rowinfo[i]&&t.rowinfo[i].selected&&t.unselectrowbykey(i,!1),t.treeGrid)var n=t._names(),a=t.rowsByKey[i][n.parent];if(delete t.rowsByKey[i],t.treeGrid&&t.rowinfo[i]){var o=t.rowinfo[i].row.records,l=function(e){for(var i=0;i<e.length;i++){var s=e[i].uid;delete t.rowsByKey[s],delete t.rowinfo[s],e[i].records&&l(e[i].records)}};o&&l(o)}delete t.rowinfo[i],t.source.deleteRecord(i),a&&n&&a.records&&0==a.records.length&&(a[n.leaf]=!0,t.rowinfo[a.uid][n.leaf]=!0)}}return t.refresh(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(rowdata),t.source.suspendKO=!1),t.vScrollInstance.setPosition(r),s};if(this.source.deleterow){var n=function(e){1!=e&&void 0!=e||r(s,t)};try{this.source.deleterow(t,n),void 0==i&&(i=!0)}catch(e){i=!1}}else i=r(s,t);return i}return!1},updateRow:function(e,t){var i=this._getkey(e);this.updaterowbykey(i,t)},updaterowbykey:function(t,i,s,r){if(void 0!=t&&void 0!=i){var n=this.that,a=!1,o=function(t,i,r){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null;var n=!1;if(e.isArray(i))e.each(i,function(e,i){var s=t.rowsByKey[this],a=function(t,i){s?s[this]=r[e]:n=!1,n=!0};a(),t.treeGrid&&(s=t.treeGrid.getRow(this),a())});else{var a=t.rowsByKey[i],o=function(e){if(e){for(var i=0;i<t.columns.records.length;i++)e[t.columns.records[i].datafield]=r[t.columns.records[i].datafield],t.groups.length>0&&e.originalRecord&&(e.originalRecord[t.columns.records[i].datafield]=r[t.columns.records[i].datafield]);n=!0}else n=!1};o(a),t.treeGrid&&(a=t.treeGrid.getRow(i),o(a))}var l=t.vScrollInstance.value;if(void 0!=s&&1!=s||void 0!=t._updating&&0!=t._updating||t._renderrows(),t.showAggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var a=t.rowsByKey[i],h=t.getrowindex(a),d=t.source._source._localdata()[h];t.source.suspendKO=!0,t.source._source._localdata.replace(d,e.extend({},a)),t.source.suspendKO=!1}return t.vScrollInstance.setPosition(l),n};if(this.source.updaterow){var l=function(e){1!=e&&void 0!=e||(o(n,t,i),r&&r(),n._renderrows(!1))};try{a=this.source.updaterow(t,i,l),void 0==a&&(a=!0)}catch(e){a=!1}}else a=o(n,t,i),a&&r&&r(),n._renderrows(!1);return a}return!1},lockRow:function(e){var t=this._getkey(e);this.lockrowbykey(t)},unlockRow:function(e){var t=this._getkey(e);this.unlockrowbykey(t)},lockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!0:this.rowinfo[e]={locked:!0},this._renderrows()},unlockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!1:this.rowinfo[e]={locked:!1},this._renderrows()},selectRow:function(e){var t=this._getkey(e);this.selectrowbykey(t)},unselectRow:function(e){var t=this._getkey(e);this.unselectrowbykey(t)},selectrowbykey:function(e,t,i){"keyboard"!=t&&"mouse"!=t&&(this._lastSelectedKey=e);var s=!1!==i;this._doSelection(e,!0,s);var r=this.rowsByKey[e],n=this.getrowindex(r),a=this.getrowdisplayindex(r);this._raiseEvent("rowSelect",{key:e,index:a,boundIndex:n,row:this.rowsByKey[e]})},unselectrowbykey:function(e,t){var i=!1!==t;this._doSelection(e,!1,i);var s=this.rowsByKey[e],r=this.getrowindex(s),n=this.getrowdisplayindex(s);this._raiseEvent("rowUnselect",{key:e,index:n,boundIndex:r,row:this.rowsByKey[e]})},getSelection:function(){var e=new Array;if(this.rowinfo)for(var t in this.rowinfo){var i=this.rowinfo[t];i.selected&&e.push(i.row)}return e},showdetailsbykey:function(t){if(this.rowDetails){var i=this.rowinfo[t];if(i){i.expanded=!0;var s=e(this._table.children()[1]).children("[data-key="+t+"]"),r=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(s){var n=r.children(),a=e(n[0]);if(this.rtl)var a=e(n[n.length-1]);this.rtl?(a.removeClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),a.addClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),a.removeClass(this.toThemeProperty("jqx-icon-arrow-left")),a.addClass(this.toThemeProperty("jqx-icon-arrow-down"))):(a.removeClass(this.toThemeProperty("jqx-grid-group-collapse")),a.addClass(this.toThemeProperty("jqx-grid-group-expand")),a.removeClass(this.toThemeProperty("jqx-icon-arrow-right")),a.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),s.next().show();var o=r.next();if(o.show(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(s.next().children().show(),r.next().children().show()),!i.initialized){var l=i.detailsHeight,h=this.initRowDetails(t,i.row,e(e(o).children().children().children()[0]),i);i.details=e(o).children().children().children()[0],i.initialized=!0,!1!==h&&i.detailsHeight==l||(!1===h&&(i.expanded=!1,i.nodetails=!0,o.hide()),this._renderrows())}this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var d=this.getrowindex(i.row),c=this.getrowdisplayindex(i.row);this._raiseEvent("rowExpand",{row:i.row,index:c,boundIndex:d,rowKey:t})}}}},hidedetailsbykey:function(t){if(this.rowDetails){var i=this.rowinfo[t];if(i){i.expanded=!1;var s=e(this._table.children()[1]).children("[data-key="+t+"]"),r=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(s){var n=r.children(),a=e(n[0]);if(this.rtl)var a=e(n[n.length-1]);this.rtl?(a.addClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),a.removeClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),a.addClass(this.toThemeProperty("jqx-icon-arrow-left")),a.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))):(a.addClass(this.toThemeProperty("jqx-grid-group-collapse")),a.removeClass(this.toThemeProperty("jqx-grid-group-expand")),a.addClass(this.toThemeProperty("jqx-icon-arrow-right")),a.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))),s.next().hide(),r.next().hide(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(s.next().children().hide(),r.next().children().hide()),this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var o=this.getrowindex(i.row),l=this.getrowdisplayindex(i.row);this._raiseEvent("rowCollapse",{row:i.row,index:l,boundIndex:o,rowKey:t})}}}},_getvirtualcolumnsindexes:function(e,t,i,s,r){if(this.rowDetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+s};var n=0,a=-1,o=i+s;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var l=0;l<i+s;l++){if(this.columns.records[l].hidden||(n+=this.columns.records[l].width),n>=e&&-1==a&&(a=l),n>t+e){o=l;break}}return o++,o>i+s&&(o=i+s),-1==a&&(a=0),{start:a,end:o}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0);var i=parseInt(t);if(null!=this.table){var s=this.columnsrow,r=this.columns.records.length-0,n=this.columns.records,a=0==this.source.records.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),a&&!this._haspinned)this.table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px";else{if(this._haspinned||void 0==this._haspinned){for(var o=0;o<0+r;o++){if(n[o].pinned){var l=null;if(this.showAggregates&&this.statusbar[0].cells&&(l=this.statusbar[0].cells[o]),this.filterrow&&this.filterrow[0].cells&&(filtercell=this.filterrow[0].cells[o]),this.rtl){var h=s[0].cells[o];h.style.marginLeft=-parseInt(t)+"px",l&&(l.style.marginLeft=-parseInt(t)+"px"),this.filterrow&&filtercell&&(filtercell.style.marginLeft=-parseInt(t)+"px")}else{var h=s[0].cells[o];h.style.marginLeft=i+"px",l&&(l.style.marginLeft=i+"px"),this.filterrow&&filtercell&&(filtercell.style.marginLeft=i+"px")}}}if(this.columnsVirtualization){for(var d=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1),c=d.start,u=d.end,f=0;f<c;f++){var p=f,m=this.columns.records[p].element[0];if(!this.columns.records[p].pinned&&(m.parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0])){var g=this.filterrow[0].cells[p];g.parentNode&&g.parentNode.removeChild(g)}}for(var f=u;f<this.columns.records.length;f++){var p=f,m=this.columns.records[p].element[0];if(!this.columns.records[p].pinned&&(m.parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0])){var g=this.filterrow[0].cells[p];g.parentNode&&g.parentNode.removeChild(g)}}for(var f=c;f<u;f++){var p=f;if(m=this.columns.records[p].element[0],!this.columns.records[p].pinned&&(m.parentNode||this.columnsrow[0].appendChild(m),this.filterrow&&this.filterrow[0])){var g=this.filterrow[0].cells[p];g.parentNode||this.filterrow[0].appendChild(g)}}}this._table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px"}else if(0==this._haspinned){if(this.columnsVirtualization){for(var d=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1),c=d.start,u=d.end,f=0;f<c;f++){var p=f,m=this.columns.records[p].element[0];if(m.parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0]){var g=this.filterrow[0].cells[p];g.parentNode&&g.parentNode.removeChild(g)}}for(var f=u;f<this.columns.records.length;f++){var p=f,m=this.columns.records[p].element[0];if(m.parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0]){var g=this.filterrow[0].cells[p];g.parentNode&&g.parentNode.removeChild(g)}}for(var f=c;f<u;f++){var p=f;if(m=this.columns.records[p].element[0],m.parentNode||this.columnsrow[0].appendChild(m),this.filterrow&&this.filterrow[0]){var g=this.filterrow[0].cells[p];g.parentNode||this.filterrow[0].appendChild(g)}}}this.table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px"}this.filterrow&&(this.filterrow[0].style.left=-i+"px",this.rtl&&(this.filterrow[0].style.left=-i+parseInt(this.content.css("left"))+"px"))}if(this.showAggregates&&this.aggregates[0].cells){var v=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&(v="hidden"!=this.hScrollBar.css("visibility")?2+parseInt(this.hScrollBar.css("left")):3+parseInt(this.vScrollBar.width())),this.aggregates[0].style.marginLeft=-i+v+"px"}}},_initializeColumns:function(){var i=this.source.datafields;null==i&&this.source._source&&(i=this.source._source.datafields);var s=!!i&&i.length>0;if(this.columns&&this.columns.records)for(var r=0;r<this.columns.records.length;r++)this._removecolumnhandlers(this.columns.records[r]);var n=this,a=new e.jqx.dataCollection(this.element),o=0;if(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,"checkbox"==this.selectionMode){var l=new t(n,this);l.visibleindex=o++,l.width=n.indentWidth,l.checkboxcolumn=!0,l.editable=!1,l.columntype="checkbox",l.groupable=!1,l.draggable=!1,l.filterable=!1,l.resizable=!1,l.datafield="_checkboxcolumn",a.add(l)}if(this.rowDetails&&!this.treeGrid){var l=new t(n,this);l.visibleindex=o++,l.width=n.indentWidth,l.editable=!1,l.rowDetailscolumn=!0,l.groupable=!1,l.draggable=!1,l.pinned=!0,l.filterable=!1,l.resizable=!1,l.text="",a.add(l)}var h=new Array;e.each(this.columns,function(e){if(void 0!=n.columns[e]){var i=new t(n,this);if(i.visibleindex=o++,void 0!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(n._haspinned=!0),null==this.datafield)n.source&&n.source._source&&"array"==n.source._source.datatype&&(s||(n.source._source.datafields?n.source._source.datafields.push({name:e.toString()}):(n.source._source.datafields=new Array,n.source._source.datafields.push({name:e.toString()}))),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else{if(h[this.datafield])throw new Error("jqxDataTable: Invalid column 'dataField' setting. jqxDataTable's columns should be initialized with unique data fields.");h[this.datafield]=!0}a.add(i)}}),this.rtl&&a.records.reverse(),this.columns=a},addFilter:function(e,t){this.getColumn(e)&&this.dataview.addFilter(e,t)},removeFilter:function(e){this.getColumn(e)&&this.dataview.removeFilter(e)},clearFilters:function(e,t){this.dataview.filters=new Array,this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,
!1!==t&&this.resetfilter(),!1!==e&&this.applyFilters()},resetfilter:function(){if(this.filterinput&&this.filterinput.val(""),this.filterrow)for(var t=0;t<this.filterrow[0].cells.length;t++){var i=this.filterrow[0].cells[t],s=e(i).find("input:first"),r=e(i).find(".filterconditions"),n=this.columns.records[t];if(n.filterable){s.val("");var a=this.getcolumntypebydatafield(n),o=new e.jqx.filter;switch(a){case"number":case"int":case"float":case"decimal":filtertype="numericfilter",conditions=o.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter",conditions=o.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter",conditions=o.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter",conditions=o.getoperatorsbyfiltertype("stringfilter")}r.length>0&&("stringfilter"===filtertype?r.jqxDropDownList({selectedIndex:2}):r.jqxDropDownList({selectedIndex:0}))}}},applyFilters:function(){if(this.editable&&null!=this.editKey){this.endroweditbykey(this.editKey)}if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this.serverProcessing?(this.dataview.pagenum=0,this.updateBoundData("filter")):(this.goToPage(0),this.refresh()),arguments&&arguments.length>0){if(this._updateSimpleFilter&&this.filtercolumnsList){var e=this.filtercolumnsList.jqxDropDownList("getSelectedItem").value;this._updateSimpleFilter(e)}this._updateFilterRow&&this._updateFilterRow()}this._raiseEvent("filter",{filters:this.dataview.filters})},sortBy:function(e,t){if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(this.editable&&null!=this.editKey){this.endroweditbykey(this.editKey)}if(null==e&&(t=null,e=this.sortcolumn),e){var i=this;ascending="a"==t||"asc"==t||"ascending"==t||1==t,i.sortdirection=null!=t?{ascending:ascending,descending:!ascending}:{ascending:!1,descending:!1},i.sortcolumn=null!=t?e:null,i.source.sort&&(i.dataview.sortfield=e,i.dataview.sortfielddirection=null==t?"":ascending?"asc":"desc",i.source.sort&&!this._loading&&i.source.sort(e,t)),i.dataview.sortBy(e,t),i._raiseEvent("sort",{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection})}this.serverProcessing?this.updateBoundData("sort"):this.refresh()},_togglesort:function(e){var t=this;if(!this.disabled&&e.sortable&&t.sortable){var i={sortcolumn:this.sortcolumn,sortdirection:this.sortdirection},s=null;null!=i.sortcolumn&&i.sortcolumn==e.displayfield?(s=i.sortdirection.ascending,s=1!=s&&null):s=!0,t.sortBy(e.displayfield,s)}},_renderfilter:function(){var t=this,i=e("<div style='position: relative; margin: 4px;'><input style='height: 22px; direction: ltr;' role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>");i.height(22);var s=i.find("input"),r=i.find("div:first");i.addClass(this.toThemeProperty("jqx-rc-all")),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-input-group")),s.addClass(this.toThemeProperty("jqx-input")),s.addClass(this.toThemeProperty("jqx-rc-l")),s.addClass(this.toThemeProperty("jqx-input-group-addon")),s.addClass(this.toThemeProperty("jqx-widget")),s.addClass(this.toThemeProperty("jqx-widget-content")),r.addClass(this.toThemeProperty("jqx-fill-state-normal")),r.addClass(this.toThemeProperty("jqx-rc-r")),r.addClass(this.toThemeProperty("jqx-input-group-addon")),r.find("div").addClass(this.toThemeProperty("jqx-icon-search")),this.rtl&&(s.addClass(this.toThemeProperty("jqx-rtl")),s.css("direction","rtl")),this.filter.children().remove(),this.filterbutton=r;for(var n=new Array,a=0;a<t.columns.records.length;a++)t.columns.records[a].datafield&&t.columns.records[a].filterable&&n.push({label:t.columns.records[a].text,value:t.columns.records[a].displayfield});var o=n.length<10,l=e("<div style='position: relative; top: 50%; display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>");this.filter.append(l);var h=e("<div class='filtercolumns' style='position: relative; margin: 4px; float: left;'></div>");this.filter.append(h),h.jqxDropDownList&&h.jqxDropDownList({theme:this.theme,enableBrowserBoundsDetection:!0,autoDropDownHeight:o,rtl:t.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:20,source:n,displayMember:"label",valueMember:"value"}),this.filtercolumnsList=h;var d=function(e){t.filterinput.val("");for(var i=0;i<t.dataview.filters.length;i++){var s=t.dataview.filters[i];s.datafield===e&&t.filterinput.val(s.filter.getfilterat(0).filtervalue)}};30!==t.filterHeight&&(t.filtercolumnsList.css("margin-top",t.filterHeight/2-10),i.css("margin-top",t.filterHeight/2-10)),t._updateSimpleFilter=d,this.addHandler(h,"select",function(e){var t=e.args.item.value;d(t)}),"simple"===this.filterMode?(this.filtercolumnsList.hide(),l.show(),l.css("margin-top",-this.filter.height()/2),i.css("float","left")):(this.filtercolumnsList.show(),l.hide());var c=function(){if(!r.hasClass("jqx-fill-state-disabled")){var i=s.val();if(h.jqxDropDownList)var n=h.jqxDropDownList("getSelectedItem");var a=function(i,s,r){var n=new e.jqx.filter,a=t.getcolumntypebydatafield(i),o=t._getfiltertype(a);if("datefilter"==o)var l=n.createfilter(o,s,"EQUAL",null,i.cellsFormat,t.gridlocalization);else if("numericfilter"==o||"booleanfilter"==o){"numericfilter"==o&&(","==t.gridlocalization.decimalseparator&&s.indexOf(t.gridlocalization.decimalseparator)>=0&&(s=s.replace(t.gridlocalization.decimalseparator,".")),s.indexOf(t.gridlocalization.currencysymbol)>=0&&(s=s.replace(t.gridlocalization.currencysymbol,"")),s.indexOf(t.gridlocalization.percentagesymbol)>=0&&(s=s.replace(t.gridlocalization.percentagesymbol,"")));var l=n.createfilter(o,s,"EQUAL",null,i.cellsFormat,t.gridlocalization)}else var l=n.createfilter(o,s,"CONTAINS");return n.operator=r,n.addfilter(0,l),n};if("simple"!==t.filterMode){if(n){var o=n.value,l=t.getColumn(o),d=a(l,i,"and");i.length>0?(t.removeFilter(o),t.addFilter(o,d),t.applyFilters()):(t.removeFilter(o),t.applyFilters()),"advanced"===t.filterMode&&t._updateFilterRow&&t._updateFilterRow(!0)}}else{if(t.clearFilters(!1,!1),i.length>0)for(var c=0;c<t.columns.records.length;c++){var l=t.columns.records[c],d=a(l,i,"or");t.addFilter(l.datafield,d)}t.applyFilters()}0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)}};if(s.keydown(function(e){if(13===e.keyCode)return c(),e.preventDefault&&e.preventDefault(),!1}),r.click(function(){c()}),this.filterinput=s,this.filter.append(i),"advanced"==this.filterMode){var u=e("<a style='float: left; position: relative; margin: 2px; margin-left: 10px;' href='#'>"+this.gridlocalization.filterstring+"</a>");i.append(u),this.addHandler(u,"click",function(i){var s=function(i){if(t.filterrow)for(var s=0;s<t.filterrow[0].cells.length;s++){var r=t.filterrow[0].cells[s],n=e(r).find("input:first"),a=t.columns.records[s];if(a.filterable){!0===i&&n.val("");for(var o=0;o<t.dataview.filters.length;o++){var l=t.dataview.filters[o];if(l.datafield===a.displayfield){n.val(l.filter.getfilterat(0).filtervalue);break}}}}},r=function(i){if(t.filterrow)for(var s=0;s<t.filterrow[0].cells.length;s++){var r=t.filterrow[0].cells[s],n=e(r).find("input:first"),a=t.columns.records[s];a.hidden?r.style.visibility="hidden":r.style.visibility="inherit",a.filterable&&(r.style.left=parseInt(0)+parseInt(a.uielement[0].style.left)+"px",r.style.width=6+a.width+"px",n[0]&&(n[0].style.width=a.width-6-22+"px"))}};t._updateFilterRow=s,t._arrangeFilterRow=r;var n=function(){t.filtercolumnsList.jqxDropDownList({disabled:!0}),t.filterinput.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!0),t.filterbutton.addClass(t.toThemeProperty("jqx-fill-state-disabled"))};return 0===t.filter.find(".filterrow").length?(t._renderadvancedfilter(),n(),s(),t._arrange(),r()):("none"===t.filter.find(".filterrow").css("display")?(n(),t.filter.find(".filterrow").removeClass("filterrow-hidden"),s(),t.filter.find(".filterrow").show(),r()):(t.filtercolumnsList.jqxDropDownList({disabled:!1}),t.filterinput.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!1),t.filterbutton.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),d(t.filtercolumnsList.jqxDropDownList("getSelectedItem").value),t.filter.find(".filterrow").addClass("filterrow-hidden"),t.filter.find(".filterrow").hide()),t._arrange()),!1})}var f=e("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>");f.attr("title",t.gridlocalization.filterclearstring),f.addClass(t.toThemeProperty("jqx-icon-close")),i.append(f),f.hide(),t.filtericon=f,f.click(function(){t.clearFilters(),t.filtericon.fadeOut(200)}),t.dataview.filters.length>0&&("advanced"!=t.filterMode?d(t.dataview.filters[0].datafield):t._updateFilterRow&&t._updateFilterRow())},_renderadvancedfilter:function(){var t=this,i=function(){t.clearFilters(!1,!1);for(var i=t.filtercolumnsList.jqxDropDownList("getSelectedItem").value,s=(t.filterinput.val(),0);s<t.filterrow[0].cells.length;s++){var r=t.filterrow[0].cells[s],n=e(r).find("input:first"),a=e(r).find(".filterconditions"),o=t.columns.records[s],l="";if(o.filterable){o.displayfield===i&&t.filterinput.val(n.val());var h=t.getcolumntypebydatafield(o),d=new e.jqx.filter;switch(h){case"number":case"int":case"float":case"decimal":filtertype="numericfilter",conditions=d.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter",conditions=d.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter",conditions=d.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter",conditions=d.getoperatorsbyfiltertype("stringfilter")}if(0==a.length)l="stringfilter"===filtertype?conditions[2]:conditions[0];else{var c=a.jqxDropDownList("getSelectedItem");l=c?conditions[c.index]:"stringfilter"===filtertype?conditions[2]:conditions[0]}var u=n.val();if(u.length>0||0==u.length&&"NOT_NULL"==l||0==u.length&&"NOT_EMPTY"==l||0==u.length&&"EMPTY"==l||0==u.length&&"NULL"==l){var f=o.displayfield,p=new e.jqx.filter;"numericfilter"==filtertype&&(","==t.gridlocalization.decimalseparator&&u.indexOf(t.gridlocalization.decimalseparator)>=0&&(u=u.replace(t.gridlocalization.decimalseparator,".")),u.indexOf(t.gridlocalization.currencysymbol)>=0&&(u=u.replace(t.gridlocalization.currencysymbol,"")),u.indexOf(t.gridlocalization.percentagesymbol)>=0&&(u=u.replace(t.gridlocalization.percentagesymbol,"")));var d=p.createfilter(filtertype,u,l,null,o.cellsFormat,t.gridlocalization);p.addfilter(0,d),t.addFilter(f,p)}}}t.dataview.filters.length>0?t.applyFilters():t.clearFilters(),0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)};!function(){var s=e("<div style='position: relative;' class='filterrow'></div>").appendTo(t.filter);t.filterrow=s,s[0].cells=new Array,s.height(24),s.width(t.table.width());var r=t.filtercolumnsList.jqxDropDownList("getSelectedItem").value,n=t.filterinput.val();e.each(t.columns.records,function(){var a=this,o=e("<div></div>").appendTo(s);if(o.css("position","absolute"),o.css("left",0+parseInt(a.uielement[0].style.left)),a.pinned&&(o.css("z-index",t.tableZIndex+t.columns.records.length),o.addClass(t.toThemeProperty("jqx-widget-header"))),s[0].cells.push(o[0]),!this.filterable)return!0;var l=e("<input style='margin-left: 4px; height: 20px; float: left;' role='textbox' type='text'/>").appendTo(o);l.keydown(function(e){13===e.keyCode&&i()}),a.displayfield===r&&l.val(n),l.addClass(t.toThemeProperty("jqx-input")),l.addClass(t.toThemeProperty("jqx-rc-all")),l.addClass(t.toThemeProperty("jqx-widget")),l.addClass(t.toThemeProperty("jqx-widget-content"));var h=e("<div style='cursor: pointer; margin-left: 4px; margin-bottom: 4px; margin-top: 6px; width: 18px; position: relative; margin-top: 4px; float: left;'></div>").appendTo(o);h.append(e("<div style='width: 16px; height: 16px;' class='"+t.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>")),l.focus(function(){t.ensureColumnVisible(a.displayfield),t.filter[0].scrollLeft=0,t.ensureColumnVisible(a.displayfield),setTimeout(function(){t.filter[0].scrollLeft=0,t.ensureColumnVisible(a.displayfield)},10)}),h.click(function(){var i=e("<div class='filterconditions' style='position: relative; margin-top: 1px; float: left;'></div>");i.insertAfter(h),h.remove();var s=t.getcolumntypebydatafield(a),r=t._getfiltersbytype(s);index="string"===s?2:0,i.jqxDropDownList({theme:t.theme,enableBrowserBoundsDetection:!0,renderMode:"simple",arrowSize:0,selectedIndex:index,rtl:t.rtl,dropDownWidth:230,dropDownHeight:180,width:20,height:20,source:r,selectionRenderer:function(){return"<div style='width: 16px; height: 16px;' class='"+t.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>"}}),t.addHandler(i,"close",function(e){l.focus(),setTimeout(function(){l.focus()},10)}),i.removeAttr("tabindex"),i.find("div").removeAttr("tabindex"),i.jqxDropDownList("open")}),l[0].style.width=a.width-6-22+"px"}),e("<div style='clear: both;'></div>").appendTo(s)}();var s=e("<div style='position:relative;' class='filterrow'></div>").appendTo(t.filter),r=e("<input type='button' style='position: relative; float: left; margin-top: 4px; margin-left: 4px;' value='"+t.gridlocalization.filterapplystring+"'/>").appendTo(s),n=e("<input type='button' style='position: relative; float: left; margin-top: 4px;  margin-left: 4px;' value='"+t.gridlocalization.filtercancelstring+"'/>").appendTo(s);r.css("left",0),n.css("left",0),r.jqxButton({theme:t.theme}),n.jqxButton({theme:t.theme}),n.click(function(){t.filtercolumnsList.jqxDropDownList({disabled:!1}),t.filterinput.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!1),t.filterbutton.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filter.find(".filterrow").addClass("filterrow-hidden"),t.filter.find(".filterrow").hide(),t._arrange()}),r.click(function(){i()}),t._renderhorizontalscroll()},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":t="datefilter";break;case"string":t="stringfilter"}return t},getcolumntypebydatafield:function(t){var i=this,s=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(s){var r="";if(e.each(s,function(){if(this.name==t.displayfield)return this.type&&(r=this.type),!1}),r)return r}return"string"},_getfiltersbytype:function(e){var t=this,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getcellvalue:function(e,t){var i=null;return i=t[e.datafield],null!=e.displayfield&&(i=t[e.displayfield]),null==i&&(i=""),i},_renderrows:function(t){if(this.editable&&null!=this.editKey&&!1!==t){this.endroweditbykey(this.editKey)}if(this.treeGrid)return void this.treeGrid._renderrows();if(!this._loading&&!this._updating){this.rendering&&this.rendering();var i=this,s=0;this.table[0].rows=new Array;var r=this.toTP("jqx-cell")+" "+this.toTP("jqx-widget-content");this.rtl&&(r+=" "+this.toTP("jqx-cell-rtl"));var n=this.columns.records.length,a=e.jqx.browser.msie&&e.jqx.browser.version<8;a&&this.host.attr("hideFocus","true");var o=i.groups.length,l=new Array,h=this.source.records;if(h=this.dataview.evaluate(h),this.dataViewRecords=h,"all"==this.dataview.pagesize||!this.pageable||this.serverProcessing){var d=h;if(this.pageable&&this.serverProcessing&&h.length>this.dataview.pagesize)var d=h.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize)}else var d=h.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize);if(i.groups&&i.groups.length>0){var c=this.pageable?this.dataview.pagesize*this.dataview.pagenum:0;if("root"===this.pageSizeMode){var u=i.source.getGroupedRecords(i.groups,"records","label",null,"data",null,"parent",h,0);i.rootRecordsLength=u.length,u=function(e){for(var t=0,s=new Array,r=0;r<e.length;r++){var n=e[r];if(0==n.level&&t++,t>i.dataview.pagesize*i.dataview.pagenum&&t<=i.dataview.pagesize*i.dataview.pagenum+i.dataview.pagesize&&s.push(n),t>i.dataview.pagesize*i.dataview.pagenum+i.dataview.pagesize)break}return s}(u)}else var u=i.source.getGroupedRecords(i.groups,"records","label",null,"data",null,"parent",d,c);var f=function(e,t){for(var i=0;i<e.length;i++){var s=e[i];if(t.push(s),s.records&&s.records.length>0)for(var r=f(s.records,new Array),n=0;n<r.length;n++)r[n].leaf,t.push(r[n])}return t},l=f.call(i,u,new Array);d=l,this.rowsByKey=new Array;for(var p=0;p<d.length;p++){var m=d[p];this.rowsByKey[m.uid]=m}}var l=d;this.renderedRecords=l;var g=l.length,v=this.tableZIndex,x=0,y=0;if(a)for(var w=0;w<n;w++){var b=this.columns.records[w],_=b.width;_<b.minwidth&&(_=b.minwidth),_>b.maxwidth&&(_=b.maxwidth);var T=e('<table><tr><td role="gridcell" style="max-width: '+_+"px; width:"+_+'px;" class="'+r+'"></td></tr></table>');e(document.body).append(T);var j=T.find("td");x=1+parseInt(j.css("padding-left"))+parseInt(j.css("padding-right")),T.remove();break}for(var C=this.rtl?" "+this.toTP("jqx-grid-table-rtl"):"",S="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+C+"' id='table"+this.element.id+"'><colgroup>",q="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+C+"' id='pinnedtable"+this.element.id+"'><colgroup>",k=0,D=n,w=0;w<n;w++){var b=this.columns.records[w];if(b.hidden)k++,D--;else{var _=b.width;if(_<b.minwidth&&(_=b.minwidth),_>b.maxwidth&&(_=b.maxwidth),_-=x,_<0&&(_=0),a){var I=_;if(w==k&&I++,b.rowDetailscolumn){var I=I+4;q+="<col style='max-width: "+I+"px; width: "+I+"px;'>",S+="<col style='max-width: "+I+"px; width: "+I+"px;'>"}else q+="<col style='max-width: "+I+"px; width: "+I+"px;'>",S+="<col style='max-width: "+I+"px; width: "+I+"px;'>"}else q+="<col style='max-width: "+_+"px; width: "+_+"px;'>",S+="<col style='max-width: "+_+"px; width: "+_+"px;'>";y+=_}}S+="</colgroup>",q+="</colgroup>",this._hiddencolumns=!1;var M=!1;if(this.rowDetails&&this._pinnedTable&&(this._pinnedTable.find("[data-role=details]").detach(),this._table.find("[data-role=details]").detach()),0===g){var P='<tr role="row">',H=this.host.height();if(this.pageable&&(H-=this.pagerHeight,"both"===this.pagerPosition&&(H-=this.pagerHeight)),H-=this.columnsHeight,this.filterable){var A=this.filter.find(".filterrow"),B=this.filter.find(".filterrow-hidden"),N=1;B.length>0&&(N=0),H-=this.filterHeight+this.filterHeight*A.length*N}this.showstatusbar&&(H-=this.statusBarHeight),this.showAggregates&&(H-=this.aggregatesHeight),H<25&&(H=25),"hidden"!=this.hScrollBar[0].style.visibility&&(H-=this.hScrollBar.outerHeight()),("auto"===this.height||null===this.height||this.autoheight)&&(H=300);var T='<td colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+H+"px; height: "+H+"px; max-width:"+y+"px; width:"+y+"px;",r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");r+=" "+this.toTP("jqx-center-align"),T+='" class="'+r+'">',T+=this.gridlocalization.emptydatastring,T+="</td>",P+=T,S+=P,q+=P,this.table[0].style.width=y+2+"px",s=y}for(var O=this.getRows(),E=new Array,p=0;p<l.length;p++){var m=l[p],z=m.uid;void 0===m.uid&&(m.uid=this.dataview.generatekey());var P='<tr data-key="'+z+'" role="row" id="row'+p+this.element.id+'">',L='<tr data-key="'+z+'" role="row" id="row'+p+this.element.id+'">';if(o>0&&m.level<o)var P='<tr data-role="row-group" data-key="'+z+'" role="row" id="row'+p+this.element.id+'">',L='<tr data-role="row-group" data-key="'+z+'" role="row" id="row'+p+this.element.id+'">';for(var F=0,R=0,w=0;w<n;w++){var W=this.columns.records[w];(W.pinned||this.rtl&&this.columns.records[n-1].pinned)&&(M=!0);var _=W.width;_<W.minwidth&&(_=W.minwidth),_>W.maxwidth&&(_=W.maxwidth),_-=x,_<0&&(_=0);var r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");W.pinned&&(r+=" "+this.toTP("jqx-grid-cell-pinned")),this.sortcolumn===W.displayfield&&(r+=" "+this.toTP("jqx-grid-cell-sort")),this.altRows&&p%2!=0&&(r+=" "+this.toTP("jqx-grid-cell-alt")),this.rtl&&(r+=" "+this.toTP("jqx-cell-rtl"));var V="";if(o>0&&m.level<o)if(a)r+=" "+this.toTP("jqx-grid-cell-pinned");else{r+=" "+this.toTP("jqx-grid-cell-pinned"),V+=' colspan="'+n+'"';for(var I=0,U=0;U<n;U++){var Y=i.columns.records[U],G=Y.width;G<Y.minwidth&&(_=Y.minwidth),G>Y.maxwidth&&(_=Y.maxwidth),G-=x,G<0&&(G=0),Y.hidden||(I+=G)}_=I}var T='<td role="gridcell" '+V+' style="max-width:'+_+"px; width:"+_+"px;",$='<td role="gridcell" '+V+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+_+"px; width:"+_+"px;";w==n-1&&1==n&&(T+="border-right-color: transparent;",$+="border-right-color: transparent;");var K=!1;o>0&&m.level<o&&(K=!0),K?this.rtl&&(r+=" "+this.toTP("jqx-right-align")):"left"!=W.cellsalign&&("right"===W.cellsalign?r+=" "+this.toTP("jqx-right-align"):r+=" "+this.toTP("jqx-center-align")),this.rowinfo[m.uid]&&(this.rowinfo[m.uid].selected&&!W.rowDetailscolumn&&this.editKey!==m.uid&&"none"!==this.selectionMode&&(r+=" "+this.toTP("jqx-grid-cell-selected"),r+=" "+this.toTP("jqx-fill-state-pressed")),this.rowinfo[m.uid].locked&&(r+=" "+this.toTP("jqx-grid-cell-locked"))),W.hidden?K||(T+="display: none;",$+="display: none;",this._hiddencolumns=!0):(F+=x+_,0==R&&(T+="border-left-width: 0px;",$+="border-left-width: 0px;"),R++),o>0&&a&&K&&w>=o&&(T+="font-size: 1px; border-color: transparent;  color: transparent;",$+="font-size: 1px; border-color: transparent; color: transparent;"),W.pinned&&(T+="pointer-events: auto;",$+="pointer-events: auto;"),!K&&W.rowDetailscolumn&&(this.rowinfo[m.uid]?this.rowinfo[m.uid].nodetails||(this.rowinfo[m.uid].expanded?(this.rtl?r+=" "+this.toTP("jqx-grid-group-expand-rtl"):r+=" "+this.toTP("jqx-grid-group-expand"),r+=" "+this.toTP("jqx-icon-arrow-down")):this.rtl?(r+=" "+this.toTP("jqx-grid-group-collapse-rtl"),r+=" "+this.toTP("jqx-icon-arrow-left")):(r+=" "+this.toTP("jqx-grid-group-collapse"),r+=" "+this.toTP("jqx-icon-arrow-right"))):this.rtl?(r+=" "+this.toTP("jqx-grid-group-collapse-rtl"),r+=" "+this.toTP("jqx-icon-arrow-left")):(r+=" "+this.toTP("jqx-grid-group-collapse"),r+=" "+this.toTP("jqx-icon-arrow-right"))),(!this.autoRowHeight||this.autoRowHeight&&!W.autoCellHeight)&&(r+=" "+this.toTP("jqx-grid-cell-nowrap "));var X=i._getcellvalue(W,m),J=W.cellsFormat;if(o>0&&m.level<o&&(X=m.label,J=i.getColumn(i.groups[m.level]).cellsFormat),""!=J&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(X)?X=e.jqx.dataFormat.formatdate(X,J,i.gridlocalization):(e.jqx.dataFormat.isNumber(X)||!isNaN(parseFloat(X))&&isFinite(X))&&(X=e.jqx.dataFormat.formatnumber(X,J,i.gridlocalization))),K)this.groupsRenderer&&(X=this.groupsRenderer(X,m,m.level));else{if(""!=W.cellclassname&&W.cellclassname)if("string"==typeof W.cellclassname)r+=" "+W.cellclassname;else{var Z=W.cellclassname(p,W.datafield,X,m);Z&&(r+=" "+Z)}if(""!=W.cellsRenderer&&W.cellsRenderer){var Q=O.indexOf(m);if(-1===Q&&m.originalRecord)var Q=O.indexOf(m.originalRecord);X=W.cellsRenderer(Q,W.datafield,X,m),X&&(X.indexOf("<jqx-")>=0||X.indexOf(" ng-")>=0)&&E.push({rowKey:m.uid,row:Q,column:W.datafield,value:X,columnIndex:w})}}if(T+='" class="'+r+'">',T+=X,T+="</td>",$+='" class="'+r+'">',$+=X,$+="</td>",W.pinned?(L+=T,P+=T):(P+=T,M&&(L+=$)),o>0&&!a&&m.level<o)break}if(0==s&&(this.table[0].style.width=F+2+"px",s=F),P+="</tr>",L+="</tr>",S+=P,q+=L,this.rowinfo[m.uid]?("group"in this.rowinfo[m.uid]||(this.rowinfo[m.uid].group=K),"row"in this.rowinfo[m.uid]||(this.rowinfo[m.uid].row=m),"details"in this.rowinfo[m.uid]||(this.rowinfo[m.uid].details=null),"detailsHeight"in this.rowinfo[m.uid]||(this.rowinfo[m.uid].detailsHeight=200),"initialized"in this.rowinfo[m.uid]||(this.rowinfo[m.uid].initialized=!1),"expanded"in this.rowinfo[m.uid]||(this.rowinfo[m.uid].expanded=!1)):this.rowinfo[m.uid]={group:K,row:m,details:null,detailsHeight:200,initialized:!1,expanded:!1},this.serverProcessing&&(this.rowinfo[m.uid].row=m),this.rowDetails){var ee=this.rowinfo[m.uid].detailsHeight;if(this.rowinfo[m.uid])if(this.rowinfo[m.uid].expanded)var te='<tr data-role="row-details"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+ee+"px; max-height: "+ee+"px; height: "+ee+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else var te='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+ee+"px; max-height: "+ee+"px; height: "+ee+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else var te='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+ee+"px; max-height: "+ee+"px; height: "+ee+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';var r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");r+=" "+this.toTP("jqx-details"),r+=" "+this.toTP("jqx-reset"),te+='" class="'+r+'"><div style="pointer-events: auto; overflow: hidden; min-height: '+ee+"px; max-height: "+ee+"px; height: "+ee+'px;"><div data-role="details"></div></div></td></tr>',S+=te,q+=te}}if(S+="</table>",q+="</table>",M){i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(q+S)}):i.table[0].innerHTML=q+S;var ie=this.table.find("#table"+this.element.id),se=this.table.find("#pinnedtable"+this.element.id);if(se.css("float","left"),se.css("pointer-events","none"),ie.css("float","left"),se[0].style.position="absolute",ie[0].style.position="relative",ie[0].style.zIndex=v-10,se[0].style.zIndex=v+10,this._table=ie,this._table[0].style.left="0px",this._pinnedTable=se,this._pinnedTable[0].style.left="0px",this._pinnedTable[0].style.width=s+"px",this._table[0].style.width=s+"px",this.rtl&&s>parseInt(this.element.style.width)&&this._haspinned&&(this._pinnedTable[0].style.left=3-s+parseInt(this.element.style.width)+"px"),this.rowDetails)for(var p=0;p<g;p++){var m=l[p],z=m.uid;if(this.rowinfo[z].details){var re=e(this._table.children()[1]).children("[data-key="+z+"]"),ne=e(this._pinnedTable.children()[1]).children("[data-key="+z+"]");if(re){var ae=ne.next(),oe=e(e(ae).children().children());oe.children().detach(),oe.append(this.rowinfo[m.uid].details)}}}}else{i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(S)}):i.table[0].innerHTML=S;var U=this.table.find("#table"+this.element.id);this._table=U,e.jqx.browser.msie&&e.jqx.browser.version<10&&(this._table[0].style.width=s+"px"),0===g&&(this._table[0].style.width=2+s+"px")}if(0===g&&(this._table[0].style.tableLayout="auto",this._pinnedTable&&(this._pinnedTable[0].style.tableLayout="auto")),E&&E.length>0){this._table[0].rows;e.each(E,function(){var t=(this.row,this.rowKey),s=(this.column,this.columnIndex),r=i._getuirow(t);if(r){var n=r[0].cells[s];e.jqx.angularCompile&&e.jqx.angularCompile(n,"<div>"+n.innerHTML+"</div>")}})}this.rendered&&this.rendered()}},getcolumnindex:function(e){var t=this.getColumn(e);return this.columns.records.indexOf(t)},setcolumnindex:function(t,i,s){var r=this.getColumn(t);if(!(r.pinned||r.hidden||r.checkboxcolumn||r.grouped)){var n=this.columns.records.indexOf(r);this.columns.records.splice(n,1),this.columns.records.splice(i,0,r);var a=0,o=this.headerZIndex;this.columnsrow.children().detach();var l=this.toThemeProperty("jqx-grid-cell");l+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),l+=" "+this.toThemeProperty("jqx-item");var h=this;if(void 0!=h.filterrow){e(h.filterrow.children()[0])}this.columnsrow[0].cells=[];var d=!1;if(e.each(this.columns.records,function(e,t){var i=this.uielement;h.columnsrow.append(i),h.rtl?i.css("z-index",o++):i.css("z-index",o--);var s=h.rtl?250+o+1:250+o-1;this.pinned&&i.css("z-index",s);var r=this.width;i.css("left",a),h.columnsrow[0].cells[h.columnsrow[0].cells.length]=i[0],this.hidden&&(d=!0),this.hidden&&this.hideable||(a+=r)}),this.groupable){var c=this.groups.length;c>0&&n-c>=0&&(n-=c,i-=c)}this.rowDetails&&n-1>=0&&(n--,i--),"checkbox"==this.selectionMode&&n-1>=0&&(n--,i--);var r=this._columns[n];this._columns.splice(n,1),this._columns.splice(i,0,r),this.resize(),this._rendercolumnGroups(),this._raiseEvent("columnReordered",{dataField:r.datafield,oldIndex:n,newIndex:i})}},_pinnedColumnsLength:function(){var t=0;return e.each(this.columns.records,function(){this.pinned&&t++,this.grouped&&t++}),this.rowDetails&&t++,"checkbox"==this.selectionMode&&t++,t},_handlecolumnsReorder:function(){var t=this,i=-1,s=!1;if(t.columnsReorder){var r="mousemove.reorder"+this.element.id,n="mousedown.reorder"+this.element.id,a="mouseup.reorder"+this.element.id,o=!1;this.isTouchDevice()&&!0!==this.touchmode&&(o=!0,r=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,a=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(r){if(t.resizing)return!0;if(null!=t.reordercolumn){var n=parseInt(r.pageX),a=parseInt(r.pageY);if(o){var l=t.getTouches(r),h=l[0];void 0!=h&&(n=parseInt(h.pageX),a=parseInt(h.pageY))}var d=t.host.coord(),c=parseInt(d.left),u=parseInt(d.top);void 0!=t.dragmousedownoffset&&null!=t.dragmousedownoffset||(t.dragmousedownoffset={left:0,top:0});var f=parseInt(n)-parseInt(t.dragmousedownoffset.left),p=parseInt(a)-parseInt(t.dragmousedownoffset.top);if(t.reordercolumn.css({left:f+"px",top:p+"px"}),s=!1,n>=c&&n<=c+t.host.width()&&a>=u&&a<=u+t.host.height()&&(s=!0),i=-1,s){t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"));var m=t.columnsheader.coord(),g=m.top+t.columnsheader.height();if(null!=t.columnsdropline)if(a>=m.top&&a<=g){if(i=t._handlereordercolumnsdroplines(n),t.columnGroups&&-1!=i){var v=0;v+=t._pinnedColumnsLength();var x=i.index;if(x>=v){var y=t.columns.records[x];if(void 0!=y){var w=t.columns.records.indexOf(t.getColumn(y.datafield));if(null==y.datafield)var w=t.columns.records.indexOf(t.getcolumnbytext(y.text));var b=e.data(t.reordercolumn[0],"reorderrecord"),_=t.columns.records.indexOf(t.getColumn(b)),T=y;if(_<w&&"before"==i.position&&(T=t.columns.records[w-1]),T.columngroup!=t.getColumn(b).columngroup)return void t.columnsdropline.hide()}}}}else t.columnsdropline.fadeOut("slow")}else null!=t.columnsdropline&&t.columnsdropline.fadeOut("slow"),t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));if(r.preventDefault&&(r.preventDefault(),r.stopPropagation()),o)return r.preventDefault(),r.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(e(document),n),this.addHandler(e(document),n,function(i){if(t.resizing)return!0;t.columnsbounds=new Array;var s=t.host.coord().left,r=t.host.coord().top;t.showtoolbar&&(r+=t.toolbarHeight),t.filter&&(r+=t.filter.height());var n=0;e.each(t.columns.records,function(i){var a=this;if(a.hidden)return t.columnsbounds[t.columnsbounds.length]={top:r,column:a,left:s,width:0,height:2},!0;0==n&&(s=t.rtl?parseInt(t.host.coord().left)-t.hScrollInstance.max+t.hScrollInstance.value:parseInt(t.host.coord().left)-t.hScrollInstance.value),n++;var o=2+t.columnsHeight
;t.columnshierarchy&&(r=e(a.uielement).coord().top,o=e(a.uielement).height()),t.columnsbounds[t.columnsbounds.length]={top:r,column:a,left:s,width:a.width,height:o},s+=a.width})}),this.removeHandler(e(document),a),this.addHandler(e(document),a,function(r){if(t.resizing)return!0;t.__drag=!1,e(document.body).removeClass("jqx-disableselect");parseInt(r.pageX),parseInt(r.pageY);if(o){var n=t.getTouches(r),a=n[0];parseInt(a.pageX),parseInt(a.pageY)}var l=t.host.coord(),h=(parseInt(l.left),parseInt(l.top));if(t.showtoolbar&&(h+=t.toolbarHeight),t.columndragstarted=!1,t.dragmousedown=null,null!=t.reordercolumn){var d=e.data(t.reordercolumn[0],"reorderrecord"),c=t.columns.records.indexOf(t.getColumn(d));t.reordercolumn.remove(),t.reordercolumn=null;var u=0;if(u+=t._pinnedColumnsLength(),null!=d){if(s&&-1!=i){var f=i.index;if(f>=u){var p=t.columns.records[f];if(void 0!=p){var m=t.columns.records.indexOf(t.getColumn(p.datafield));if(null==p.datafield)var m=t.columns.records.indexOf(t.getcolumnbytext(p.text));if(t.columnGroups){var g=p;if(c<m&&"before"==i.position&&(g=t.columns.records[m-1]),g.columngroup!=t.getColumn(d).columngroup)return void(null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null))}c<m?"before"==i.position?t.setcolumnindex(d,m-1):t.setcolumnindex(d,m):c>m&&t.setcolumnindex(d,m)}}}null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null)}}})}},getcolumnbytext:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){if(this.text==t)return i=this,!1}),i},_handlereordercolumnsdroplines:function(t){var i=this,s=-1,r=i._pinnedColumnsLength(),n=parseInt(i.host.coord().left),a=n+i.host.width(),o="hidden"!=i.vScrollBar.css("visibility")?19:0;return i.rtl||(o=0),e.each(i.columnsbounds,function(e){if(e>=r){if(0==this.width)return!0;if(t<=this.left+this.width/2)return t>a?(i.columnsdropline.fadeOut(),!1):(i.columnsdropline.css("left",o+parseInt(this.left)+"px"),i.columnsdropline.css("top",parseInt(this.top)+"px"),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),s={index:e,position:"before"},!1);if(t>=this.left+this.width/2){if(this.left+this.width>a)return i.columnsdropline.fadeOut(),!1;i.columnsdropline.css("left",o+1+this.left+this.width),i.columnsdropline.css("top",this.top),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),s={index:e,position:"after"}}}}),s},_createreordercolumn:function(t,i,s){var r=this,n=i;r.reordercolumn&&r.reordercolumn.remove(),r.columnsdropline&&r.columnsdropline.remove(),r.reordercolumn=e("<div></div>");var a=t.clone();r.reordercolumn.css("z-index",999999),a.css("border-width","1px"),a.css("opacity","0.4");var o=e(a.find("."+r.toThemeProperty("jqx-grid-column-menubutton")));o.length>0&&o.css("display","none");var l=e(a.find(".jqx-icon-close"));l.length>0&&l.css("display","none"),r.reordercolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),r.reordercolumnicon.addClass(r.toThemeProperty("jqx-grid-drag-icon")),r.reordercolumn.css("float","left"),r.reordercolumn.css("position","absolute");r.host.coord();a.width(t.width()+16),r.reordercolumn.append(a),r.reordercolumn.height(t.height()),r.reordercolumn.width(a.width()),r.reordercolumn.append(r.reordercolumnicon),e(document.body).append(r.reordercolumn),a.css("margin-left",0),a.css("left",0),a.css("top",0),r.reordercolumn.css("left",n.left+r.dragmousedown.left),r.reordercolumn.css("top",n.top+r.dragmousedown.top),void 0!=s&&s&&(r.columnsdropline=e('<div style="z-index: 9999; display: none; position: absolute;"></div>'),r.columnsdropline.width(2),r.columnsdropline.addClass(r.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(r.columnsdropline))},_handlecolumnsdragreorder:function(t,i){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var s,r=this,n=!1;this.isTouchDevice()&&!0!==this.touchmode&&(n=!0);var a="mousedown.drag",s="mousemove.drag";n?(a=e.jqx.mobile.getTouchEventName("touchstart")+".drag",s=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,a,function(i){if(0==t.draggable)return!0;if(r.resizing)return!0;r.__drag=!0;var s=i.pageX,a=i.pageY;if(n){var o=r.getTouches(i),l=o[0];s=l.pageX,a=l.pageY}r.dragmousedown={left:s,top:a};var h=e(i.target).coord();return r.dragmousedownoffset={left:parseInt(s)-parseInt(h.left),top:parseInt(a-h.top)},i.preventDefault&&i.preventDefault(),!0}),this.addHandler(i,s,function(a){if(!t.draggable)return!0;if(void 0==t.datafield)return!0;if(t.pinned)return!0;if(r.resizing)return!0;if(r.dragmousedown){var o=a.pageX,l=a.pageY;if(n){var h=r.getTouches(a),d=h[0];void 0!=d&&(o=d.pageX,l=d.pageY)}if(s={left:o,top:l},!r.columndragstarted&&null==r.reordercolumn){var c=Math.abs(s.left-r.dragmousedown.left),u=Math.abs(s.top-r.dragmousedown.top);(c>3||u>3)&&(r._createreordercolumn(i,s,!0),e(document.body).addClass("jqx-disableselect"),e.data(r.reordercolumn[0],"reorderrecord",t.datafield))}}})},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_handlecolumnsResize:function(){var t=this;if(this.columnsResize){var i=!1;t.isTouchDevice()&&(i=!0);var s="mousemove.resize"+this.element.id,r="mousedown.resize"+this.element.id,n="mouseup.resize"+this.element.id;if(i)var s=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,r=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),s),this.addHandler(e(document),s,function(s){if(null!=t.resizablecolumn&&!t.disabled&&t.resizing&&null!=t.resizeline){var r=(t.resizablecolumn.columnelement,t.host.coord()),n=parseInt(t.resizestartline.coord().left),a=n-t._startcolumnwidth,o=t.resizablecolumn.column.minwidth;o="auto"==o?0:parseInt(o);var l=t.resizablecolumn.column.maxwidth;l="auto"==l?0:parseInt(l);var h=s.pageX;if(i){h=e.jqx.mobile.getTouches(s)[0].pageX}a+=o;var d=l>0?n+l:0,c=0==l||t._startcolumnwidth+h-n<l;if(t.rtl)var c=!0;if(c)if(t.rtl){if(h>=r.left&&h<=r.left+t.host.width()&&(t.resizeline.css("left",h),i))return!1}else if(h>=r.left&&h>=a&&(0!=d&&s.pageX<d?t.resizeline.css("left",h):0==d&&t.resizeline.css("left",h),i))return!1}if(!i&&null!=t.resizablecolumn)return!1}),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(i){if(null!=t.resizablecolumn&&!t.disabled){var s=t.resizablecolumn.columnelement;if(s.coord().top+s.height()+5<i.pageY)return void(t.resizablecolumn=null);if(s.coord().top-5>i.pageY)return void(t.resizablecolumn=null);t._startcolumnwidth=t.resizablecolumn.column.width,t.resizablecolumn.column._width=null,e(document.body).addClass("jqx-disableselect"),e(document.body).addClass("jqx-position-reset"),t._mouseDownResize=new Date,t.resizing=!0,t._resizecolumn=t.resizablecolumn.column,t.resizeline=t.resizeline||e('<div style="position: absolute;"></div>'),t.resizestartline=t.resizestartline||e('<div style="position: absolute;"></div>'),t.resizebackground=t.resizebackground||e('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),t.resizebackground.css("opacity",.01),t.resizebackground.css("cursor","col-resize"),t.resizeline.css("cursor","col-resize"),t.resizestartline.css("cursor","col-resize"),t.resizeline.addClass(t.toThemeProperty("jqx-grid-column-resizeline")),t.resizestartline.addClass(t.toThemeProperty("jqx-grid-column-resizestartline")),e(document.body).append(t.resizeline),e(document.body).append(t.resizestartline),e(document.body).append(t.resizebackground);var r=t.resizablecolumn.columnelement.coord();t.resizebackground.css("left",t.host.coord().left),t.resizebackground.css("top",t.host.coord().top),t.resizebackground.width(t.host.width()),t.resizebackground.height(t.host.height()),t.resizebackground.css("z-index",999999999);var n=function(e){t.rtl?e.css("left",parseInt(r.left)):e.css("left",parseInt(r.left)+t._startcolumnwidth);var i=0;i+=t.showtoolbar?t.toolbarHeight:0,i+=t.showstatusbar?t.statusBarHeight:0,i+=t.showAggregates?t.aggregatesHeight:0,t.pageable&&"bottom"!=t.pagerPosition&&(i+=t.pagerHeight),t.filterable&&(i+=t.filter.height());var s=0;t.pageable&&"top"!=t.pagerPosition&&(s=t.pagerHeight);var n="hidden"!=t.hScrollBar.css("visibility")?t.scrollBarSize:0;e.css("top",parseInt(r.top)),e.css("z-index",9999999999),t.columnGroups?e.height(t.host.height()+t.resizablecolumn.columnelement.height()-s-i-n-t.columnGroupslevel*t.columnsHeight):e.height(t.host.height()-s-i-n),e.show("fast")};n(t.resizeline),n(t.resizestartline),t.dragmousedown=null}});var a=function(){if(e(document.body).removeClass("jqx-disableselect"),e(document.body).removeClass("jqx-position-reset"),t.resizing){t._mouseUpResize=new Date;if(t._mouseUpResize-t._mouseDownResize<200)return t.resizing=!1,void(null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")&&(t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove()));if(t.resizing=!1,!t.disabled){var i=t.host.width();if("hidden"!=t.vScrollBar[0].style.visibility&&(i-=20),i<0&&(i=0),null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")){var s=parseInt(t.resizeline.css("left")),r=parseInt(t.resizestartline.css("left")),n=t._startcolumnwidth+s-r;if(t.rtl)var n=t._startcolumnwidth-s+r;var a=t._resizecolumn.width;t._resizecolumn.width=n,void 0!=t._resizecolumn._percentagewidth&&(t._resizecolumn._percentagewidth=n/i*100);for(var o=0;o<t._columns.length;o++)if(t._columns[o].datafield===t._resizecolumn.datafield){t._columns[o].width=t._resizecolumn.width;break}var l=(t.hScrollBar[0].style.visibility,t._resizecolumn.displayfield);t._updatecolumnwidths(),t.refresh(),t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null,t._raiseEvent("columnResized",{dataField:l,oldWidth:a,newWidth:n})}else t.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var o=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(o=document.referrer),o&&-1!=o.indexOf(document.location.host)){var l=function(e){a()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l)}}}catch(e){}this.removeHandler(e(document),n),this.addHandler(e(document),n,function(i){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0;a()})}},_updatecolumnwidths:function(){var t=this.host.width(),i=t;"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(t-=parseInt(this.scrollBarSize)+6,i=t);var s="";if(void 0!=this.columns&&void 0!=this.columns.records){var r=this,n=!1;e.each(this.columns.records,function(e,n){if(!this.hidden)if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){var n=0;"hidden"==r.vScrollBar[0].style.visibility||r.scrollBarSize;0==r.scrollBarSize&&0,n=parseFloat(this.width)*i/100,void 0!=this._percentagewidth&&(n=parseFloat(this._percentagewidth)*i/100),n<this.minwidth&&"auto"!=this.minwidth&&(n=this.minwidth),n>this.maxwidth&&"auto"!=this.maxwidth&&(n=this.maxwidth),t-=Math.round(n)}else"auto"==this.width||this._width?s+=this.text:t-=this.width});var a=this.columnsheader.find("#columntable"+this.element.id);if(0!=a.length){var o=0,l=a.find(".jqx-grid-column-header"),h=0;e.each(this.columns.records,function(a,d){var c=e(l[a]),u=!1,f=this.width,p=this.width;if(-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(f=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,f=Math.round(f),u=!0),"auto"==this.width||this._width||u)if(u)f<this.minwidth&&"auto"!=this.minwidth&&(f=this.minwidth,this.width=f),f>this.maxwidth&&"auto"!=this.maxwidth&&(f=this.maxwidth,this.width=f),parseInt(c[0].style.width)!=f&&(c.width(f),this.width=f);else{var m=Math.floor(t*(this.text.length/s.length));isNaN(m)&&(m=this.minwidth);var g=t*(this.text.length/s.length)-m;o+=g,o>=1&&(o-=1,m++),o>=.5&&a==r.columns.records.length-1&&m++,m<0&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),m=10+$element.width(),$element.remove()),m<this.minwidth&&(m=this.minwidth),m>this.maxwidth&&(m=this.maxwidth),this._width="auto",this.width=m,c.width(this.width)}else parseInt(c[0].style.width)!=this.width&&c.width(this.width);parseInt(c[0].style.left)!=h&&c.css("left",h),this.hidden||(h+=this.width),this._requirewidthupdate=!0,p!==this.width&&(n=!0)}),this.columnsheader.width(2+h),a.width(this.columnsheader.width()),this._resizecolumnGroups(),n&&this._renderrows(),this.showAggregates&&this._refreshcolumnsaggregates()}}},_rendercolumnheaders:function(){var t=this;if(!this._updating){this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');i[0].cells=new Array;var s=0,r="",n=this.host.width(),a=n,o=new Array,l=new Array;if(e.each(this.columns.records,function(e,i){if(!this.hidden)if("auto"==this.width||this._width)r+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)n-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)n-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){var i=0;i=parseFloat(this.width)*a/100,i<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),n-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),n-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),o[o.length]=this):l[l.length]=this}),this.rtl){var h=0;o.reverse();for(var d=this.columns.records.length-1;d>=this.columns.records.length-o.length;d--)this.columns.replace(d,o[h++]);for(var c=0;c<l.length;c++)this.columns.replace(c,l[c])}else{for(var d=0;d<o.length;d++)this.columns.replace(d,o[d]);for(var c=0;c<l.length;c++)this.columns.replace(o.length+c,l[c])}var u=this.headerZIndex,f=t.columnsHeight,p=function(e,i){var s=t.columnGroupslevel*t.columnsHeight;return s-=i.level*t.columnsHeight},m=0;e.each(this.columns.records,function(o,l){this.height=t.columnsHeight,t.columnGroups&&t.columnGroups.length&&(this.height=p(this.datafield,this),f=this.height);var h=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(h+=" "+t.toTP("jqx-grid-column-header-rtl")),t.enableBrowserSelection||(h+=" "+t.toTP("jqx-disableselect"));var d=self.rtl?250+u+1:250+u-1,c=t.rtl?u++:u--,g=e('<div role="columnheader" style="z-index: '+c+';position: absolute; height: 100%;" class="'+h+'"><div style="height: 100%; width: 100%;"></div></div>');t.rtl&&0===o&&(g[0].style.borderLeftColor="transparent"),t.columnGroups&&(g[0].style.height=f+"px",g[0].style.bottom="0px",this.pinned&&(g[0].style.zIndex=d)),this.uielement=g,this.element=g,""!=this.classname&&this.classname&&g.addClass(this.classname);var v=this.width,x=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(v=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*a/100:parseFloat(this.width)*a/100,v=Math.round(v),x=!0),"auto"==this.width||this._width||x)if(x)v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),void 0!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),g.width(v),this.width=v;else{var y=Math.floor(n*(this.text.length/r.length)),w=n*(this.text.length/r.length)-y;m+=w,m>=1&&(m-=1,y++),m>=.5&&o==t.columns.records.length-1&&y++,isNaN(y)&&(y=this.minwidth),y<0&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),y=10+$element.width(),$element.remove()),y<this.minwidth&&(y=this.minwidth),y>this.maxwidth&&(y=this.maxwidth),this._width="auto",this.width=parseInt(y),v=this.width,g.width(this.width)}else v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),g[0].style.width=parseInt(v)+"px";this.hidden&&g.css("display","none");var b=e(g.children()[0]);i[0].cells[o]=g[0];var _=null!=this.renderer?this.renderer(this.text,this.align,f):t._rendercolumnheader(this.text,this.align,f,t);if(null==_&&(_=t._rendercolumnheader(this.text,this.align,f,t)),null!=this.renderer&&(_=e(_)),!0,t.WinJS?MSApp.execUnsafeLocalFunction(function(){b.append(e(_))}):this.renderer?b.append(e(_)):_&&(b[0].innerHTML=_),null!=_){var T=e('<div class="iconscontainer" style="height: '+f+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+f+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+f+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+f+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+'" style="width: 100%; height:100%;"></div></div></div>');b.append(T);var j=T.children();this.sortasc=j[1],this.sortdesc=j[2],this.filtericon=j[0],this.iconscontainer=T,t.rtl&&(T.css("margin-left","0px"),T.css("left","0px"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left"))}i.append(g),t.columnsReorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,g);var C=this;if(t.addHandler(g,"click",function(e){if(C.checkboxcolumn)return!0;t._togglesort&&(t._loading||t._togglesort(C)),e.preventDefault()}),t.columnsResize){var S=!1,q="mousemove";t.isTouchDevice()&&(S=!0,q=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(g,q,function(i){if(!C.resizable)return t.resizablecolumn=null,!0;var s=parseInt(i.pageX),r=5,n=parseInt(g.coord().left);if(t.hasTransform&&(n=e.jqx.utilities.getOffset(g).left),t._handlecolumnsResize){if(S){return s=e.jqx.mobile.getTouches(i)[0].pageX,r=40,s>=n+C.width-r?(t.resizablecolumn={columnelement:g,column:C},g.css("cursor","col-resize")):(g.css("cursor",""),t.resizablecolumn=null),!0}var a=C.width;if(t.rtl&&(a=0),s>=n+a-r){if(s<=n+a+r)return t.resizablecolumn={columnelement:g,column:C},g.css("cursor","col-resize"),!1;g.css("cursor",""),t.resizablecolumn=null}else g.css("cursor",""),s<n+a-r&&(C._animating||C._menuvisible||g.mouseenter()),t.resizablecolumn=null}})}if(g.css("left",s),this.hidden||(s+=v),C.rendered){C.rendered(e(b[0].firstChild),C.align,f)&&null!=T&&T.hide()}}),s>0?this.columnsheader.width(2+s):this.columnsheader.width(s),this.columnsrow=i,t.columnsheader.append(i),i.width(s),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsReorder&&this._handlecolumnsReorder(),this._handlecolumnsResize&&this._handlecolumnsResize(),this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++;var s=this.headerZIndex-t+this.columns.records.length,r=this,n=r.toTP("jqx-grid-column-header")+" "+r.toTP("jqx-grid-columngroup-header")+" "+r.toTP("jqx-widget-header");r.rtl&&(n+=" "+r.toTP("jqx-grid-columngroup-header-rtl"));var a=this.columnsheader.find("#columntable"+this.element.id);a.find("jqx-grid-columngroup-header").remove();for(var o=0;o<this.columnGroupslevel-1;o++)for(var i=0;i<this.columnGroups.length;i++){var l=this.columnGroups[i],h=l.level;if(h===o){var d=h*this.columnsHeight,c=99999;if(l.groups){var u=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=u(s):s.hidden||(t+=s.width,c=Math.min(parseInt(s.element[0].style.left),c))}return t};l.width=u(l),l.left=c;var f=this.columnsHeight,p=s--,m=e('<div role="columnheader" style="z-index: '+p+';position: absolute;" class="'+n+'"></div>'),g=e(this._rendercolumnheader(l.text,l.align,this.columnsHeight,this));m.append(g),m[0].style.left=c+"px",0===c&&(m[0].style.borderLeftColor="transparent"),m[0].style.top=d+"px",m[0].style.height=f+"px",m[0].style.width=-1+l.width+"px",a.append(m),l.element=m}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e],i=t.level,s=i*this.columnsHeight,r=99999;if(t.groups){var n=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=n(s):s.hidden||(t+=s.width,r=Math.min(parseInt(s.element[0].style.left),r))}return t};t.width=n(t),t.left=r;var a=this.columnsHeight,o=t.element;o[0].style.left=r+"px",o[0].style.top=s+"px",o[0].style.height=a+"px",o[0].style.width=-1+t.width+"px"}}},_removecolumnhandlers:function(t){var i=this,s=e(t.element);if(s.length>0){i.removeHandler(s,"mouseenter"),i.removeHandler(s,"mouseleave");var r=e(t.filtericon);i.removeHandler(r,"mousedown"),i.removeHandler(r,"click"),i.removeHandler(s,"click")}},_calculateaggregate:function(e,t,i,s){if(!e.datafield)return null;var r=e.aggregates;if(r||(r=t),r){for(var n=new Array,a=0;a<r.length;a++)"count"!=r[a]&&(n[n.length]=e.cellsFormat);if(this.source&&this.source.getAggregatedData){void 0==s&&(s=this.getRows(),this.dataViewRecords&&(s=this.dataViewRecords));var o=s,l=-1;if(this.treeGrid){var h=new Array,d=function(e){for(var t=0;t<e.length;t++)void 0!=e[t]&&(-1==l&&(l=e[t].level),e[t].aggregate||h.push(e[t]),!e[t].leaf&&e[t].records&&e[t].records.length>0&&d(e[t].records))};d(s),s=h}if(this.treeGrid&&this.filterable&&this.dataview.filters.length>0){for(var c=new Array,a=0;a<s.length;a++)s[a]&&!1!==s[a]._visible&&c.push(s[a]);s=c;for(var u=new Array,a=0;a<o.length;a++)o[a]&&!1!==o[a]._visible&&u.push(o[a]);o=u}if(void 0==i||1==i){var f=this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:n}],this.gridlocalization,s,l);if(this.treeGrid){var p=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0;if((0==p||l>=p)&&f&&(void 0!=f[e.datafield].sum||void 0!=f[e.datafield].avg)){var m=this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:n}],this.gridlocalization,o,l);void 0!=f[e.datafield].sum&&(f[e.datafield].sum=m[e.datafield].sum),void 0!=f[e.datafield].avg&&(f[e.datafield].avg=m[e.datafield].avg)}}return f}var f=this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,s,l);if(this.treeGrid&&f&&(void 0!=f[e.datafield].sum||void 0!=f[e.datafield].avg)){var p=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0;if(0==p||l>=p){var m=this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,o,l);void 0!=f[e.datafield].sum&&(f[e.datafield].sum=m[e.datafield].sum),void 0!=f[e.datafield].avg&&(f[e.datafield].avg=m[e.datafield].avg)}}return f}}return null},getcolumnaggregateddata:function(e,t,i,s){var r=this.getColumn(e);if(!r)return"";var n=void 0!=i&&0!=i&&i;if(null==t)return"";var a=r.aggregates;r.aggregates=null;var o=this._calculateaggregate(r,t,n,s),l={};return o&&(l=o[e],r.aggregates=a),l},_updatecolumnaggregates:function(t,i,s){var r=this;if(i)if(s.children().remove(),s.html(""),t.aggregatesRenderer){if(i){var n=t.aggregatesRenderer(i[t.datafield],t,s,this.getcolumnaggregateddata(t.datafield,t.aggregates),"aggregates");s.html(n)}}else e.each(i,function(){var t=this;for(a in t){var i=e('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),n=a;n=r._getaggregatename(n),i.html(n+":"+t[a]),r.rtl&&i.addClass(r.toThemeProperty("jqx-rtl")),s.append(i)}});else if(s.children().remove(),s.html(""),t.aggregatesRenderer){var a={};t.aggregates&&(a=this.getcolumnaggregateddata(t.datafield,t.aggregates));var n=t.aggregatesRenderer({},t,s,null);s.html(n)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var i in e){t=i;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var t=this.getRows();this.dataViewRecords&&(t=this.dataViewRecords);var i=this.columns.records.length;if(void 0!=this.aggregates[0].cells)for(var s=0;s<i;s++){var r=e(this.aggregates[0].cells[s]),n=this.columns.records[s],a=this._calculateaggregate(n,null,!0,t);this._updatecolumnaggregates(n,a,r)}},_refreshcolumnsaggregates:function(){var t=this.columns.records.length;if(void 0!=this.aggregates[0].cells)for(var i=0,s=0;s<t;s++){var r=e(this.aggregates[0].cells[s]),n=this.columns.records[s];r&&(r.width(n.width),r[0].style.left=i+"px",n.hidden&&n.hideable?r.css("display","none"):i+=n.width)}},_updateaggregates:function(){var t=e('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),i=0,s=this.columns.records.length,r=this.toThemeProperty("jqx-grid-cell");this.rtl&&(r+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),i=0,t.css("border-left-width","0px"),this.aggregates.css("border-left-color","transparent")),r+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var n=s+10,a=new Array;this.aggregates[0].cells=a;for(var o=0;o<s;o++){var l=this.columns.records[o],h=this._calculateaggregate(l),d=l.width;d<l.minwidth&&(d=l.minwidth),d>l.maxwidth&&(d=l.maxwidth);var c=r;l.cellsalign&&(c+=" "+this.toThemeProperty("jqx-"+l.cellsalign+"-align"));var u=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+c+'"></div>');t.append(u),u.css("left",i),this.rtl?(u.css("z-index",n++),0==o&&u.css("border-left-width","0px")):u.css("z-index",n--),u.width(d),u[0].style.left=i+"px",l.hidden&&l.hideable?u.css("display","none"):i+=d,a[a.length]=u[0],this._updatecolumnaggregates(l,h,u)}e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",n--),t.width(parseInt(i)+2),t.height(this.aggregatesHeight),this.aggregates.children().remove(),this.aggregates.append(t),this.aggregates.removeClass(this.toThemeProperty("jqx-widget-header")),this.aggregates.addClass(r),this.aggregates.css("border-bottom-color","transparent"),this.aggregates.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll()},destroy:function(){var t=this;if(t.columns&&t.columns.records)for(var i=0;i<t.columns.records.length;i++)t._removecolumnhandlers(t.columns.records[i]);t.removeHandler(e(document),"mouseup.pagerbuttonstop"),t.removeHandler(e(document),"mouseup.pagerbuttonsbottom"),t.removeHandler(t.content,"scroll"),t.removeHandler(t.content,"mousedown"),t.removeHandler(e(document),"mousedown.gridedit"+t.element.id);var s="mousemove.resize"+t.element.id,r="mousedown.resize"+t.element.id,n="mouseup.resize"+t.element.id;t.removeHandler(e(document),s),t.removeHandler(e(document),r),t.removeHandler(e(document),n);var s="mousemove.reorder"+t.element.id,r="mousedown.reorder"+t.element.id,n="mouseup.reorder"+t.element.id;if(t.removeHandler(e(document),s),t.removeHandler(e(document),r),t.removeHandler(e(document),n),t.filterable){if(t.filterrow)for(var i=0;i<t.filterrow[0].cells.length;i++){var a=t.filterrow[0].cells[i],o=e(a).find(".filterconditions");t.columns.records[i];o.length>0&&o.jqxDropDownList("destroy")}t.filtercolumnsList&&t.filtercolumnsList.jqxDropDownList("destroy")}if(t.pageable){t.pagershowrowscombotop&&t.pagershowrowscombotop.jqxDropDownList&&t.pagershowrowscombotop.jqxDropDownList("destroy"),t.pagershowrowscombobottom&&t.pagershowrowscombobottom.jqxDropDownList&&t.pagershowrowscombobottom.jqxDropDownList("destroy");var l=t.pagerbuttonsbottom.find("a");t.removeHandler(l,"click"),t.removeHandler(l,"mouseenter"),t.removeHandler(l,"mouseleave"),l.remove();var l=t.pagerbuttonstop.find("a");t.removeHandler(l,"click"),t.removeHandler(l,"mouseenter"),t.removeHandler(l,"mouseleave"),l.remove(),t.pagernexttop&&(t.pagernexttop.jqxButton("destroy"),t.pagerprevioustop.jqxButton("destroy"),t.pagernextbottom.jqxButton("destroy"),t.pagerpreviousbottom.jqxButton("destroy"),t.pagerfirsttop.jqxButton("destroy"),t.pagerfirstbottom.jqxButton("destroy"),t.pagerlasttop.jqxButton("destroy"),t.pagerlastbottom.jqxButton("destroy"))}t._removeHandlers(),t.vScrollBar.jqxScrollBar("destroy"),t.hScrollBar.jqxScrollBar("destroy"),delete t.vScrollBar,delete t.hScrollBar,delete t._mousewheelfunc,e.jqx.utilities.resize(t.host,null,!0),t.host.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(t,i,s,r){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&r!==s)if("filterable"==i)t._render();else if("height"===i)t.host.height(t.height),t.host.width(t.width),t._updatesize(!1,!0);else if("width"===i)t.host.height(t.height),t.host.width(t.width),t._updatesize(!0,!1);else if("source"===i)t.updateBoundData();else if("columns"===i||"columnGroups"===i)t._columns=null,t._render();else if("rtl"===i)t.content.css("left",""),t.columns=t._columns,t.vScrollBar.jqxScrollBar({rtl:r}),t.hScrollBar.jqxScrollBar({rtl:r}),t._render();else if("pagerMode"===i)t.pagerMode=r,t._initpager();else if("pageSizeOptions"==i){t._initpager();for(var n=!1,a=0;a<r.length;a++)if(parseInt(r[a])==t.pageSize){n=!0;break}n||e.jqx.set(t,[{pageSize:r[0]}])}else if("pageSize"==i){var o=t.dataview.pagenum*t.dataview.pagesize;t.dataview.pagesize=t.pageSize;var l=Math.floor(o/t.dataview.pagesize);if(l!==t.dataview.pagenum||parseInt(r)!==parseInt(s)){t._raiseEvent("pageSizeChanged",{pagenum:r,oldpageSize:s,pageSize:t.dataview.pagesize});var h=t.goToPage(l);h||(t.serverProcessing?t.updateBoundData("pager"):t.refresh())}}else if("pagerPosition"===i)t.refresh();else if("selectionMode"===i)t.selectionMode=r.toLowerCase();else if("touchmode"==i)t.touchDevice=null,t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._renderrows(),t._addHandlers();else{if("enableHover"==i)return;if("disabled"==i)r?t.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),t.pageable&&(t.pagernexttop&&(t.pagernexttop.jqxButton({disabled:r}),t.pagerprevioustop.jqxButton({disabled:r}),t.pagernextbottom.jqxButton({disabled:r}),t.pagerpreviousbottom.jqxButton({disabled:r}),t.pagerfirsttop.jqxButton({disabled:r}),t.pagerfirstbottom.jqxButton({disabled:r}),t.pagerlasttop.jqxButton({disabled:r}),t.pagerlastbottom.jqxButton({disabled:r}),t.pagershowrowscombotop.jqxDropDownList&&"advanced"==t.pagerMode&&(t.pagershowrowscombotop.jqxDropDownList({disabled:!1}),t.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),t.host.find(".jqx-grid-pager-number").css("cursor",r?"default":"pointer")),t.host.find(".jqx-grid-group-collapse").css("cursor",r?"default":"pointer"),t.host.find(".jqx-grid-group-expand").css("cursor",r?"default":"pointer");else if("columnsHeight"==i)t._render();else if("theme"==i){if(e.jqx.utilities.setTheme(s,r,t.host),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.hScrollBar.jqxScrollBar({
theme:t.theme}),t.pageable&&t.pagernexttop&&(t.pagernexttop.jqxButton({theme:t.theme}),t.pagerprevioustop.jqxButton({theme:t.theme}),t.pagernextbottom.jqxButton({theme:t.theme}),t.pagerpreviousbottom.jqxButton({theme:t.theme}),t.pagerfirsttop.jqxButton({theme:t.theme}),t.pagerfirstbottom.jqxButton({theme:t.theme}),t.pagerlasttop.jqxButton({theme:t.theme}),t.pagerlastbottom.jqxButton({theme:t.theme}),t.pagershowrowscombotop.jqxDropDownList&&"advanced"==t.pagerMode&&(t.pagershowrowscombotop.jqxDropDownList({theme:t.theme}),t.pagershowrowscombobottom.jqxDropDownList({theme:t.theme}))),t.filterable){var d=e(".filterconditions");d.length>0&&d.jqxDropDownList({theme:t.theme}),t.filtercolumnsList&&t.filtercolumnsList.jqxDropDownList({theme:t.theme})}t.refresh()}else t.refresh()}},_rendercolumnheader:function(e,t,i,s){var r="4px";return s.columnGroups?(r=i/2-this._columnheight/2,r<0&&(r=4),r+="px"):25!=this.columnsHeight&&(r=this.columnsHeight/2-this._columnheight/2,r<0&&(r=4),r+="px"),'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>"}}),e.jqx.dataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t},this.isempty=function(e){return void 0==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,!0)},this.insertAt=function(e,t){return null!=e&&void 0!=e&&(null!=t&&(e>=0&&(e<this.records.length?(this.records.splice(e,0,t),!0):this.add(t))))},this.remove=function(e){if(null==e||void 0==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),!0)},this.removeAt=function(e){if(null==e||void 0==e)return!1;if(e<0)return!1;if(e<this.records.length){this.records[e];return this.records.splice(e,1),!0}return!1},this},e.jqx.dataView=function(){return this.that=this,this.grid=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(t,i){var s=!!t._source,r=null;this._sortData=null,this._sortHierarchyData=null,s?(r=t,t=t._source):r=new e.jqx.dataAdapter(t,{autoBind:!1});var n=function(e){e.originaldata=r.originaldata,e.records=r.records,e.hierarchy=r.hierarchy,e.grid.serverProcessing||(e._sortData=null,e._sortfield=null,e._filteredData=null,e._sortHierarchyData=null),e.hierarchy||(e.hierarchy=new Array,r.hierarchy=new Array),r._source.totalrecords?e.totalrecords=r._source.totalrecords:r._source.totalRecords?e.totalrecords=r._source.totalRecords:0!==e.hierarchy.length?e.totalrecords=e.hierarchy.length:e.totalrecords=e.records.length,e.cachedrecords=r.cachedrecords};!function(e){r.recordids=[],r.records=new Array,r.cachedrecords=new Array,r.originaldata=new Array,r._options.totalrecords=e.totalrecords,r._options.originaldata=e.originaldata,r._options.recordids=e.recordids,r._options.cachedrecords=new Array,r._options.pagenum=e.pagenum,r._options.pageable=e.pageable,void 0!=t.type&&(r._options.type=t.type),void 0!=t.formatdata&&(r._options.formatData=t.formatdata),void 0!=t.contenttype&&(r._options.contentType=t.contenttype),void 0!=t.async&&(r._options.async=t.async),void 0!=t.updaterow&&(r._options.updaterow=t.updaterow),void 0!=t.addrow&&(r._options.addrow=t.addrow),void 0!=t.deleterow&&(r._options.deleterow=t.deleterow),0==e.pagesize&&(e.pagesize=10),r._options.pagesize=e.pagesize}(this),this.source=t,void 0!==i&&(uniqueId=i);var a=this;switch(t.datatype){case"local":case"array":default:if(null==t.localdata&&(t.localdata=[]),null!=t.localdata){r.unbindBindingUpdate(a.grid.element.id),(!a.grid.autoBind&&a.grid.isInitialized||a.grid.autoBind)&&r.dataBind();var o=function(){n(a),a.update()};o(),r.bindBindingUpdate(a.grid.element.id,o)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata){r.unbindBindingUpdate(a.grid.element.id),(!a.grid.autoBind&&a.grid.isInitialized||a.grid.autoBind)&&r.dataBind();var o=function(e){n(a),a.update()};return o(),void r.bindBindingUpdate(a.grid.element.id,o)}for(var l=0,h={},d=0;d<this.filters.length;d++){var c=this.filters[d].datafield,u=this.filters[d].filter,f=u.getfilters();h[c+"operator"]=u.operator;for(var p=0;p<f.length;p++){f[p].datafield=c;var m=f[p].value;h["filtervalue"+l]=m.toString(),h["filtercondition"+l]=f[p].condition,h["filteroperator"+l]=f[p].operator,h["filterdatafield"+l]=c,l++}}h.filterslength=l,e.extend(h,{sortdatafield:a.sortfield,sortorder:a.sortfielddirection,pagenum:a.pagenum,pagesize:a.grid.pageSize});var g=r._options.data;r._options.data?e.extend(r._options.data,h):(t.data&&e.extend(h,t.data),r._options.data=h);var o=function(){var t=e.jqx.browser.msie&&e.jqx.browser.version<9,i=function(){n(a),a.update()};if(t)try{i()}catch(e){}else i()};r.unbindDownloadComplete(a.grid.element.id),r.bindDownloadComplete(a.grid.element.id,o),r._source.loaderror=function(e,t,i){o()},(!a.grid.autoBind&&a.grid.isInitialized||a.grid.autoBind)&&r.dataBind(),r._options.data=g}},this.addFilter=function(e,t){this._sortData=null,this._sortHierarchyData=null;for(var i=-1,s=0;s<this.filters.length;s++)if(this.filters[s].datafield==e){i=s;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removeFilter=function(e){this._sortData=null,this._sortHierarchyData=null;for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.sortBy=function(e,t){if(null==t)return this.sortfield="",void(this.sortfielddirection="");void 0==t&&(t=!0),t="a"==t||"asc"==t||"ascending"==t||1==t,"constructor"==e&&(e=""),this.sortfield=e,this.sortfielddirection=t?"asc":"desc"},this._sort=function(t){if(!this.sortfield||!this.sortfielddirection)return t;if(this._sortfield==this.sortfield&&this._sortfielddirection==this.sortfielddirection&&this._sortData)return this._sortData;var i=this,s=Object.prototype.toString;Object.prototype.toString="function"==typeof i.sortfield?i.sortfield:function(){return this[i.sortfield]};var r="";this.source.datafields&&e.each(this.source.datafields,function(){if(this.name==i.sortfield)return this.type&&(r=this.type),!1});for(var n=new Array,a=0;a<t.length;a++)n.push(e.extend({originalRecord:t[a]},t[a]));if(this._sortfield=this.sortfield,this._sortfielddirection=this.sortfielddirection,"desc"===this.sortfielddirection)var o=n.sort(function(e,t){return i._compare(e,t,r)}).reverse();else var o=n.sort(function(e,t){return i._compare(e,t,r)});return this._sortData=o,Object.prototype.toString=s,o},this._compare=function(t,i,s){var t=t,i=i;if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return 1;if(t=t.toString(),i=i.toString(),e.jqx.dataFormat)if(s&&""!=s)switch(s){case"number":case"int":case"float":return t<i?-1:t>i?1:0;case"date":case"time":return t<i?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(t<i)return-1;if(t>i)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)},this.evaluate=function(t){if(this.grid.serverProcessing){if(t&&(""==this.grid.source._source.id||null==this.grid.source._source.id)&&this.grid.pageable){var i=this.grid.pageSize*this.pagenum;this.grid.rowsByKey=new Array;var s=this;e.each(t,function(e){this.uid=i,s.grid.rowsByKey[this.uid]=this,i++})}return t}var r=new Array;if(this.filters.length){var n=new Array,a=function(e,t){for(var i=0;i<e.length;i++){var s=e[i];s._visible=!0;for(var r=void 0,a=0;a<this.filters.length;a++){var o=this.filters[a].filter,l=s[this.filters[a].datafield],h=o.evaluate(l);r=void 0==r?h:"or"==o.operator?r||h:r&&h}s._visible=!1,(r||s.aggregate)&&(s._visible=!0,t.push(s),n[s.uid]=s)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){var o=new Array,l=function(e,t){for(var i=0;i<t.length;i++){var s=t[i];o.push(s),s.records&&s.records.length>0&&l(s,s.records)}};l(null,t),a.call(this,o,r);for(var h=0;h<r.length;h++)for(var d=r[h];d.parent;){var c=d.parent;n[c.uid]||(c._visible=!0,n[c.uid]=c),d=c}r=t}else a.call(this,t,r);this._filteredData=r,this.rows=r}}else this.rows=t;if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){var s=this,u=new Array;this._sortData=null;var f=function(t,i){s._sortData=null;var r=null;if(s.source.hierarchy.groupingDataFields)if(i&&i.length>0&&i[0].level<s.source.hierarchy.groupingDataFields.length){r=new Array;for(var n=0;n<i.length;n++)r.push(e.extend({originalRecord:i[n]},i[n]))}else r=s._sort(i);else r=s._sort(i);t.records?t.records=r:t=t.concat(r);for(var n=0;n<r.length;n++)r[n].records&&r[n].records.length&&f(r[n],r[n].records);return t};(this.sortfield||this.sortfielddirection)&&(u=this._sortHierarchyData?this._sortHierarchyData:f(u,t),this.rows=u,this._sortHierarchyData=u)}else this.rows=this._sort(this.rows);return this.rows},this.getid=function(t,i,s){if(e(t,i).length>0)return e(t,i).text();if(this.rows&&""!=t&&void 0!=t&&this.rows.length>0){var r=this.rows[this.rows.length-1][t];null==r&&(r=null);for(var n=1;n<=100;n++){var a=this.grid.rowsByKey[n+r];if(!a){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var a=this.grid.rowsByKey["jqx"+r+n];if(a)continue;return"jqx"+r+n}return r+n}}}if(void 0!=t&&t.toString().length>0){var o=e(i).attr(t);if(null!=o&&o.toString().length>0)return this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords?"jqx"+o:o}if(this.rows&&this.rows.length>0){var a=this.grid.rowsByKey[s];if(a){var r=this.rows[this.rows.length-1][t];null==r&&(r="");for(var n=1;n<=1e3;n++){var a=this.grid.rowsByKey[n+r];if(!a){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var a=this.grid.rowsByKey["jqx"+r+n];if(a)continue;return"jqx"+r+n}return r+n}}}}if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var a=this.grid.rowsByKey["jqx"+s];if(!a)return"jqx"+s;for(var n=s+1;n<=100;n++){var a=this.grid.rowsByKey["jqx"+n];if(!a){var a=this.grid.rowsByKey["jqx"+n];if(a)continue;return"jqx"+n}}}return s},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()},this}}(jqxBaseFramework),function(e,t){var i,s,r,n,a,o,l,h,d,c,u,f,p,m,g,v,x,y,w,b,_,T,j,C;i=function(e){return new i.prototype.init(e)},"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=i:e.Globalize=i,i.cultures={},i.prototype={constructor:i,init:function(e){return this.cultures=i.cultures,this.cultureSelector=e,this}},i.prototype.init.prototype=i.prototype,i.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},i.cultures.default.calendar=i.cultures.default.calendars.standard,i.cultures.en=i.cultures.default,i.cultureSelector="en",s=/^0x[a-f0-9]+$/i,r=/^[+\-]?infinity$/i,n=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,a=/^\s+|\s+$/g,o=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1},l=function(e,t){return e.substr(e.length-t.length)===t},h=function(){var e,t,i,s,r,n,a=arguments[0]||{},o=1,l=arguments.length,f=!1;for("boolean"==typeof a&&(f=a,a=arguments[1]||{},o=2),"object"==typeof a||c(a)||(a={});o<l;o++)if(null!=(e=arguments[o]))for(t in e)i=a[t],s=e[t],a!==s&&(f&&s&&(u(s)||(r=d(s)))?(r?(r=!1,n=i&&d(i)?i:[]):n=i&&u(i)?i:{},a[t]=h(f,n,s)):void 0!==s&&(a[t]=s));return a},d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e){return"[object Function]"===Object.prototype.toString.call(e)},u=function(e){return"[object Object]"===Object.prototype.toString.call(e)},f=function(e,t){return 0===e.indexOf(t)},p=function(e){return(e+"").replace(a,"")},m=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},g=function(e,t,i){var s;for(s=e.length;s<t;s+=1)e=i?"0"+e:e+"0";return e},v=function(e,t){for(var i=0,s=!1,r=0,n=e.length;r<n;r++){var a=e.charAt(r);switch(a){case"'":s?t.push("'"):i++,s=!1;break;case"\\":s&&t.push("\\"),s=!s;break;default:t.push(a),s=!1}}return i},x=function(e,t){t=t||"F";var i,s=e.patterns,r=t.length;if(1===r){if(!(i=s[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},y=function(e,t,i){function s(e,t){var i,s=e+"";return t>1&&s.length<t?(i=g[t-2]+s,i.substr(i.length-t,t)):i=s}function r(e,t){if(m)return m[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+t}}var n,a=i.calendar,o=a.convert;if(!t||!t.length||"i"===t){if(i&&i.name.length)if(o)n=y(e,a.patterns.F,i);else{var l=new Date(e.getTime()),h=_(e,a.eras);l.setFullYear(T(e,a,h)),n=l.toLocaleString()}else n=e.toString();return n}var d=a.eras,c="s"===t;t=x(a,t),n=[];var u,f,p,m,g=["0","00","000"],w=/([^d]|^)(d|dd)([^d]|$)/g,j=0,C=b();for(!c&&o&&(m=o.fromGregorian(e));;){var S=C.lastIndex,q=C.exec(t),k=t.slice(S,q?q.index:t.length);if(j+=v(k,n),!q)break;if(j%2)n.push(q[0]);else{var D=q[0],I=D.length;switch(D){case"ddd":case"dddd":var M=3===I?a.days.namesAbbr:a.days.names;n.push(M[e.getDay()]);break;case"d":case"dd":f=!0,n.push(s(r(e,2),I));break;case"MMM":case"MMMM":var P=r(e,1);n.push(a.monthsGenitive&&function(){return f||p?f:(f=w.test(t),p=!0,f)}()?a.monthsGenitive[3===I?"namesAbbr":"names"][P]:a.months[3===I?"namesAbbr":"names"][P]);break;case"M":case"MM":n.push(s(r(e,1)+1,I));break;case"y":case"yy":case"yyyy":P=m?m[0]:T(e,a,_(e,d),c),I<4&&(P%=100),n.push(s(P,I));break;case"h":case"hh":u=e.getHours()%12,0===u&&(u=12),n.push(s(u,I));break;case"H":case"HH":n.push(s(e.getHours(),I));break;case"m":case"mm":n.push(s(e.getMinutes(),I));break;case"s":case"ss":n.push(s(e.getSeconds(),I));break;case"t":case"tt":P=e.getHours()<12?a.AM?a.AM[0]:" ":a.PM?a.PM[0]:" ",n.push(1===I?P.charAt(0):P);break;case"f":case"ff":case"fff":n.push(s(e.getMilliseconds(),3).substr(0,I));break;case"z":case"zz":u=e.getTimezoneOffset()/60,n.push((u<=0?"+":"-")+s(Math.floor(Math.abs(u)),I));break;case"zzz":u=e.getTimezoneOffset()/60,n.push((u<=0?"+":"-")+s(Math.floor(Math.abs(u)),2)+":"+s(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":a.eras&&n.push(a.eras[_(e,d)].name);break;case"/":n.push(a["/"]);break;default:throw"Invalid date format pattern '"+D+"'."}}}return n.join("")},function(){var e;e=function(e,t,i){var s=i.groupSizes,r=s[0],n=1,a=Math.pow(10,t),o=Math.round(e*a)/a;isFinite(o)||(o=e),e=o;var l=e+"",h="",d=l.split(/e/i),c=d.length>1?parseInt(d[1],10):0;l=d[0],d=l.split("."),l=d[0],h=d.length>1?d[1]:"";c>0?(h=g(h,c,!1),l+=h.slice(0,c),h=h.substr(c)):c<0&&(c=-c,l=g(l,c+1,!0),h=l.slice(-c,l.length)+h,l=l.slice(0,-c)),h=t>0?i["."]+(h.length>t?h.slice(0,t):g(h,t)):"";for(var u=l.length-1,f=i[","],p="";u>=0;){if(0===r||r>u)return l.slice(0,u+1)+(p.length?f+p+h:h);p=l.slice(u-r+1,u+1)+(p.length?f+p:""),u-=r,n<s.length&&(r=s[n],n++)}return l.slice(0,u+1)+f+p+h},w=function(t,i,s){if(!isFinite(t))return t===1/0?s.numberFormat.positiveInfinity:t===-1/0?s.numberFormat.negativeInfinity:s.numberFormat.NaN;if(!i||"i"===i)return s.name.length?t.toLocaleString():t.toString();i=i||"D";var r,n=s.numberFormat,a=Math.abs(t),o=-1;i.length>1&&(o=parseInt(i.slice(1),10));var l,h=i.charAt(0).toUpperCase();switch(h){case"D":r="n",a=m(a),-1!==o&&(a=g(""+a,o,!0)),t<0&&(a="-"+a);break;case"N":l=n;case"C":l=l||n.currency;case"P":l=l||n.percent,r=t<0?l.pattern[0]:l.pattern[1]||"n",-1===o&&(o=l.decimals),a=e(a*("P"===h?100:1),o,l);break;default:throw"Bad number format specifier: "+h}for(var d=/n|\$|-|%/g,c="";;){var u=d.lastIndex,f=d.exec(r);if(c+=r.slice(u,f?f.index:r.length),!f)break;switch(f[0]){case"n":c+=a;break;case"$":c+=n.currency.symbol;break;case"-":/[1-9]/.test(a)&&(c+=n["-"]);break;case"%":c+=n.percent.symbol}}return c}}(),b=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},_=function(e,t){if(!t)return 0;for(var i,s=e.getTime(),r=0,n=t.length;r<n;r++)if(null===(i=t[r].start)||s>=i)return r;return 0},T=function(e,t,i,s){var r=e.getFullYear();return!s&&t.eras&&(r-=t.eras[i].offset),r},function(){var e,t,i,s,r,n,a;e=function(e,t){if(t<100){var i=new Date,s=_(i),r=T(i,e,s),n=e.twoDigitYearMax;n="string"==typeof n?(new Date).getFullYear()%100+parseInt(n,10):n,t+=r-r%100,t>n&&(t-=100)}return t},t=function(e,t,i){var s,r=e.days,l=e._upperDays;return l||(e._upperDays=l=[a(r.names),a(r.namesAbbr),a(r.namesShort)]),t=n(t),i?-1===(s=o(l[1],t))&&(s=o(l[2],t)):s=o(l[0],t),s},i=function(e,t,i){var s=e.months,r=e.monthsGenitive||e.months,l=e._upperMonths,h=e._upperMonthsGen;l||(e._upperMonths=l=[a(s.names),a(s.namesAbbr)],e._upperMonthsGen=h=[a(r.names),a(r.namesAbbr)]),t=n(t);var d=o(i?l[1]:l[0],t);return d<0&&(d=o(i?h[1]:h[0],t)),d},s=function(e,t){var i=e._parseRegExp;if(i){var s=i[t];if(s)return s}else e._parseRegExp=i={};for(var r,n=x(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),a=["^"],o=[],l=0,h=0,d=b();null!==(r=d.exec(n));){var c=n.slice(l,r.index);if(l=d.lastIndex,(h+=v(c,a))%2)a.push(r[0]);else{var u,f=r[0],p=f.length;switch(f){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)";break;case"tt":case"t":u="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)";break;case"zzz":u="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":u="([+-]?\\d\\d?)";break;case"/":u="(\\/)";break;default:throw"Invalid date format pattern '"+f+"'."}u&&a.push(u),o.push(r[0])}}v(n.slice(l),a),a.push("$");var m=a.join("").replace(/\s+/g,"\\s+"),g={regExp:m,groups:o};return i[t]=g},r=function(e,t,i){return e<t||e>i},n=function(e){return e.split(" ").join(" ").toUpperCase()},a=function(e){for(var t=[],i=0,s=e.length;i<s;i++)t[i]=n(e[i]);return t},j=function(n,a,o){n=p(n);var l=o.calendar,h=s(l,a),d=new RegExp(h.regExp).exec(n);if(null===d)return null;for(var c,u=h.groups,m=null,g=null,v=null,x=null,y=null,w=0,b=0,_=0,T=0,j=null,C=!1,S=0,q=u.length;S<q;S++){var k=d[S+1];if(k){var D=u[S],I=D.length,M=parseInt(k,10);switch(D){case"dd":case"d":if(x=M,r(x,1,31))return null;break;case"MMM":case"MMMM":if(v=i(l,k,3===I),r(v,0,11))return null;break;case"M":case"MM":if(v=M-1,r(v,0,11))return null;break;case"y":case"yy":case"yyyy":if(g=I<4?e(l,M):M,r(g,0,9999))return null;break;case"h":case"hh":if(w=M,12===w&&(w=0),r(w,0,11))return null;break;case"H":case"HH":if(w=M,r(w,0,23))return null;break;case"m":case"mm":if(b=M,r(b,0,59))return null;break;case"s":case"ss":if(_=M,r(_,0,59))return null;break;case"tt":case"t":if(!(C=l.PM&&(k===l.PM[0]||k===l.PM[1]||k===l.PM[2]))&&(!l.AM||k!==l.AM[0]&&k!==l.AM[1]&&k!==l.AM[2]))return null;break;case"f":case"ff":case"fff":if(T=M*Math.pow(10,3-I),r(T,0,999))return null;break;case"ddd":case"dddd":if(y=t(l,k,3===I),r(y,0,6))return null;break;case"zzz":var P=k.split(/:/);if(2!==P.length)return null;if(c=parseInt(P[0],10),r(c,-12,13))return null;var H=parseInt(P[1],10);if(r(H,0,59))return null;j=60*c+(f(k,"-")?-H:H);break;case"z":case"zz":if(c=M,r(c,-12,13))return null;j=60*c;break;case"g":case"gg":var A=k;if(!A||!l.eras)return null;A=p(A.toLowerCase());for(var B=0,N=l.eras.length;B<N;B++)if(A===l.eras[B].name.toLowerCase()){m=B;break}if(null===m)return null}}}var O,E=new Date,z=l.convert;if(O=z?z.fromGregorian(E)[0]:E.getFullYear(),null===g?g=O:l.eras&&(g+=l.eras[m||0].offset),null===v&&(v=0),null===x&&(x=1),z){if(null===(E=z.toGregorian(g,v,x)))return null}else{if(E.setFullYear(g,v,x),E.getDate()!==x)return null;if(null!==y&&E.getDay()!==y)return null}if(C&&w<12&&(w+=12),E.setHours(w,b,_,T),null!==j){var L=E.getMinutes()-(j+E.getTimezoneOffset());E.setHours(E.getHours()+parseInt(L/60,10),L%60)}return E}}(),C=function(e,t,i){var s,r=t["-"],n=t["+"];switch(i){case"n -":r=" "+r,n=" "+n;case"n-":l(e,r)?s=["-",e.substr(0,e.length-r.length)]:l(e,n)&&(s=["+",e.substr(0,e.length-n.length)]);break;case"- n":r+=" ",n+=" ";case"-n":f(e,r)?s=["-",e.substr(r.length)]:f(e,n)&&(s=["+",e.substr(n.length)]);break;case"(n)":f(e,"(")&&l(e,")")&&(s=["-",e.substr(1,e.length-2)])}return s||["",e]},i.prototype.findClosestCulture=function(e){return i.findClosestCulture.call(this,e)},i.prototype.format=function(e,t,s){return i.format.call(this,e,t,s)},i.prototype.localize=function(e,t){return i.localize.call(this,e,t)},i.prototype.parseInt=function(e,t,s){return i.parseInt.call(this,e,t,s)},i.prototype.parseFloat=function(e,t,s){return i.parseFloat.call(this,e,t,s)},i.prototype.culture=function(e){return i.culture.call(this,e)},i.addCultureInfo=function(e,t,i){var s={},r=!1;"string"!=typeof e?(i=e,e=this.culture().name,s=this.cultures[e]):"string"!=typeof t?(i=t,r=null==this.cultures[e],s=this.cultures[e]||this.cultures.default):(r=!0,s=this.cultures[t]),this.cultures[e]=h(!0,{},s,i),r&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},i.findClosestCulture=function(e){var t;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures.default;if("string"==typeof e&&(e=e.split(",")),d(e)){var i,s,r=this.cultures,n=e,a=n.length,o=[];for(s=0;s<a;s++){e=p(n[s]);var l,h=e.split(";");i=p(h[0]),1===h.length?l=1:(e=p(h[1]),0===e.indexOf("q=")?(e=e.substr(2),l=parseFloat(e),l=isNaN(l)?0:l):l=1),o.push({lang:i,pri:l})}for(o.sort(function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0}),s=0;s<a;s++)if(i=o[s].lang,t=r[i])return t;for(s=0;s<a;s++)for(i=o[s].lang;;){var c=i.lastIndexOf("-");if(-1===c)break;if(i=i.substr(0,c),t=r[i])return t}for(s=0;s<a;s++){i=o[s].lang;for(var u in r){var f=r[u];if(f.language==i)return f}}}else if("object"==typeof e)return e;return t||null},i.format=function(e,t,i){var s=this.findClosestCulture(i);return e instanceof Date?e=y(e,t,s):"number"==typeof e&&(e=w(e,t,s)),e},i.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures.default.messages[e]},i.parseDate=function(e,t,i){i=this.findClosestCulture(i);var s,r,n;if(t){if("string"==typeof t&&(t=[t]),t.length)for(var a=0,o=t.length;a<o;a++){var l=t[a];if(l&&(s=j(e,l,i)))break}}else{n=i.calendar.patterns;for(r in n)if(s=j(e,n[r],i))break}return s||null},i.parseInt=function(e,t,s){return m(i.parseFloat(e,t,s))},i.parseFloat=function(e,t,i){"number"!=typeof t&&(i=t,t=10);var a=this.findClosestCulture(i),o=NaN,l=a.numberFormat;if(e.indexOf(a.numberFormat.currency.symbol)>-1&&(e=e.replace(a.numberFormat.currency.symbol,""),e=e.replace(a.numberFormat.currency["."],a.numberFormat["."])),e.indexOf(a.numberFormat.percent.symbol)>-1&&(e=e.replace(a.numberFormat.percent.symbol,"")),e=e.replace(/ /g,""),r.test(e))o=parseFloat(e);else if(!t&&s.test(e))o=parseInt(e,16);else{var h=C(e,l,l.pattern[0]),d=h[0],c=h[1];""===d&&"(n)"!==l.pattern[0]&&(h=C(e,l,"(n)"),d=h[0],c=h[1]),""===d&&"-n"!==l.pattern[0]&&(h=C(e,l,"-n"),d=h[0],c=h[1]),d=d||"+";var u,f,p=c.indexOf("e");p<0&&(p=c.indexOf("E")),p<0?(f=c,u=null):(f=c.substr(0,p),u=c.substr(p+1));var m,g,v=l["."],x=f.indexOf(v);x<0?(m=f,g=null):(m=f.substr(0,x),g=f.substr(x+v.length));var y=l[","];m=m.split(y).join("");var w=y.replace(/\u00A0/g," ");y!==w&&(m=m.split(w).join(""));var b=d+m;if(null!==g&&(b+="."+g),null!==u){var _=C(u,l,"-n");b+="e"+(_[0]||"+")+_[1]}n.test(b)&&(o=parseFloat(b))}return o},i.culture=function(e){return void 0!==e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures.default}}(this),function(e){e.fn.responsiveTable=function(t,i,s){if(this&&0!==this.length){if("string"==typeof t)return this.jqxDataTable(t,i,s);if(t=void 0==t?{}:e.extend({},t),this.data("initialize")&&this.data("options")&&(t=e.extend(!0,{},this.data("options"),t)),this.data("columns")&&!t.columns?t.columns=this.data("columns"):t.columns&&this.data("columns",t.columns),this.data("source")&&!t.source?t.source=this.data("source"):t.source&&this.data("source",t.source),!this.data("initialize")){var r=this;e(window).on("resize",this,function(i){width=i.currentTarget.innerWidth,!r.data("single")&&width<600?(r.data("single",!0),r.responsiveTable(e.extend(t,{title:t.title}))):r.data("single")&&width>=600&&(r.data("single",!1),r.responsiveTable(t))}),this.data("title",t.title).data("options",t).data("initialize",!0)}this.data("title")&&t.title&&(t.title=void 0);var n=this.data("single"),a={enableBrowserSelection:!0,theme:"metro_light",pageable:!0,columnsResize:!n,sortable:!0,altRows:!0,pageSizeOptions:["10","20","50"],pageSize:10,pagerMode:"advanced",serverProcessing:!0,width:"100%",height:400,ready:function(){e(window).trigger("resize")}},o={text:this.data("title")||e.trim(e(".uk-breadcrumb").text())||"Table",sortable:!1,draggable:!1,resizable:!1,editable:!1,filterable:!1,dataField:null,align:"left",cellsAlign:"left",width:"100%",className:"single-column-header",cellsRenderer:function(t,i,s,r){var n=e('<ul class="uk-list uk-list-line"></ul>');return this.owner.columns.records.forEach(function(e,i){e.text&&e.datafield&&"_checkbox"!==e.datafield&&(""!=e.cellsRenderer&&e.cellsRenderer?n.append("<li><strong>"+e.text+"</strong> : "+e.cellsRenderer(t,e.datafield,r[e.datafield],r)+"</li>"):n.append("<li><strong>"+e.text+"</strong> : "+(r[e.datafield]?r[e.datafield]:"-")+"</li>"))}),n[0].outerHTML}},l=t.columns,h=!1,l=l.map(function(e,t){return"_checkbox"!==e.dataField?e.hidden=!0===n:h=!0,e});return n&&l.splice(h?1:0,0,o),t.columns=l,this.jqxDataTable(e.extend({},a,t))}},e.fn.responsiveWindow=function(t,i,s){if(this||0!==this.length){if("string"==typeof t)return this.jqxWindow(t,i,s);void 0==t&&(t={}),this.data("width")&&this.data("height")&&!t.height&&!t.width?t.width=this.data("width"):t.width&&t.height&&this.data("width",t.width);var r=function(i){return width=e(window).width()<t.width?e(window).width():t.width,position="center",{position:position,width:width}},n={resizable:!1,minWidth:300,maxWidth:1e3,minHeight:50,maxHeight:1e3,autoOpen:!1,isModal:!0,collapsed:!1,showCollapseButton:!1,theme:"metrolight"};if(!this.data("initialized")){var a=this;e(window).on("resize",function(i){setTimeout(function(){a.jqxWindow(e.extend({},t,r()))},350)}),a.find("[close-window]").on("click",function(e){e.preventDefault(),a.jqxWindow("close")}),this.data("initialized",!0)}return this.jqxWindow(e.extend(!0,{},n,t,r()))}}}(jQuery),$(document).ready(function(){$("#btn-swap").on("click",function(){"0px"==$("#sidebar").css("left")?($("#sidebar").animate({left:"-210px"},250),$(".section-content,.section-footer").animate({left:"0"},50)):($("#sidebar").animate({left:"0"},300),$(".section-content").animate({left:"210px"},50),$(".section-footer").animate({left:"210px"},250)),setTimeout(function(){$(window).trigger("resize")},250)}),setTimeout(function(){$(".uk-alert.uk-alert-hide").hide("slow")},5e3)}),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var DashboardPage=function(e){e=e||{},this.formatData=function(e){var t=[];if(0===e.total)return[{status:lang.empty,value:1}];for(var i in e)"total"!=i&&t.push({status:lang[i],value:e[i]});return t},this.initLoader=function(e){$("#loader-"+e).jqxLoader({width:100,height:100})},this.initChart=function(e,t){var i=this.getSetting({type:e,dataSource:this.formatData(t),total:t.total});$("#chart-"+e.toLowerCase()).jqxChart(i)},this.init=function(){$.jqx._jqxChart.prototype.colorSchemes.push({name:"emptyStatus",colors:["#727374"]}),$.jqx._jqxChart.prototype.colorSchemes.push({name:"messageStatus",colors:["#eb6d6d","#76ff03","#f6c62d","#4ec1e9"]});for(var e=["daily","weekly","monthly"],t=0;t<e.length;t++){this.initLoader(e[t]),this.getChartData(e[t])}this.addSpaceAfterTitle()},this.getChartData=function(e){var t=this;return $("#loader-"+e).jqxLoader("open"),$.ajax({url:"",type:"GET",dataType:"json",data:{summary:e}}).done(function(i){t.initChart(e,i)}).fail(function(){t.initChart(e,{total:0})}).always(function(){$("#loader-"+e).jqxLoader("close")})},this.addSpaceAfterTitle=function(){var e=$(".jqx-chart-title-description"),t=parseInt(e.attr("y"))+3;e.attr("y",t)},this.getSetting=function(e){var t=e.total?e.total.toLocaleString():0;return{title:lang[e.type],description:"Total: "+t+" SMS",enableAnimations:!0,showLegend:!0,showBorderLine:!1,legendPosition:{left:0,top:0,width:0,height:0},padding:{left:5,top:-15,right:5,bottom:0},titlePadding:{left:0,top:13,right:0,bottom:5},source:e.dataSource,colorScheme:e.total>0?"messageStatus":"emptyStatus",seriesGroups:[{type:"donut",showLabels:e.total>0,showToolTips:!1,series:[{dataField:"value",displayText:"status",useGradientColors:!1,labelRadius:55,initialAngle:15,radius:75,innerRadius:30,formatSettings:{thousandsSeparator:","}}]}]}}},UserPage=function(e){e=e||{};var t=e.tableUrl,i=e.editUrl,s=(e.deleteWindowButtonId,e.closeWindowButtonId,e.canDelete||!1),r=e.canEdit||!1;this.dataSource=null,this.table=function(){var e=$("#table-user");if(0!=e.length)return e.responsiveTable(this.tableOptions())},this.tableOptions=function(){return{title:"Users",source:this.getDataSource(),height:"auto",enableHover:!1,columns:[{text:lang.name,dataField:"name",align:"left",minWidth:150},{text:lang.email,dataField:"email",minWidth:150,align:"left"},{text:lang.company,dataField:"company_name",minWidth:150,width:"10%",align:"left",sortable:!1},{text:lang.active,dataField:"active",minWidth:50,width:"10%",align:"left",cellsRenderer:function(e,t,i,s){return'<div class="uk-badge '+(1==i?"uk-badge-info":"uk-badge-danger")+'">'+(1==i?"active":"inactive")+"</div>"}},{text:lang.created_at,dataField:"created_at",minWidth:150,align:"left",width:"10%"},{text:lang.action,dataField:"ad_user_id",minWidth:100,width:"10%",align:"center",cellsAlign:"center",sortable:!1,cellsRenderer:function(e,t,n,a){var o="";return r&&(o+='<a href="'+i+"/"+n+'" data-uk-tooltip title="'+lang.edit+'" class="button-edit uk-icon-hover uk-icon-pencil-square-o uk-margin-small-right uk-icon-small" data-id='+n+"></a>"),
s&&(o+='<a href="#!" class="button-delete uk-icon-hover uk-icon-trash uk-icon-small" data-uk-tooltip title="'+lang.delete+'" data-id='+n+"></a>"),'<div class="table-actions">'+o+"</div>"}}]}},this.getDataSource=function(){var e={dataType:"json",root:"data",url:t,dataFields:[{name:"ad_user_id",type:"string"},{name:"name",type:"string"},{name:"email",type:"string"},{name:"created_at",type:"string"},{name:"active",type:"string"},{name:"company_name",type:"string"}],beforeprocessing:function(e){this.totalrecords=e.total}},i={formatData:this.formatDataTable.bind(this)};return this.dataSource=new $.jqx.dataAdapter(e,i)},this.formatDataTable=function(e){return $.extend({},e,this.searchData())},this.searchData=function(){var e=$("#search-panel :input").serializeArray(),t={};return e.filter(function(e){return""!=e.value}).forEach(function(e){t[e.name]=e.value}),t},this.onClickButtonDelete=function(e){var t=e.currentTarget.dataset.id;this.deleteWindow.openWindow(t)},this.onClickSearchButton=function(e){this.dataSource.dataBind()},this.onClickClearButton=function(e){$("#search-panel :input").each(function(){$(this).val("")}),this.dataSource.dataBind()},this.bindEvent=function(){$(document).on("click",".button-delete",this.onClickButtonDelete.bind(this)).on("click","#search-button",this.onClickSearchButton.bind(this)).on("click","#search-clear",this.onClickClearButton.bind(this))},this.initComponent=function(){var t=$.extend({},e,{dataSource:this.dataSource});this.deleteWindow=new DeleteWindow(t),this.deleteWindow.init(),this.deleteWindow.bindEvent()}},UserForm=function(e){var t=e.clientUrl||location.href,i=e.apiUserUrl||location.href,s=e.roleUrl||location.href;this.clientInput=function(e){var t=$("#input-client_id");if(0!==t.length){var i=this.getClientOptions();return t.jqxComboBox(i).on("bindingComplete",function(){if(e)for(var i=e.split(","),s=0;s<i.length;s++)t.jqxComboBox("val",i[s])})}},this.getClientOptions=function(){return{source:this.getClientSource(),displayMember:"company_name",valueMember:"client_id",width:"100%",height:28,dropDownHeight:150}},this.getClientSource=function(){var e={dataType:"json",root:"",url:t,dataFields:[{name:"client_id",type:"string"},{name:"company_name",type:"string"}]};return this.clientSource=new $.jqx.dataAdapter(e)},this.getClientInputValue=function(){return $("#input-client_id").val()||0},this.onSelectClientInput=function(e){this.apiUserSource?this.apiUserSource.dataBind():this.apiUserInput()},this.activeInput=function(e){var t=$("#input-active");if(0!==t.length){var i=0==e?0:1,s={theme:"metro_light",width:"65",height:"27",onLabel:'<span class="uk-icon-check"></span>',offLabel:'<span class="uk-icon-close"></span>',checked:i};$("#input-active-hidden").val(i),t.jqxSwitchButton(s).on("change",function(e){$("#input-active-hidden").val($(this).val()?1:0)})}},this.passwordInput=function(){return $(".input-password").jqxPasswordInput()},this.formatDataApiUserSource=function(e){var t=this.getClientInputValue();return $.extend({},e,{client_id:t})},this.getApiUserSource=function(){var e={datatype:"json",datafields:[{name:"user_id"},{name:"user_name"}],id:"user_id",url:i,formatData:this.formatDataApiUserSource.bind(this),loadError:function(e,t,i){}};return this.apiUserSource=new $.jqx.dataAdapter(e)},this.apiUserInput=function(e){var t=$("#input-api_user");if(0!==t.length){var i={checkboxes:!0,width:"100%",height:140,valueMember:"user_id",displayMember:"user_name",enableHover:!1,filterable:!0,filterPlaceHolder:"search",source:this.getApiUserSource()};t.jqxListBox(i).on("bindingComplete",function(){if(e)for(var t=e.split(","),i=0;i<t.length;i++)$("#input-api_user").jqxListBox("checkItem",t[i])}).find("#filterinput-api_user").css("position","initial"),$("#input-client_id").on("select",this.onSelectClientInput.bind(this))}},this.onClickCheckAllApiUsers=function(e){$("#input-api_user").jqxListBox("checkAll")},this.onClickUncheckAllApiUsers=function(e){$("#input-api_user").jqxListBox("uncheckAll")},this.onChangeAvatarInput=function(e){var t=e.currentTarget.files||[],i=$(e.currentTarget).siblings(".file-name");if(t.length>0){if(t[0].size/1e3>=500)return;i.html(t[0].name),this.readFileUpload(t[0])}else i.html("No file chosen")},this.readFileUpload=function(e){var t=new FileReader,i=$("#image-avatar");t.onloadend=function(){i.attr("src",t.result)},t.readAsDataURL(e)},this.roleInput=function(e){var t=$("#input-roles");if(0!==t.length){var i=this.getRoleSource(),s={source:i,displayMember:"role_name",valueMember:"role_id",width:"100%",multiSelect:!0,autoOpen:!1,dropDownHeight:100};t.jqxComboBox(s).on("bindingComplete",function(){if(e)for(var i=e.split(","),s=0;s<i.length;s++)t.jqxComboBox("val",i[s])})}},this.getRoleSource=function(){var e={dataType:"json",root:"",url:s,dataFields:[{name:"role_name",type:"string"},{name:"role_id",type:"string"}]};return this.roleSource=new $.jqx.dataAdapter(e)},this.bindEvent=function(){$(document).on("change","#input-avatar",this.onChangeAvatarInput.bind(this)).on("click","#button-checkAll",this.onClickCheckAllApiUsers).on("click","#button-uncheckAll",this.onClickUncheckAllApiUsers)}},ReportPage=function(e){e=e||{};var t=e.tableUrl,i=e.cancelUrl,s=e.processingUrl,r=e.regenerateUrl,n=(e.deleteWindowButtonId,e.closeWindowButtonId,e.canDelete||!1),a=e.canDownload||!1;this.dataSource=null;var o=!1,l=0,h=e.local||{};this.table=function(){var e=$("#table-report");if(0!=e.length)return e.responsiveTable(this.tableOptions())},this.tableOptions=function(){return{title:"Reports",source:this.getDataSource(),height:"auto",enableHover:!1,rendered:this.handleTableRendered.bind(this),columns:[{text:lang.name,dataField:"report_name",align:"center",cellsAlign:"center",minWidth:150},{text:lang.created_by,dataField:"api_user_dashboard",minWidth:150,width:"10%",align:"center",cellsAlign:"center",sortable:!1,cellsRenderer:function(e,t,i,s){return i?i.name:""}},{text:lang.start_date,dataField:"start_date",minWidth:50,width:"13%",align:"center",cellsAlign:"center"},{text:lang.end_date,dataField:"end_date",minWidth:50,width:"13%",align:"center"},{text:lang.status,dataField:"message_status",sortable:!1,minWidth:50,width:"15%",align:"center",cellsAlign:"center",cellsRenderer:function(e,t,i,s){return i?i.split(",").map(function(e){return e.replace(/^./,e[0].toUpperCase())}).join(", "):""}},{text:lang.file_type,dataField:"file_type",minWidth:50,width:"7%",align:"center",cellsAlign:"center"},{text:lang.generate_at,dataField:"generated_at",minWidth:150,width:"10%",align:"center",cellsAlign:"center",cellClassName:function(e,t,i,s){return 0===s.generate_status?"status-report-"+s.report_id:""},cellsRenderer:function(e,t,i,s){return 1===s.generate_status?lang.processing:0===s.generate_status?lang.queue:3===s.generate_status?lang.failed:4===s.generate_status?lang.canceled:i}},{text:lang.action,dataField:"report_id",minWidth:100,width:"10%",align:"center",cellsAlign:"center",sortable:!1,cellsRenderer:this.renderActionColumn.bind(this)}]}},this.handleTableRendered=function(){var e=this.dataSource.getrecords();Array.isArray(e)||(e=[]);var t=e.filter(function(e){return 1===e.generate_status||0===e.generate_status});t.length>0&&!1===o?this.processingReport():0===t.length&&!0===o&&this.stopProcessingReport()},this.getProcessingReport=function(){$.ajax({url:s,type:"GET",dataType:"json"}).done(this.updateProcessingProgress.bind(this)).fail(function(){this.stopProcessingReport()})},this.updateProcessingProgress=function(e){0===e.length&&!0===o&&this.stopProcessingReport();for(var t=0;t<e.length;t++)$("#progress-report-"+e[t].report_id).is(":visible")&&($("#progress-report-"+e[t].report_id).html(this.renderProgressBar(e[t].percentage,e[t].report_id)),$(".status-report-"+e[t].report_id).html(lang.processing));$("div[id*='progress-report']").length>e.length&&this.dataSource.dataBind()},this.renderProgressBar=function(e,t){var i=parseInt(100*parseFloat(e));return"<div class='uk-progress uk-progress-success uk-progress-striped uk-active uk-margin-bottom-remove'><div class='uk-progress-bar' style='width: "+i+"%;'>"+i+"%</div><a href= '#' class='uk-close uk-float-right cancel-report uk-text-danger' data-id='"+t+"'></a></div>"},this.handleCancelGenerateReport=function(e){var t=e.currentTarget.dataset.id;t&&this.cancelWindow.openWindow(t)},this.requestCancelReport=function(e){return $.ajax({url:i,type:"GET",data:{report_id:e}})},this.processingReport=function(){!1===o&&(l=setInterval(this.getProcessingReport.bind(this),3e3),o=!0)},this.stopProcessingReport=function(){clearInterval(l),l=0,o=!1},this.renderRefreshButton=function(e){return'<a href="'+r+"/"+e+'" class="uk-margin-small-right uk-icon-hover uk-icon-refresh uk-icon-small" data-uk-tooltip title="Generate" data-id='+e+"></a>"},this.renderProgressContainer=function(e,t){return'<div id="progress-report-'+e+'">'+t+"</div>"},this.renderActionColumn=function(e,t,i,s){var r="";return 1==s.generate_status?this.renderProgressContainer(s.report_id,this.renderProgressBar(s.percentage,s.report_id)):(a&&2==s.generate_status&&(r+='<a href="'+s.download_url+'" class="uk-margin-small-right uk-icon-hover uk-icon-download uk-icon-small"  data-uk-tooltip title="Download"  data-id='+i+"></a>"),n&&(r+='<a href="#!" class="button-delete uk-icon-hover uk-icon-trash uk-icon-small" data-uk-tooltip title="Delete"  data-id='+i+"></a>",3!==s.generate_status&&0!==s.generate_status&&4!==s.generate_status||(r=this.renderRefreshButton(i)+r),0===s.generate_status&&(r=this.renderProgressContainer(i,r))),'<div class="table-actions">'+r+"</div>")},this.getDataSource=function(){var e={dataType:"json",root:"data",url:t,dataFields:[{name:"report_id",type:"integer"},{name:"report_name",type:"string"},{name:"message_status",type:"string"},{name:"generate_status",type:"integer"},{name:"generated_at",type:"string"},{name:"api_user_dashboard",type:"string"},{name:"file_type",type:"string"},{name:"start_date",type:"string"},{name:"end_date",type:"string"},{name:"download_url",type:"string"},{name:"percentage",type:"float"}],beforeprocessing:function(e){this.totalrecords=e.total}},i={formatData:this.formatDataTable.bind(this)};return this.dataSource=new $.jqx.dataAdapter(e,i)},this.formatDataTable=function(e){return $.extend({},e,this.searchData())},this.searchData=function(){var e=$("#search-panel :input").serializeArray(),t={};return e.filter(function(e){return""!=e.value}).forEach(function(e){t[e.name]=e.value}),t},this.onClickButtonDelete=function(e){var t=e.currentTarget.dataset.id;this.deleteWindow.openWindow(t)},this.onClickSearchButton=function(e){this.dataSource.dataBind()},this.onClickClearButton=function(e){$("#search-panel :input").each(function(){$(this).val("")}),this.dataSource.dataBind()},this.bindEvent=function(){$(document).on("click",".button-delete",this.onClickButtonDelete.bind(this)).on("click",".cancel-report",this.handleCancelGenerateReport.bind(this)).on("click","#search-button",this.onClickSearchButton.bind(this)).on("click","#search-clear",this.onClickClearButton.bind(this))},this.initComponent=function(){var t=$.extend({},e,{dataSource:this.dataSource,successText:h.success_delete,failedText:h.failed_delete});this.deleteWindow=new DeleteWindow(t),this.deleteWindow.init(),this.deleteWindow.bindEvent();var i={dataSource:this.dataSource,successText:h.success_cancel,failedText:h.failed_cancel,onDelete:this.requestCancelReport,deleteWindowId:"window-cancel"};this.cancelWindow=new DeleteWindow(i),this.cancelWindow.init(),this.cancelWindow.bindEvent()}},ReportForm=function(e){var t=e.apiUserUrl||location.href;e.local;this.getApiUserSource=function(){var e={datatype:"json",datafields:[{name:"user_id"},{name:"user_name"}],id:"user_id",url:t};return this.apiUserSource=new $.jqx.dataAdapter(e)},this.apiUserDropdown=function(){var e=$("#input-api_user");if(0!==e.length){var t={source:this.getApiUserSource(),displayMember:"user_name",valueMember:"user_id",width:"100%",height:28,dropDownHeight:150};e.jqxComboBox(t)}},this.apiUserInput=function(e){var t=$("#input-api_user");if(0!==t.length){var i={checkboxes:!0,width:"100%",height:180,valueMember:"user_id",displayMember:"user_name",enableHover:!1,filterable:!0,filterPlaceHolder:"search",source:this.getApiUserSource()};t.jqxListBox(i).on("bindingComplete",function(){if(e)for(var t=e.split(","),i=0;i<t.length;i++)$("#input-api_user").jqxListBox("checkItem",t[i])}).find("#filterinput-api_user").css("position","initial")}},this.onClickCheckAllApiUsers=function(e){$("#input-api_user").jqxListBox("checkAll")},this.onClickUncheckAllApiUsers=function(e){$("#input-api_user").jqxListBox("uncheckAll")},this.datePicker=function(e,t){var i=$("#input-start_date"),s=$("#input-end_date"),r=moment().subtract(90,"days").startOf("day"),n=moment().endOf("day").toDate();e=e?moment(e).toDate():r.toDate();var a={width:"100%",value:e,min:r.toDate(),max:n,dropDownVerticalAlignment:"top",showTimeButton:!0,formatString:"yyyy-MM-dd HH:mm:ss",dropDownHorizontalAlignment:"right"};t=t?moment(t).toDate():n;var o={width:"100%",min:r.toDate(),max:n,value:t,showTimeButton:!0,formatString:"yyyy-MM-dd HH:mm:ss",dropDownHorizontalAlignment:"right"};i.jqxDateTimeInput(a).on("valueChanged",function(e){s.jqxDateTimeInput("setMinDate",e.args.date)}),s.jqxDateTimeInput(o).on("valueChanged",function(e){i.jqxDateTimeInput("setMaxDate",e.args.date)})},this.selectStatus=function(e){var t=$("#select-status");if(0!==t.length){var i=this.getSelectStatusSource(),s={source:i,checkboxes:!0,displayMember:"name",valueMember:"value",width:"100%",height:105};t.jqxListBox(s),e?$.each(e.split(","),function(e,i){t.jqxListBox("checkItem",i)}):t.jqxListBox("checkAll")}},this.getSelectStatusSource=function(){var e=[{name:lang.sent,value:"sent"},{name:lang.delivered,value:"delivered"},{name:lang.undelivered,value:"undelivered"},{name:lang.rejected,value:"rejected"}],t={dataType:"json",localdata:e,dataFields:[{name:"name",type:"string"},{name:"value",type:"string"}]};return this.selectStatusSource=new $.jqx.dataAdapter(t)},this.bindEvent=function(){$(document).on("click","#button-checkAll",this.onClickCheckAllApiUsers).on("click","#button-uncheckAll",this.onClickUncheckAllApiUsers)}},LoginPage=function(){this.bindEvent=function(){$("#refresh-captcha").on("click",this.onClickRefreshCaptcha.bind(this))},this.onClickRefreshCaptcha=function(e){e.preventDefault();var t=e.currentTarget.href;this.requestRefreshCaptcha(t)},this.requestRefreshCaptcha=function(e){return $.ajax({url:e,type:"GET"}).done(function(e){$("#refresh-captcha img.captcha").attr("src",e.source)})}},DeleteWindow=function(e){e=e||{};var t=e.deleteUrl,i=e.deleteWindowId||"window-delete",s=e.deleteWindowButtonId||"window-button-delete",r=e.closeWindowButtonId||"window-button-close",i=e.deleteWindowId||"window-delete",n=e.dataSource||{},a=e.successText||"Success delete data",o=e.failedText||"Failed delete data";this.init=function(){var t={draggable:!1,isModal:!0,resizable:!1,minHeight:100,cancelButton:$("#"+r)};$("#"+i).responsiveWindow(t),this.notify=new Notify,this.onDelete=e.onDelete||this.deleteRequest},this.openWindow=function(e){var t=$("#"+i);t.jqxWindow("open"),t.find(':input[name="data_id"]').val(e)},this.closeWindow=function(){$("#"+i).jqxWindow("close")},this.onClickDeleteWindowButton=function(e){var t=$("#"+i+' :input[name="data_id"]').val()||0,s=this;this.onDelete(t).done(function(e){e.deleted?(s.closeWindow(),n.dataBind&&n.dataBind(),s.notify.showSuccess(a)):s.notify.showFailed(o)}).fail(function(){}).always(this.closeWindow)},this.deleteRequest=function(e){var i={_method:"DELETE"};return $.ajax({url:t+"/"+e,type:"POST",dataType:"json",data:i})},this.bindEvent=function(){$(document).on("click","#"+i+" #"+s,this.onClickDeleteWindowButton.bind(this))}},Notify=function(){var e={pos:"top-center",timeout:3e3};this.showSuccess=function(t){var t='<i class="uk-icon-check"></i> '+t,i=$.extend(e,{status:"success"});UIkit.notify(t,i)},this.showFailed=function(t){var t='<i class="uk-icon-check"></i> '+t,i=$.extend(e,{status:"danger"});UIkit.notify(t,i)}},SelectActive=function(e){this.init=function(e){var t=$("#select-active");if(0!==t.length){var i=this.getSource(),s={source:i,displayMember:"name",valueMember:"client_id",width:"100%",height:28,dropDownHeight:80};t.jqxComboBox(s).on("bindingComplete",function(){if(e)for(var i=e.split(","),s=0;s<i.length;s++)t.jqxComboBox("val",i[s])})}},this.getSource=function(){var e=[{name:"All",value:""},{name:"Active",value:1},{name:"Inactive",value:0}],t={dataType:"json",localdata:e,dataFields:[{name:"name",type:"string"},{name:"value",type:"string"}]};return this.source=new $.jqx.dataAdapter(t)},this.getInputValue=function(){return $("#"+clientInputId).jqxComboBox("val")}},DatePicker=function(e){var e=e||{},t=e.inputId;this.init=function(e){var i=$("#"+t);if(0!==i.length){var s={displayMember:"name",valueMember:"value",selectedIndex:0,width:"100%",height:28,dropDownHeight:isSearching?80:55};i.jqxComboBox(s)}}},FileType=function(e){var e=e||{},t=e.isSearching||!1;this.init=function(e){var i=$("#select-file_type");if(0!==i.length){var s=this.getSource(),r={source:s,displayMember:"name",valueMember:"value",selectedIndex:0,width:"100%",height:28,dropDownHeight:t?80:55};i.jqxComboBox(r),e&&i.jqxComboBox("selectItem",e)}},this.getSource=function(){var e=[{name:lang.all,value:""},{name:"XLSX",value:"xlsx"},{name:"CSV",value:"csv"}];!1===t&&e.shift();var i={dataType:"json",localdata:e,dataFields:[{name:"name",type:"string"},{name:"value",type:"string"}]};return this.inputSource=new $.jqx.dataAdapter(i)}};
